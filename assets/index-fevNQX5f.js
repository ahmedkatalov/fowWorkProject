(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Ad={exports:{}},Ua={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function OC(){if(Gy)return Ua;Gy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Ua.Fragment=e,Ua.jsx=i,Ua.jsxs=i,Ua}var Yy;function IC(){return Yy||(Yy=1,Ad.exports=OC()),Ad.exports}var k=IC(),Nd={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function xC(){if(Ky)return le;Ky=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,L={};function H(S,B,W){this.props=S,this.context=B,this.refs=L,this.updater=W||C}H.prototype.isReactComponent={},H.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},H.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function P(){}P.prototype=H.prototype;function j(S,B,W){this.props=S,this.context=B,this.refs=L,this.updater=W||C}var K=j.prototype=new P;K.constructor=j,w(K,H.prototype),K.isPureReactComponent=!0;var Y=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function de(S,B,W,F,X,ye){return W=ye.ref,{$$typeof:n,type:S,key:B,ref:W!==void 0?W:null,props:ye}}function ge(S,B){return de(S.type,B,void 0,void 0,void 0,S.props)}function ae(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function Fe(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(W){return B[W]})}var yt=/\/+/g;function Qe(S,B){return typeof S=="object"&&S!==null&&S.key!=null?Fe(""+S.key):B.toString(36)}function zi(){}function Hi(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(zi,zi):(S.status="pending",S.then(function(B){S.status==="pending"&&(S.status="fulfilled",S.value=B)},function(B){S.status==="pending"&&(S.status="rejected",S.reason=B)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ft(S,B,W,F,X){var ye=typeof S;(ye==="undefined"||ye==="boolean")&&(S=null);var se=!1;if(S===null)se=!0;else switch(ye){case"bigint":case"string":case"number":se=!0;break;case"object":switch(S.$$typeof){case n:case e:se=!0;break;case _:return se=S._init,ft(se(S._payload),B,W,F,X)}}if(se)return X=X(S),se=F===""?"."+Qe(S,0):F,Y(X)?(W="",se!=null&&(W=se.replace(yt,"$&/")+"/"),ft(X,B,W,"",function(Xn){return Xn})):X!=null&&(ae(X)&&(X=ge(X,W+(X.key==null||S&&S.key===X.key?"":(""+X.key).replace(yt,"$&/")+"/")+se)),B.push(X)),1;se=0;var At=F===""?".":F+":";if(Y(S))for(var ke=0;ke<S.length;ke++)F=S[ke],ye=At+Qe(F,ke),se+=ft(F,B,W,ye,X);else if(ke=v(S),typeof ke=="function")for(S=ke.call(S),ke=0;!(F=S.next()).done;)F=F.value,ye=At+Qe(F,ke++),se+=ft(F,B,W,ye,X);else if(ye==="object"){if(typeof S.then=="function")return ft(Hi(S),B,W,F,X);throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return se}function M(S,B,W){if(S==null)return S;var F=[],X=0;return ft(S,F,"","",function(ye){return B.call(W,ye,X++)}),F}function G(S){if(S._status===-1){var B=S._result;B=B(),B.then(function(W){(S._status===0||S._status===-1)&&(S._status=1,S._result=W)},function(W){(S._status===0||S._status===-1)&&(S._status=2,S._result=W)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var ee=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Oe(){}return le.Children={map:M,forEach:function(S,B,W){M(S,function(){B.apply(this,arguments)},W)},count:function(S){var B=0;return M(S,function(){B++}),B},toArray:function(S){return M(S,function(B){return B})||[]},only:function(S){if(!ae(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},le.Component=H,le.Fragment=i,le.Profiler=l,le.PureComponent=j,le.StrictMode=s,le.Suspense=p,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,le.__COMPILER_RUNTIME={__proto__:null,c:function(S){return V.H.useMemoCache(S)}},le.cache=function(S){return function(){return S.apply(null,arguments)}},le.cloneElement=function(S,B,W){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var F=w({},S.props),X=S.key,ye=void 0;if(B!=null)for(se in B.ref!==void 0&&(ye=void 0),B.key!==void 0&&(X=""+B.key),B)!re.call(B,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&B.ref===void 0||(F[se]=B[se]);var se=arguments.length-2;if(se===1)F.children=W;else if(1<se){for(var At=Array(se),ke=0;ke<se;ke++)At[ke]=arguments[ke+2];F.children=At}return de(S.type,X,void 0,void 0,ye,F)},le.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},le.createElement=function(S,B,W){var F,X={},ye=null;if(B!=null)for(F in B.key!==void 0&&(ye=""+B.key),B)re.call(B,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(X[F]=B[F]);var se=arguments.length-2;if(se===1)X.children=W;else if(1<se){for(var At=Array(se),ke=0;ke<se;ke++)At[ke]=arguments[ke+2];X.children=At}if(S&&S.defaultProps)for(F in se=S.defaultProps,se)X[F]===void 0&&(X[F]=se[F]);return de(S,ye,void 0,void 0,null,X)},le.createRef=function(){return{current:null}},le.forwardRef=function(S){return{$$typeof:h,render:S}},le.isValidElement=ae,le.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:G}},le.memo=function(S,B){return{$$typeof:m,type:S,compare:B===void 0?null:B}},le.startTransition=function(S){var B=V.T,W={};V.T=W;try{var F=S(),X=V.S;X!==null&&X(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Oe,ee)}catch(ye){ee(ye)}finally{V.T=B}},le.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},le.use=function(S){return V.H.use(S)},le.useActionState=function(S,B,W){return V.H.useActionState(S,B,W)},le.useCallback=function(S,B){return V.H.useCallback(S,B)},le.useContext=function(S){return V.H.useContext(S)},le.useDebugValue=function(){},le.useDeferredValue=function(S,B){return V.H.useDeferredValue(S,B)},le.useEffect=function(S,B,W){var F=V.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(S,B)},le.useId=function(){return V.H.useId()},le.useImperativeHandle=function(S,B,W){return V.H.useImperativeHandle(S,B,W)},le.useInsertionEffect=function(S,B){return V.H.useInsertionEffect(S,B)},le.useLayoutEffect=function(S,B){return V.H.useLayoutEffect(S,B)},le.useMemo=function(S,B){return V.H.useMemo(S,B)},le.useOptimistic=function(S,B){return V.H.useOptimistic(S,B)},le.useReducer=function(S,B,W){return V.H.useReducer(S,B,W)},le.useRef=function(S){return V.H.useRef(S)},le.useState=function(S){return V.H.useState(S)},le.useSyncExternalStore=function(S,B,W){return V.H.useSyncExternalStore(S,B,W)},le.useTransition=function(){return V.H.useTransition()},le.version="19.1.0",le}var Wy;function Hu(){return Wy||(Wy=1,Nd.exports=xC()),Nd.exports}var x=Hu(),Od={exports:{}},Pa={},Id={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function DC(){return Qy||(Qy=1,function(n){function e(M,G){var ee=M.length;M.push(G);e:for(;0<ee;){var Oe=ee-1>>>1,S=M[Oe];if(0<l(S,G))M[Oe]=G,M[ee]=S,ee=Oe;else break e}}function i(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var G=M[0],ee=M.pop();if(ee!==G){M[0]=ee;e:for(var Oe=0,S=M.length,B=S>>>1;Oe<B;){var W=2*(Oe+1)-1,F=M[W],X=W+1,ye=M[X];if(0>l(F,ee))X<S&&0>l(ye,F)?(M[Oe]=ye,M[X]=ee,Oe=X):(M[Oe]=F,M[W]=ee,Oe=W);else if(X<S&&0>l(ye,ee))M[Oe]=ye,M[X]=ee,Oe=X;else break e}}return G}function l(M,G){var ee=M.sortIndex-G.sortIndex;return ee!==0?ee:M.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var p=[],m=[],_=1,b=null,v=3,C=!1,w=!1,L=!1,H=!1,P=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Y(M){for(var G=i(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=M)s(m),G.sortIndex=G.expirationTime,e(p,G);else break;G=i(m)}}function V(M){if(L=!1,Y(M),!w)if(i(p)!==null)w=!0,re||(re=!0,Qe());else{var G=i(m);G!==null&&ft(V,G.startTime-M)}}var re=!1,de=-1,ge=5,ae=-1;function Fe(){return H?!0:!(n.unstable_now()-ae<ge)}function yt(){if(H=!1,re){var M=n.unstable_now();ae=M;var G=!0;try{e:{w=!1,L&&(L=!1,j(de),de=-1),C=!0;var ee=v;try{t:{for(Y(M),b=i(p);b!==null&&!(b.expirationTime>M&&Fe());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,v=b.priorityLevel;var S=Oe(b.expirationTime<=M);if(M=n.unstable_now(),typeof S=="function"){b.callback=S,Y(M),G=!0;break t}b===i(p)&&s(p),Y(M)}else s(p);b=i(p)}if(b!==null)G=!0;else{var B=i(m);B!==null&&ft(V,B.startTime-M),G=!1}}break e}finally{b=null,v=ee,C=!1}G=void 0}}finally{G?Qe():re=!1}}}var Qe;if(typeof K=="function")Qe=function(){K(yt)};else if(typeof MessageChannel<"u"){var zi=new MessageChannel,Hi=zi.port2;zi.port1.onmessage=yt,Qe=function(){Hi.postMessage(null)}}else Qe=function(){P(yt,0)};function ft(M,G){de=P(function(){M(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(M){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var ee=v;v=G;try{return M()}finally{v=ee}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=v;v=M;try{return G()}finally{v=ee}},n.unstable_scheduleCallback=function(M,G,ee){var Oe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Oe+ee:Oe):ee=Oe,M){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ee+S,M={id:_++,callback:G,priorityLevel:M,startTime:ee,expirationTime:S,sortIndex:-1},ee>Oe?(M.sortIndex=ee,e(m,M),i(p)===null&&M===i(m)&&(L?(j(de),de=-1):L=!0,ft(V,ee-Oe))):(M.sortIndex=S,e(p,M),w||C||(w=!0,re||(re=!0,Qe()))),M},n.unstable_shouldYield=Fe,n.unstable_wrapCallback=function(M){var G=v;return function(){var ee=v;v=G;try{return M.apply(this,arguments)}finally{v=ee}}}}(xd)),xd}var $y;function MC(){return $y||($y=1,Id.exports=DC()),Id.exports}var Dd={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function kC(){if(Xy)return pt;Xy=1;var n=Hu();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:m,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},pt.flushSync=function(p){var m=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=_,s.d.f()}},pt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},pt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,b=h(_,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},pt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,b=h(_,m.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},pt.requestFormReset=function(p){s.d.r(p)},pt.unstable_batchedUpdates=function(p,m){return p(m)},pt.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.1.0",pt}var Zy;function LC(){if(Zy)return Dd.exports;Zy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dd.exports=kC(),Dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function UC(){if(Jy)return Pa;Jy=1;var n=MC(),e=Hu(),i=LC();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return h(c),t;if(d===o)return h(c),r;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=c,o=d;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,o=d;break}if(y===o){g=!0,o=c,a=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===a){g=!0,a=d,o=c;break}if(y===o){g=!0,o=d,a=c;break}y=y.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),Fe=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Qe(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var zi=Symbol.for("react.client.reference");function Hi(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zi?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case re:return"SuspenseList";case ae:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case K:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case Y:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case de:return r=t.displayName||null,r!==null?r:Hi(t.type)||"Memo";case ge:r=t._payload,t=t._init;try{return Hi(t(r))}catch{}}return null}var ft=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Oe=[],S=-1;function B(t){return{current:t}}function W(t){0>S||(t.current=Oe[S],Oe[S]=null,S--)}function F(t,r){S++,Oe[S]=t.current,t.current=r}var X=B(null),ye=B(null),se=B(null),At=B(null);function ke(t,r){switch(F(se,r),F(ye,t),F(X,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?vy(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=vy(r),t=by(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(X),F(X,t)}function Xn(){W(X),W(ye),W(se)}function fc(t){t.memoizedState!==null&&F(At,t);var r=X.current,a=by(r,t.type);r!==a&&(F(ye,t),F(X,a))}function Il(t){ye.current===t&&(W(X),W(ye)),At.current===t&&(W(At),xa._currentValue=ee)}var dc=Object.prototype.hasOwnProperty,hc=n.unstable_scheduleCallback,pc=n.unstable_cancelCallback,lT=n.unstable_shouldYield,oT=n.unstable_requestPaint,fn=n.unstable_now,uT=n.unstable_getCurrentPriorityLevel,Jp=n.unstable_ImmediatePriority,em=n.unstable_UserBlockingPriority,xl=n.unstable_NormalPriority,cT=n.unstable_LowPriority,tm=n.unstable_IdlePriority,fT=n.log,dT=n.unstable_setDisableYieldValue,Hs=null,Nt=null;function Zn(t){if(typeof fT=="function"&&dT(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Hs,t)}catch{}}var Ot=Math.clz32?Math.clz32:mT,hT=Math.log,pT=Math.LN2;function mT(t){return t>>>=0,t===0?32:31-(hT(t)/pT|0)|0}var Dl=256,Ml=4194304;function Bi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kl(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=o&134217727;return y!==0?(o=y&~d,o!==0?c=Bi(o):(g&=y,g!==0?c=Bi(g):a||(a=y&~t,a!==0&&(c=Bi(a))))):(y=o&~d,y!==0?c=Bi(y):g!==0?c=Bi(g):a||(a=o&~t,a!==0&&(c=Bi(a)))),c===0?0:r!==0&&r!==c&&(r&d)===0&&(d=c&-c,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:c}function Bs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function gT(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(){var t=Dl;return Dl<<=1,(Dl&4194048)===0&&(Dl=256),t}function im(){var t=Ml;return Ml<<=1,(Ml&62914560)===0&&(Ml=4194304),t}function mc(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function js(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _T(t,r,a,o,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,E=t.expirationTimes,N=t.hiddenUpdates;for(a=g&~a;0<a;){var D=31-Ot(a),z=1<<D;y[D]=0,E[D]=-1;var O=N[D];if(O!==null)for(N[D]=null,D=0;D<O.length;D++){var I=O[D];I!==null&&(I.lane&=-536870913)}a&=~z}o!==0&&rm(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~r))}function rm(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Ot(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function sm(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Ot(a),c=1<<o;c&r|t[o]&r&&(t[o]|=r),a&=~c}}function gc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _c(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function am(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Hy(t.type))}function yT(t,r){var a=G.p;try{return G.p=t,r()}finally{G.p=a}}var Jn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Jn,vt="__reactProps$"+Jn,Nr="__reactContainer$"+Jn,yc="__reactEvents$"+Jn,vT="__reactListeners$"+Jn,bT="__reactHandles$"+Jn,lm="__reactResources$"+Jn,qs="__reactMarker$"+Jn;function vc(t){delete t[dt],delete t[vt],delete t[yc],delete t[vT],delete t[bT]}function Or(t){var r=t[dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Nr]||a[dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=wy(t);t!==null;){if(a=t[dt])return a;t=wy(t)}return r}t=a,a=t.parentNode}return null}function Ir(t){if(t=t[dt]||t[Nr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Vs(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xr(t){var r=t[lm];return r||(r=t[lm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $e(t){t[qs]=!0}var om=new Set,um={};function ji(t,r){Dr(t,r),Dr(t+"Capture",r)}function Dr(t,r){for(um[t]=r,t=0;t<r.length;t++)om.add(r[t])}var ET=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cm={},fm={};function ST(t){return dc.call(fm,t)?!0:dc.call(cm,t)?!1:ET.test(t)?fm[t]=!0:(cm[t]=!0,!1)}function Ll(t,r,a){if(ST(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ul(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Tn(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var bc,dm;function Mr(t){if(bc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);bc=r&&r[1]||"",dm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bc+t+dm}var Ec=!1;function Sc(t,r){if(!t||Ec)return"";Ec=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(I){var O=I}Reflect.construct(t,[],z)}else{try{z.call()}catch(I){O=I}t.call(z.prototype)}}else{try{throw Error()}catch(I){O=I}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(I){if(I&&O&&typeof I.stack=="string")return[I.stack,O.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],y=d[1];if(g&&y){var E=g.split(`
`),N=y.split(`
`);for(c=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(o===E.length||c===N.length)for(o=E.length-1,c=N.length-1;1<=o&&0<=c&&E[o]!==N[c];)c--;for(;1<=o&&0<=c;o--,c--)if(E[o]!==N[c]){if(o!==1||c!==1)do if(o--,c--,0>c||E[o]!==N[c]){var D=`
`+E[o].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=o&&0<=c);break}}}finally{Ec=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mr(a):""}function TT(t){switch(t.tag){case 26:case 27:case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return Sc(t.type,!1);case 11:return Sc(t.type.render,!1);case 1:return Sc(t.type,!0);case 31:return Mr("Activity");default:return""}}function hm(t){try{var r="";do r+=TT(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pm(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wT(t){var r=pm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Pl(t){t._valueTracker||(t._valueTracker=wT(t))}function mm(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=pm(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var CT=/[\n"\\]/g;function jt(t){return t.replace(CT,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tc(t,r,a,o,c,d,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Bt(r)):t.value!==""+Bt(r)&&(t.value=""+Bt(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?wc(t,g,Bt(r)):a!=null?wc(t,g,Bt(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Bt(y):t.removeAttribute("name")}function gm(t,r,a,o,c,d,g,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Bt(a):"",r=r!=null?""+Bt(r):a,y||r===t.value||(t.value=r),t.defaultValue=r}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=y?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function wc(t,r,a){r==="number"&&zl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,o){if(t=t.options,r){r={};for(var c=0;c<a.length;c++)r["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=r.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),r=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function _m(t,r,a){if(r!=null&&(r=""+Bt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Bt(a):""}function ym(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(ft(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Bt(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Lr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var RT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vm(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||RT.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function bm(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in r)o=r[c],r.hasOwnProperty(c)&&a[c]!==o&&vm(t,c,o)}else for(var d in r)r.hasOwnProperty(d)&&vm(t,d,r[d])}function Cc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(t){return NT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rc=null;function Ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,Pr=null;function Em(t){var r=Ir(t);if(r&&(t=r.stateNode)){var a=t[vt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Tc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var c=o[vt]||null;if(!c)throw Error(s(90));Tc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&mm(o)}break e;case"textarea":_m(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var Nc=!1;function Sm(t,r,a){if(Nc)return t(r,a);Nc=!0;try{var o=t(r);return o}finally{if(Nc=!1,(Ur!==null||Pr!==null)&&(Co(),Ur&&(r=Ur,t=Pr,Pr=Ur=null,Em(r),t)))for(r=0;r<t.length;r++)Em(t[r])}}function Fs(t,r){var a=t.stateNode;if(a===null)return null;var o=a[vt]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(wn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Oc=!1}var ei=null,Ic=null,Bl=null;function Tm(){if(Bl)return Bl;var t,r=Ic,a=r.length,o,c="value"in ei?ei.value:ei.textContent,d=c.length;for(t=0;t<a&&r[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&r[a-o]===c[d-o];o++);return Bl=c.slice(t,1<o?1-o:void 0)}function jl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function wm(){return!1}function bt(t){function r(a,o,c,d,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ql:wm,this.isPropagationStopped=wm,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),r}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=bt(qi),Ys=_({},qi,{view:0,detail:0}),OT=bt(Ys),xc,Dc,Ks,Fl=_({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(xc=t.screenX-Ks.screenX,Dc=t.screenY-Ks.screenY):Dc=xc=0,Ks=t),xc)},movementY:function(t){return"movementY"in t?t.movementY:Dc}}),Cm=bt(Fl),IT=_({},Fl,{dataTransfer:0}),xT=bt(IT),DT=_({},Ys,{relatedTarget:0}),Mc=bt(DT),MT=_({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=bt(MT),LT=_({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UT=bt(LT),PT=_({},qi,{data:0}),Rm=bt(PT),zT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jT(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=BT[t])?!!r[t]:!1}function kc(){return jT}var qT=_({},Ys,{key:function(t){if(t.key){var r=zT[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VT=bt(qT),FT=_({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=bt(FT),GT=_({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),YT=bt(GT),KT=_({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),WT=bt(KT),QT=_({},Fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$T=bt(QT),XT=_({},qi,{newState:0,oldState:0}),ZT=bt(XT),JT=[9,13,27,32],Lc=wn&&"CompositionEvent"in window,Ws=null;wn&&"documentMode"in document&&(Ws=document.documentMode);var ew=wn&&"TextEvent"in window&&!Ws,Nm=wn&&(!Lc||Ws&&8<Ws&&11>=Ws),Om=" ",Im=!1;function xm(t,r){switch(t){case"keyup":return JT.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function tw(t,r){switch(t){case"compositionend":return Dm(r);case"keypress":return r.which!==32?null:(Im=!0,Om);case"textInput":return t=r.data,t===Om&&Im?null:t;default:return null}}function nw(t,r){if(zr)return t==="compositionend"||!Lc&&xm(t,r)?(t=Tm(),Bl=Ic=ei=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Nm&&r.locale!=="ko"?null:r.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!iw[t.type]:r==="textarea"}function km(t,r,a,o){Ur?Pr?Pr.push(o):Pr=[o]:Ur=o,r=xo(r,"onChange"),0<r.length&&(a=new Vl("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Qs=null,$s=null;function rw(t){py(t,0)}function Gl(t){var r=Vs(t);if(mm(r))return t}function Lm(t,r){if(t==="change")return r}var Um=!1;if(wn){var Uc;if(wn){var Pc="oninput"in document;if(!Pc){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),Pc=typeof Pm.oninput=="function"}Uc=Pc}else Uc=!1;Um=Uc&&(!document.documentMode||9<document.documentMode)}function zm(){Qs&&(Qs.detachEvent("onpropertychange",Hm),$s=Qs=null)}function Hm(t){if(t.propertyName==="value"&&Gl($s)){var r=[];km(r,$s,t,Ac(t)),Sm(rw,r)}}function sw(t,r,a){t==="focusin"?(zm(),Qs=r,$s=a,Qs.attachEvent("onpropertychange",Hm)):t==="focusout"&&zm()}function aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gl($s)}function lw(t,r){if(t==="click")return Gl(r)}function ow(t,r){if(t==="input"||t==="change")return Gl(r)}function uw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var It=typeof Object.is=="function"?Object.is:uw;function Xs(t,r){if(It(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!dc.call(r,c)||!It(t[c],r[c]))return!1}return!0}function Bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,r){var a=Bm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bm(a)}}function qm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?qm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=zl(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=zl(t.document)}return r}function zc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var cw=wn&&"documentMode"in document&&11>=document.documentMode,Hr=null,Hc=null,Zs=null,Bc=!1;function Fm(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||Hr==null||Hr!==zl(o)||(o=Hr,"selectionStart"in o&&zc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zs&&Xs(Zs,o)||(Zs=o,o=xo(Hc,"onSelect"),0<o.length&&(r=new Vl("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Hr)))}function Vi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Br={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},jc={},Gm={};wn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Fi(t){if(jc[t])return jc[t];if(!Br[t])return t;var r=Br[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gm)return jc[t]=r[a];return t}var Ym=Fi("animationend"),Km=Fi("animationiteration"),Wm=Fi("animationstart"),fw=Fi("transitionrun"),dw=Fi("transitionstart"),hw=Fi("transitioncancel"),Qm=Fi("transitionend"),$m=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function Zt(t,r){$m.set(t,r),ji(r,[t])}var Xm=new WeakMap;function qt(t,r){if(typeof t=="object"&&t!==null){var a=Xm.get(t);return a!==void 0?a:(r={value:t,source:r,stack:hm(r)},Xm.set(t,r),r)}return{value:t,source:r,stack:hm(r)}}var Vt=[],jr=0,Vc=0;function Yl(){for(var t=jr,r=Vc=jr=0;r<t;){var a=Vt[r];Vt[r++]=null;var o=Vt[r];Vt[r++]=null;var c=Vt[r];Vt[r++]=null;var d=Vt[r];if(Vt[r++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&Zm(a,c,d)}}function Kl(t,r,a,o){Vt[jr++]=t,Vt[jr++]=r,Vt[jr++]=a,Vt[jr++]=o,Vc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fc(t,r,a,o){return Kl(t,r,a,o),Wl(t)}function qr(t,r){return Kl(t,null,null,r),Wl(t)}function Zm(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&r!==null&&(c=31-Ot(a),t=d.hiddenUpdates,o=t[c],o===null?t[c]=[r]:o.push(r),r.lane=a|536870912),d):null}function Wl(t){if(50<Ta)throw Ta=0,Xf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Vr={};function pw(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,r,a,o){return new pw(t,r,a,o)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cn(t,r){var a=t.alternate;return a===null?(a=xt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jm(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ql(t,r,a,o,c,d){var g=0;if(o=t,typeof t=="function")Gc(t)&&(g=1);else if(typeof t=="string")g=gC(t,a,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ae:return t=xt(31,a,r,c),t.elementType=ae,t.lanes=d,t;case w:return Gi(a.children,c,d,r);case L:g=8,c|=24;break;case H:return t=xt(12,a,r,c|2),t.elementType=H,t.lanes=d,t;case V:return t=xt(13,a,r,c),t.elementType=V,t.lanes=d,t;case re:return t=xt(19,a,r,c),t.elementType=re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case K:g=10;break e;case j:g=9;break e;case Y:g=11;break e;case de:g=14;break e;case ge:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=xt(g,a,r,c),r.elementType=t,r.type=o,r.lanes=d,r}function Gi(t,r,a,o){return t=xt(7,t,o,r),t.lanes=a,t}function Yc(t,r,a){return t=xt(6,t,null,r),t.lanes=a,t}function Kc(t,r,a){return r=xt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Fr=[],Gr=0,$l=null,Xl=0,Ft=[],Gt=0,Yi=null,Rn=1,An="";function Ki(t,r){Fr[Gr++]=Xl,Fr[Gr++]=$l,$l=t,Xl=r}function eg(t,r,a){Ft[Gt++]=Rn,Ft[Gt++]=An,Ft[Gt++]=Yi,Yi=t;var o=Rn;t=An;var c=32-Ot(o)-1;o&=~(1<<c),a+=1;var d=32-Ot(r)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Rn=1<<32-Ot(r)+c|a<<c|o,An=d+t}else Rn=1<<d|a<<c|o,An=t}function Wc(t){t.return!==null&&(Ki(t,1),eg(t,1,0))}function Qc(t){for(;t===$l;)$l=Fr[--Gr],Fr[Gr]=null,Xl=Fr[--Gr],Fr[Gr]=null;for(;t===Yi;)Yi=Ft[--Gt],Ft[Gt]=null,An=Ft[--Gt],Ft[Gt]=null,Rn=Ft[--Gt],Ft[Gt]=null}var mt=null,ze=null,be=!1,Wi=null,dn=!1,$c=Error(s(519));function Qi(t){var r=Error(s(418,""));throw ta(qt(r,t)),$c}function tg(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[dt]=t,r[vt]=o,a){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(a=0;a<Ca.length;a++)pe(Ca[a],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":pe("invalid",r),gm(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Pl(r);break;case"select":pe("invalid",r);break;case"textarea":pe("invalid",r),ym(r,o.value,o.defaultValue,o.children),Pl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||yy(r.textContent,a)?(o.popover!=null&&(pe("beforetoggle",r),pe("toggle",r)),o.onScroll!=null&&pe("scroll",r),o.onScrollEnd!=null&&pe("scrollend",r),o.onClick!=null&&(r.onclick=Do),r=!0):r=!1,r||Qi(t)}function ng(t){for(mt=t.return;mt;)switch(mt.tag){case 5:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:mt=mt.return}}function Js(t){if(t!==mt)return!1;if(!be)return ng(t),be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hd(t.type,t.memoizedProps)),a=!a),a&&ze&&Qi(t),ng(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ze=en(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ze=null}}else r===27?(r=ze,gi(t.type)?(t=_d,_d=null,ze=t):ze=r):ze=mt?en(t.stateNode.nextSibling):null;return!0}function ea(){ze=mt=null,be=!1}function ig(){var t=Wi;return t!==null&&(Tt===null?Tt=t:Tt.push.apply(Tt,t),Wi=null),t}function ta(t){Wi===null?Wi=[t]:Wi.push(t)}var Xc=B(null),$i=null,Nn=null;function ti(t,r,a){F(Xc,r._currentValue),r._currentValue=a}function On(t){t._currentValue=Xc.current,W(Xc)}function Zc(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function Jc(t,r,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var E=0;E<r.length;E++)if(y.context===r[E]){d.lanes|=a,y=d.alternate,y!==null&&(y.lanes|=a),Zc(d.return,a,t),o||(g=null);break e}d=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Zc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function na(t,r,a,o){t=null;for(var c=r,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var y=c.type;It(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===At.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xa):t=[xa])}c=c.return}t!==null&&Jc(r,t,a,o),r.flags|=262144}function Zl(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xi(t){$i=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return rg($i,t)}function Jl(t,r){return $i===null&&Xi(t),rg(t,r)}function rg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Nn===null){if(t===null)throw Error(s(308));Nn=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Nn=Nn.next=r;return a}var mw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},gw=n.unstable_scheduleCallback,_w=n.unstable_NormalPriority,Ke={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new mw,data:new Map,refCount:0}}function ia(t){t.refCount--,t.refCount===0&&gw(_w,function(){t.controller.abort()})}var ra=null,tf=0,Yr=0,Kr=null;function yw(t,r){if(ra===null){var a=ra=[];tf=0,Yr=rd(),Kr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return tf++,r.then(sg,sg),r}function sg(){if(--tf===0&&ra!==null){Kr!==null&&(Kr.status="fulfilled");var t=ra;ra=null,Yr=0,Kr=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function vw(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var c=0;c<a.length;c++)(0,a[c])(r)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var ag=M.S;M.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yw(t,r),ag!==null&&ag(t,r)};var Zi=B(null);function nf(){var t=Zi.current;return t!==null?t:xe.pooledCache}function eo(t,r){r===null?F(Zi,Zi.current):F(Zi,r.pool)}function lg(){var t=nf();return t===null?null:{parent:Ke._currentValue,pool:t}}var sa=Error(s(460)),og=Error(s(474)),to=Error(s(542)),rf={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function no(){}function cg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(no,no),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,dg(t),t;default:if(typeof r.status=="string")r.then(no,no);else{if(t=xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var c=r;c.status="fulfilled",c.value=o}},function(o){if(r.status==="pending"){var c=r;c.status="rejected",c.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,dg(t),t}throw aa=r,sa}}var aa=null;function fg(){if(aa===null)throw Error(s(459));var t=aa;return aa=null,t}function dg(t){if(t===sa||t===to)throw Error(s(483))}var ni=!1;function sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Se&2)!==0){var c=o.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),o.pending=r,r=Wl(t),Zm(t,null,a),r}return Kl(t,o,r,a),Wl(t)}function la(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,sm(t,a)}}function lf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=r:d=d.next=r}else c=d=r;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var of=!1;function oa(){if(of){var t=Kr;if(t!==null)throw t}}function ua(t,r,a,o){of=!1;var c=t.updateQueue;ni=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var E=y,N=E.next;E.next=null,g===null?d=N:g.next=N,g=E;var D=t.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==g&&(y===null?D.firstBaseUpdate=N:y.next=N,D.lastBaseUpdate=E))}if(d!==null){var z=c.baseState;g=0,D=N=E=null,y=d;do{var O=y.lane&-536870913,I=O!==y.lane;if(I?(_e&O)===O:(o&O)===O){O!==0&&O===Yr&&(of=!0),D!==null&&(D=D.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ne=t,Z=y;O=r;var Re=a;switch(Z.tag){case 1:if(ne=Z.payload,typeof ne=="function"){z=ne.call(Re,z,O);break e}z=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=Z.payload,O=typeof ne=="function"?ne.call(Re,z,O):ne,O==null)break e;z=_({},z,O);break e;case 2:ni=!0}}O=y.callback,O!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[O]:I.push(O))}else I={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(N=D=I,E=z):D=D.next=I,g|=O;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;I=y,y=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);D===null&&(E=z),c.baseState=E,c.firstBaseUpdate=N,c.lastBaseUpdate=D,d===null&&(c.shared.lanes=0),di|=g,t.lanes=g,t.memoizedState=z}}function hg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function pg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hg(a[t],r)}var Wr=B(null),io=B(0);function mg(t,r){t=Un,F(io,t),F(Wr,r),Un=t|r.baseLanes}function uf(){F(io,Un),F(Wr,Wr.current)}function cf(){Un=io.current,W(Wr),W(io)}var si=0,oe=null,we=null,Ge=null,ro=!1,Qr=!1,Ji=!1,so=0,ca=0,$r=null,bw=0;function qe(){throw Error(s(321))}function ff(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!It(t[a],r[a]))return!1;return!0}function df(t,r,a,o,c,d){return si=d,oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,M.H=t===null||t.memoizedState===null?Zg:Jg,Ji=!1,d=a(o,c),Ji=!1,Qr&&(d=_g(r,a,o,c)),gg(t),d}function gg(t){M.H=fo;var r=we!==null&&we.next!==null;if(si=0,Ge=we=oe=null,ro=!1,ca=0,$r=null,r)throw Error(s(300));t===null||Xe||(t=t.dependencies,t!==null&&Zl(t)&&(Xe=!0))}function _g(t,r,a,o){oe=t;var c=0;do{if(Qr&&($r=null),ca=0,Qr=!1,25<=c)throw Error(s(301));if(c+=1,Ge=we=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Aw,d=r(a,o)}while(Qr);return d}function Ew(){var t=M.H,r=t.useState()[0];return r=typeof r.then=="function"?fa(r):r,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(oe.flags|=1024),r}function hf(){var t=so!==0;return so=0,t}function pf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function mf(t){if(ro){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ro=!1}si=0,Ge=we=oe=null,Qr=!1,ca=so=0,$r=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?oe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Ye(){if(we===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var r=Ge===null?oe.memoizedState:Ge.next;if(r!==null)Ge=r,we=t;else{if(t===null)throw oe.alternate===null?Error(s(467)):Error(s(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ge===null?oe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fa(t){var r=ca;return ca+=1,$r===null&&($r=[]),t=cg($r,t,r),r=oe,(Ge===null?r.memoizedState:Ge.next)===null&&(r=r.alternate,M.H=r===null||r.memoizedState===null?Zg:Jg),t}function ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fa(t);if(t.$$typeof===K)return ht(t)}throw Error(s(438,String(t)))}function _f(t){var r=null,a=oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(c){return c.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gf(),oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=Fe;return r.index++,a}function In(t,r){return typeof r=="function"?r(t):r}function lo(t){var r=Ye();return yf(r,we,t)}function yf(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}r.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{r=c.next;var y=g=null,E=null,N=r,D=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(_e&z)===z:(si&z)===z){var O=N.revertLane;if(O===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===Yr&&(D=!0);else if((si&O)===O){N=N.next,O===Yr&&(D=!0);continue}else z={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(y=E=z,g=d):E=E.next=z,oe.lanes|=O,di|=O;z=N.action,Ji&&a(d,z),d=N.hasEagerState?N.eagerState:a(d,z)}else O={lane:z,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(y=E=O,g=d):E=E.next=O,oe.lanes|=z,di|=z;N=N.next}while(N!==null&&N!==r);if(E===null?g=d:E.next=y,!It(d,t.memoizedState)&&(Xe=!0,D&&(a=Kr,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=E,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vf(t){var r=Ye(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=r.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);It(d,r.memoizedState)||(Xe=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,o]}function yg(t,r,a){var o=oe,c=Ye(),d=be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!It((we||c).memoizedState,a);g&&(c.memoizedState=a,Xe=!0),c=c.queue;var y=Eg.bind(null,o,c,t);if(da(2048,8,y,[t]),c.getSnapshot!==r||g||Ge!==null&&Ge.memoizedState.tag&1){if(o.flags|=2048,Xr(9,oo(),bg.bind(null,o,c,a,r),null),xe===null)throw Error(s(349));d||(si&124)!==0||vg(o,r,a)}return a}function vg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=oe.updateQueue,r===null?(r=gf(),oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function bg(t,r,a,o){r.value=a,r.getSnapshot=o,Sg(r)&&Tg(t)}function Eg(t,r,a){return a(function(){Sg(r)&&Tg(t)})}function Sg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!It(t,a)}catch{return!0}}function Tg(t){var r=qr(t,2);r!==null&&Ut(r,t,2)}function bf(t){var r=Et();if(typeof t=="function"){var a=t;if(t=a(),Ji){Zn(!0);try{a()}finally{Zn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:t},r}function wg(t,r,a,o){return t.baseState=a,yf(t,we,typeof o=="function"?o:In)}function Sw(t,r,a,o,c){if(co(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};M.T!==null?a(!0):d.isTransition=!1,o(d),a=r.pending,a===null?(d.next=r.pending=d,Cg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Cg(t,r){var a=r.action,o=r.payload,c=t.state;if(r.isTransition){var d=M.T,g={};M.T=g;try{var y=a(c,o),E=M.S;E!==null&&E(g,y),Rg(t,r,y)}catch(N){Ef(t,r,N)}finally{M.T=d}}else try{d=a(c,o),Rg(t,r,d)}catch(N){Ef(t,r,N)}}function Rg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ag(t,r,o)},function(o){return Ef(t,r,o)}):Ag(t,r,a)}function Ag(t,r,a){r.status="fulfilled",r.value=a,Ng(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Cg(t,a)))}function Ef(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Ng(r),r=r.next;while(r!==o)}t.action=null}function Ng(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Og(t,r){return r}function Ig(t,r){if(be){var a=xe.formState;if(a!==null){e:{var o=oe;if(be){if(ze){t:{for(var c=ze,d=dn;c.nodeType!==8;){if(!d){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){ze=en(c.nextSibling),o=c.data==="F!";break e}}Qi(o)}o=!1}o&&(r=a[0])}}return a=Et(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:r},a.queue=o,a=Qg.bind(null,oe,o),o.dispatch=a,o=bf(!1),d=Rf.bind(null,oe,!1,o.queue),o=Et(),c={state:r,dispatch:null,action:t,pending:null},o.queue=c,a=Sw.bind(null,oe,c,d,a),c.dispatch=a,o.memoizedState=t,[r,a,!1]}function xg(t){var r=Ye();return Dg(r,we,t)}function Dg(t,r,a){if(r=yf(t,r,Og)[0],t=lo(In)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=fa(r)}catch(g){throw g===sa?to:g}else o=r;r=Ye();var c=r.queue,d=c.dispatch;return a!==r.memoizedState&&(oe.flags|=2048,Xr(9,oo(),Tw.bind(null,c,a),null)),[o,d,t]}function Tw(t,r){t.action=r}function Mg(t){var r=Ye(),a=we;if(a!==null)return Dg(r,a,t);Ye(),r=r.memoizedState,a=Ye();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Xr(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=oe.updateQueue,r===null&&(r=gf(),oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function oo(){return{destroy:void 0,resource:void 0}}function kg(){return Ye().memoizedState}function uo(t,r,a,o){var c=Et();o=o===void 0?null:o,oe.flags|=t,c.memoizedState=Xr(1|r,oo(),a,o)}function da(t,r,a,o){var c=Ye();o=o===void 0?null:o;var d=c.memoizedState.inst;we!==null&&o!==null&&ff(o,we.memoizedState.deps)?c.memoizedState=Xr(r,d,a,o):(oe.flags|=t,c.memoizedState=Xr(1|r,d,a,o))}function Lg(t,r){uo(8390656,8,t,r)}function Ug(t,r){da(2048,8,t,r)}function Pg(t,r){return da(4,2,t,r)}function zg(t,r){return da(4,4,t,r)}function Hg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Bg(t,r,a){a=a!=null?a.concat([t]):null,da(4,4,Hg.bind(null,r,t),a)}function Sf(){}function jg(t,r){var a=Ye();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&ff(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function qg(t,r){var a=Ye();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&ff(r,o[1]))return o[0];if(o=t(),Ji){Zn(!0);try{t()}finally{Zn(!1)}}return a.memoizedState=[o,r],o}function Tf(t,r,a){return a===void 0||(si&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=G_(),oe.lanes|=t,di|=t,a)}function Vg(t,r,a,o){return It(a,r)?a:Wr.current!==null?(t=Tf(t,a,o),It(t,r)||(Xe=!0),t):(si&42)===0?(Xe=!0,t.memoizedState=a):(t=G_(),oe.lanes|=t,di|=t,r)}function Fg(t,r,a,o,c){var d=G.p;G.p=d!==0&&8>d?d:8;var g=M.T,y={};M.T=y,Rf(t,!1,r,a);try{var E=c(),N=M.S;if(N!==null&&N(y,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var D=vw(E,o);ha(t,r,D,Lt(t))}else ha(t,r,o,Lt(t))}catch(z){ha(t,r,{then:function(){},status:"rejected",reason:z},Lt())}finally{G.p=d,M.T=g}}function ww(){}function wf(t,r,a,o){if(t.tag!==5)throw Error(s(476));var c=Gg(t).queue;Fg(t,c,r,ee,a===null?ww:function(){return Yg(t),a(o)})}function Gg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:ee},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Yg(t){var r=Gg(t).next.queue;ha(t,r,{},Lt())}function Cf(){return ht(xa)}function Kg(){return Ye().memoizedState}function Wg(){return Ye().memoizedState}function Cw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Lt();t=ii(a);var o=ri(r,t,a);o!==null&&(Ut(o,r,a),la(o,r,a)),r={cache:ef()},t.payload=r;return}r=r.return}}function Rw(t,r,a){var o=Lt();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},co(t)?$g(r,a):(a=Fc(t,r,a,o),a!==null&&(Ut(a,t,o),Xg(a,r,o)))}function Qg(t,r,a){var o=Lt();ha(t,r,a,o)}function ha(t,r,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(co(t))$g(r,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var g=r.lastRenderedState,y=d(g,a);if(c.hasEagerState=!0,c.eagerState=y,It(y,g))return Kl(t,r,c,0),xe===null&&Yl(),!1}catch{}finally{}if(a=Fc(t,r,c,o),a!==null)return Ut(a,t,o),Xg(a,r,o),!0}return!1}function Rf(t,r,a,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},co(t)){if(r)throw Error(s(479))}else r=Fc(t,a,o,2),r!==null&&Ut(r,t,2)}function co(t){var r=t.alternate;return t===oe||r!==null&&r===oe}function $g(t,r){Qr=ro=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Xg(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,sm(t,a)}}var fo={readContext:ht,use:ao,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},Zg={readContext:ht,use:ao,useCallback:function(t,r){return Et().memoizedState=[t,r===void 0?null:r],t},useContext:ht,useEffect:Lg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,uo(4194308,4,Hg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return uo(4194308,4,t,r)},useInsertionEffect:function(t,r){uo(4,2,t,r)},useMemo:function(t,r){var a=Et();r=r===void 0?null:r;var o=t();if(Ji){Zn(!0);try{t()}finally{Zn(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Et();if(a!==void 0){var c=a(r);if(Ji){Zn(!0);try{a(r)}finally{Zn(!1)}}}else c=r;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=Rw.bind(null,oe,t),[o.memoizedState,t]},useRef:function(t){var r=Et();return t={current:t},r.memoizedState=t},useState:function(t){t=bf(t);var r=t.queue,a=Qg.bind(null,oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(t,r){var a=Et();return Tf(a,t,r)},useTransition:function(){var t=bf(!1);return t=Fg.bind(null,oe,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=oe,c=Et();if(be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),xe===null)throw Error(s(349));(_e&124)!==0||vg(o,r,a)}c.memoizedState=a;var d={value:a,getSnapshot:r};return c.queue=d,Lg(Eg.bind(null,o,d,t),[t]),o.flags|=2048,Xr(9,oo(),bg.bind(null,o,d,a,r),null),a},useId:function(){var t=Et(),r=xe.identifierPrefix;if(be){var a=An,o=Rn;a=(o&~(1<<32-Ot(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=so++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=bw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Cf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var r=Et();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Rf.bind(null,oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:_f,useCacheRefresh:function(){return Et().memoizedState=Cw.bind(null,oe)}},Jg={readContext:ht,use:ao,useCallback:jg,useContext:ht,useEffect:Ug,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:qg,useReducer:lo,useRef:kg,useState:function(){return lo(In)},useDebugValue:Sf,useDeferredValue:function(t,r){var a=Ye();return Vg(a,we.memoizedState,t,r)},useTransition:function(){var t=lo(In)[0],r=Ye().memoizedState;return[typeof t=="boolean"?t:fa(t),r]},useSyncExternalStore:yg,useId:Kg,useHostTransitionStatus:Cf,useFormState:xg,useActionState:xg,useOptimistic:function(t,r){var a=Ye();return wg(a,we,t,r)},useMemoCache:_f,useCacheRefresh:Wg},Aw={readContext:ht,use:ao,useCallback:jg,useContext:ht,useEffect:Ug,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:qg,useReducer:vf,useRef:kg,useState:function(){return vf(In)},useDebugValue:Sf,useDeferredValue:function(t,r){var a=Ye();return we===null?Tf(a,t,r):Vg(a,we.memoizedState,t,r)},useTransition:function(){var t=vf(In)[0],r=Ye().memoizedState;return[typeof t=="boolean"?t:fa(t),r]},useSyncExternalStore:yg,useId:Kg,useHostTransitionStatus:Cf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,r){var a=Ye();return we!==null?wg(a,we,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Wg},Zr=null,pa=0;function ho(t){var r=pa;return pa+=1,Zr===null&&(Zr=[]),cg(Zr,t,r)}function ma(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function po(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function e_(t){var r=t._init;return r(t._payload)}function t_(t){function r(R,T){if(t){var A=R.deletions;A===null?(R.deletions=[T],R.flags|=16):A.push(T)}}function a(R,T){if(!t)return null;for(;T!==null;)r(R,T),T=T.sibling;return null}function o(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function c(R,T){return R=Cn(R,T),R.index=0,R.sibling=null,R}function d(R,T,A){return R.index=A,t?(A=R.alternate,A!==null?(A=A.index,A<T?(R.flags|=67108866,T):A):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function y(R,T,A,U){return T===null||T.tag!==6?(T=Yc(A,R.mode,U),T.return=R,T):(T=c(T,A),T.return=R,T)}function E(R,T,A,U){var Q=A.type;return Q===w?D(R,T,A.props.children,U,A.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ge&&e_(Q)===T.type)?(T=c(T,A.props),ma(T,A),T.return=R,T):(T=Ql(A.type,A.key,A.props,null,R.mode,U),ma(T,A),T.return=R,T)}function N(R,T,A,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Kc(A,R.mode,U),T.return=R,T):(T=c(T,A.children||[]),T.return=R,T)}function D(R,T,A,U,Q){return T===null||T.tag!==7?(T=Gi(A,R.mode,U,Q),T.return=R,T):(T=c(T,A),T.return=R,T)}function z(R,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Yc(""+T,R.mode,A),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case v:return A=Ql(T.type,T.key,T.props,null,R.mode,A),ma(A,T),A.return=R,A;case C:return T=Kc(T,R.mode,A),T.return=R,T;case ge:var U=T._init;return T=U(T._payload),z(R,T,A)}if(ft(T)||Qe(T))return T=Gi(T,R.mode,A,null),T.return=R,T;if(typeof T.then=="function")return z(R,ho(T),A);if(T.$$typeof===K)return z(R,Jl(R,T),A);po(R,T)}return null}function O(R,T,A,U){var Q=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Q!==null?null:y(R,T,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case v:return A.key===Q?E(R,T,A,U):null;case C:return A.key===Q?N(R,T,A,U):null;case ge:return Q=A._init,A=Q(A._payload),O(R,T,A,U)}if(ft(A)||Qe(A))return Q!==null?null:D(R,T,A,U,null);if(typeof A.then=="function")return O(R,T,ho(A),U);if(A.$$typeof===K)return O(R,T,Jl(R,A),U);po(R,A)}return null}function I(R,T,A,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return R=R.get(A)||null,y(T,R,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return R=R.get(U.key===null?A:U.key)||null,E(T,R,U,Q);case C:return R=R.get(U.key===null?A:U.key)||null,N(T,R,U,Q);case ge:var ue=U._init;return U=ue(U._payload),I(R,T,A,U,Q)}if(ft(U)||Qe(U))return R=R.get(A)||null,D(T,R,U,Q,null);if(typeof U.then=="function")return I(R,T,A,ho(U),Q);if(U.$$typeof===K)return I(R,T,A,Jl(T,U),Q);po(T,U)}return null}function ne(R,T,A,U){for(var Q=null,ue=null,$=T,J=T=0,Je=null;$!==null&&J<A.length;J++){$.index>J?(Je=$,$=null):Je=$.sibling;var ve=O(R,$,A[J],U);if(ve===null){$===null&&($=Je);break}t&&$&&ve.alternate===null&&r(R,$),T=d(ve,T,J),ue===null?Q=ve:ue.sibling=ve,ue=ve,$=Je}if(J===A.length)return a(R,$),be&&Ki(R,J),Q;if($===null){for(;J<A.length;J++)$=z(R,A[J],U),$!==null&&(T=d($,T,J),ue===null?Q=$:ue.sibling=$,ue=$);return be&&Ki(R,J),Q}for($=o($);J<A.length;J++)Je=I($,R,J,A[J],U),Je!==null&&(t&&Je.alternate!==null&&$.delete(Je.key===null?J:Je.key),T=d(Je,T,J),ue===null?Q=Je:ue.sibling=Je,ue=Je);return t&&$.forEach(function(Ei){return r(R,Ei)}),be&&Ki(R,J),Q}function Z(R,T,A,U){if(A==null)throw Error(s(151));for(var Q=null,ue=null,$=T,J=T=0,Je=null,ve=A.next();$!==null&&!ve.done;J++,ve=A.next()){$.index>J?(Je=$,$=null):Je=$.sibling;var Ei=O(R,$,ve.value,U);if(Ei===null){$===null&&($=Je);break}t&&$&&Ei.alternate===null&&r(R,$),T=d(Ei,T,J),ue===null?Q=Ei:ue.sibling=Ei,ue=Ei,$=Je}if(ve.done)return a(R,$),be&&Ki(R,J),Q;if($===null){for(;!ve.done;J++,ve=A.next())ve=z(R,ve.value,U),ve!==null&&(T=d(ve,T,J),ue===null?Q=ve:ue.sibling=ve,ue=ve);return be&&Ki(R,J),Q}for($=o($);!ve.done;J++,ve=A.next())ve=I($,R,J,ve.value,U),ve!==null&&(t&&ve.alternate!==null&&$.delete(ve.key===null?J:ve.key),T=d(ve,T,J),ue===null?Q=ve:ue.sibling=ve,ue=ve);return t&&$.forEach(function(NC){return r(R,NC)}),be&&Ki(R,J),Q}function Re(R,T,A,U){if(typeof A=="object"&&A!==null&&A.type===w&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case v:e:{for(var Q=A.key;T!==null;){if(T.key===Q){if(Q=A.type,Q===w){if(T.tag===7){a(R,T.sibling),U=c(T,A.props.children),U.return=R,R=U;break e}}else if(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ge&&e_(Q)===T.type){a(R,T.sibling),U=c(T,A.props),ma(U,A),U.return=R,R=U;break e}a(R,T);break}else r(R,T);T=T.sibling}A.type===w?(U=Gi(A.props.children,R.mode,U,A.key),U.return=R,R=U):(U=Ql(A.type,A.key,A.props,null,R.mode,U),ma(U,A),U.return=R,R=U)}return g(R);case C:e:{for(Q=A.key;T!==null;){if(T.key===Q)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){a(R,T.sibling),U=c(T,A.children||[]),U.return=R,R=U;break e}else{a(R,T);break}else r(R,T);T=T.sibling}U=Kc(A,R.mode,U),U.return=R,R=U}return g(R);case ge:return Q=A._init,A=Q(A._payload),Re(R,T,A,U)}if(ft(A))return ne(R,T,A,U);if(Qe(A)){if(Q=Qe(A),typeof Q!="function")throw Error(s(150));return A=Q.call(A),Z(R,T,A,U)}if(typeof A.then=="function")return Re(R,T,ho(A),U);if(A.$$typeof===K)return Re(R,T,Jl(R,A),U);po(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(a(R,T.sibling),U=c(T,A),U.return=R,R=U):(a(R,T),U=Yc(A,R.mode,U),U.return=R,R=U),g(R)):a(R,T)}return function(R,T,A,U){try{pa=0;var Q=Re(R,T,A,U);return Zr=null,Q}catch($){if($===sa||$===to)throw $;var ue=xt(29,$,null,R.mode);return ue.lanes=U,ue.return=R,ue}finally{}}}var Jr=t_(!0),n_=t_(!1),Yt=B(null),hn=null;function ai(t){var r=t.alternate;F(We,We.current&1),F(Yt,t),hn===null&&(r===null||Wr.current!==null||r.memoizedState!==null)&&(hn=t)}function i_(t){if(t.tag===22){if(F(We,We.current),F(Yt,t),hn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hn=t)}}else li()}function li(){F(We,We.current),F(Yt,Yt.current)}function xn(t){W(Yt),hn===t&&(hn=null),W(We)}var We=B(0);function mo(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Af(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=Lt(),c=ii(o);c.payload=r,a!=null&&(c.callback=a),r=ri(t,c,o),r!==null&&(Ut(r,t,o),la(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=Lt(),c=ii(o);c.tag=1,c.payload=r,a!=null&&(c.callback=a),r=ri(t,c,o),r!==null&&(Ut(r,t,o),la(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Lt(),o=ii(a);o.tag=2,r!=null&&(o.callback=r),r=ri(t,o,a),r!==null&&(Ut(r,t,a),la(r,t,a))}};function r_(t,r,a,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):r.prototype&&r.prototype.isPureReactComponent?!Xs(a,o)||!Xs(c,d):!0}function s_(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Nf.enqueueReplaceState(r,r.state,null)}function er(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function a_(t){go(t)}function l_(t){console.error(t)}function o_(t){go(t)}function _o(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function u_(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Of(t,r,a){return a=ii(a),a.tag=3,a.payload={element:null},a.callback=function(){_o(t,r)},a}function c_(t){return t=ii(t),t.tag=3,t}function f_(t,r,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){u_(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){u_(r,a,o),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function Nw(t,r,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&na(r,a,c,!0),a=Yt.current,a!==null){switch(a.tag){case 13:return hn===null?Jf():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===rf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),td(t,o,c)),!1;case 22:return a.flags|=65536,o===rf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),td(t,o,c)),!1}throw Error(s(435,a.tag))}return td(t,o,c),Jf(),!1}if(be)return r=Yt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=c,o!==$c&&(t=Error(s(422),{cause:o}),ta(qt(t,a)))):(o!==$c&&(r=Error(s(423),{cause:o}),ta(qt(r,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=qt(o,a),c=Of(t.stateNode,o,c),lf(t,c),He!==4&&(He=2)),!1;var d=Error(s(520),{cause:o});if(d=qt(d,a),Sa===null?Sa=[d]:Sa.push(d),He!==4&&(He=2),r===null)return!0;o=qt(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Of(a.stateNode,o,t),lf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=c_(c),f_(c,t,a,o),lf(a,c),!1}a=a.return}while(a!==null);return!1}var d_=Error(s(461)),Xe=!1;function rt(t,r,a,o){r.child=t===null?n_(r,null,a,o):Jr(r,t.child,a,o)}function h_(t,r,a,o,c){a=a.render;var d=r.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return Xi(r),o=df(t,r,a,g,d,c),y=hf(),t!==null&&!Xe?(pf(t,r,c),Dn(t,r,c)):(be&&y&&Wc(r),r.flags|=1,rt(t,r,o,c),r.child)}function p_(t,r,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!Gc(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,m_(t,r,d,o,c)):(t=Ql(a.type,null,o,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Pf(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xs,a(g,o)&&t.ref===r.ref)return Dn(t,r,c)}return r.flags|=1,t=Cn(d,o),t.ref=r.ref,t.return=r,r.child=t}function m_(t,r,a,o,c){if(t!==null){var d=t.memoizedProps;if(Xs(d,o)&&t.ref===r.ref)if(Xe=!1,r.pendingProps=o=d,Pf(t,c))(t.flags&131072)!==0&&(Xe=!0);else return r.lanes=t.lanes,Dn(t,r,c)}return If(t,r,a,o,c)}function g_(t,r,a){var o=r.pendingProps,c=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,t!==null){for(c=r.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return __(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&eo(r,d!==null?d.cachePool:null),d!==null?mg(r,d):uf(),i_(r);else return r.lanes=r.childLanes=536870912,__(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(eo(r,d.cachePool),mg(r,d),li(),r.memoizedState=null):(t!==null&&eo(r,null),uf(),li());return rt(t,r,c,a),r.child}function __(t,r,a,o){var c=nf();return c=c===null?null:{parent:Ke._currentValue,pool:c},r.memoizedState={baseLanes:a,cachePool:c},t!==null&&eo(r,null),uf(),i_(r),t!==null&&na(t,r,o,!0),null}function yo(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function If(t,r,a,o,c){return Xi(r),a=df(t,r,a,o,void 0,c),o=hf(),t!==null&&!Xe?(pf(t,r,c),Dn(t,r,c)):(be&&o&&Wc(r),r.flags|=1,rt(t,r,a,c),r.child)}function y_(t,r,a,o,c,d){return Xi(r),r.updateQueue=null,a=_g(r,o,a,c),gg(t),o=hf(),t!==null&&!Xe?(pf(t,r,d),Dn(t,r,d)):(be&&o&&Wc(r),r.flags|=1,rt(t,r,a,d),r.child)}function v_(t,r,a,o,c){if(Xi(r),r.stateNode===null){var d=Vr,g=a.contextType;typeof g=="object"&&g!==null&&(d=ht(g)),d=new a(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},sf(r),g=a.contextType,d.context=typeof g=="object"&&g!==null?ht(g):Vr,d.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Af(r,a,g,o),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Nf.enqueueReplaceState(d,d.state,null),ua(r,o,d,c),oa(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var y=r.memoizedProps,E=er(a,y);d.props=E;var N=d.context,D=a.contextType;g=Vr,typeof D=="object"&&D!==null&&(g=ht(D));var z=a.getDerivedStateFromProps;D=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=r.pendingProps!==y,D||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||N!==g)&&s_(r,d,o,g),ni=!1;var O=r.memoizedState;d.state=O,ua(r,o,d,c),oa(),N=r.memoizedState,y||O!==N||ni?(typeof z=="function"&&(Af(r,a,z,o),N=r.memoizedState),(E=ni||r_(r,a,E,o,O,N,g))?(D||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=N),d.props=o,d.state=N,d.context=g,o=E):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,af(t,r),g=r.memoizedProps,D=er(a,g),d.props=D,z=r.pendingProps,O=d.context,N=a.contextType,E=Vr,typeof N=="object"&&N!==null&&(E=ht(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==z||O!==E)&&s_(r,d,o,E),ni=!1,O=r.memoizedState,d.state=O,ua(r,o,d,c),oa();var I=r.memoizedState;g!==z||O!==I||ni||t!==null&&t.dependencies!==null&&Zl(t.dependencies)?(typeof y=="function"&&(Af(r,a,y,o),I=r.memoizedState),(D=ni||r_(r,a,D,o,O,I,E)||t!==null&&t.dependencies!==null&&Zl(t.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,I,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,I,E)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=I),d.props=o,d.state=I,d.context=E,o=D):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,yo(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Jr(r,t.child,null,c),r.child=Jr(r,null,a,c)):rt(t,r,a,c),r.memoizedState=d.state,t=r.child):t=Dn(t,r,c),t}function b_(t,r,a,o){return ea(),r.flags|=256,rt(t,r,a,o),r.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:lg()}}function Mf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Kt),t}function E_(t,r,a){var o=r.pendingProps,c=!1,d=(r.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),g&&(c=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(be){if(c?ai(r):li(),be){var y=ze,E;if(E=y){e:{for(E=y,y=dn;E.nodeType!==8;){if(!y){y=null;break e}if(E=en(E.nextSibling),E===null){y=null;break e}}y=E}y!==null?(r.memoizedState={dehydrated:y,treeContext:Yi!==null?{id:Rn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},E=xt(18,null,null,0),E.stateNode=y,E.return=r,r.child=E,mt=r,ze=null,E=!0):E=!1}E||Qi(r)}if(y=r.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return gd(y)?r.lanes=32:r.lanes=536870912,null;xn(r)}return y=o.children,o=o.fallback,c?(li(),c=r.mode,y=vo({mode:"hidden",children:y},c),o=Gi(o,c,a,null),y.return=r,o.return=r,y.sibling=o,r.child=y,c=r.child,c.memoizedState=Df(a),c.childLanes=Mf(t,g,a),r.memoizedState=xf,o):(ai(r),kf(r,y))}if(E=t.memoizedState,E!==null&&(y=E.dehydrated,y!==null)){if(d)r.flags&256?(ai(r),r.flags&=-257,r=Lf(t,r,a)):r.memoizedState!==null?(li(),r.child=t.child,r.flags|=128,r=null):(li(),c=o.fallback,y=r.mode,o=vo({mode:"visible",children:o.children},y),c=Gi(c,y,a,null),c.flags|=2,o.return=r,c.return=r,o.sibling=c,r.child=o,Jr(r,t.child,null,a),o=r.child,o.memoizedState=Df(a),o.childLanes=Mf(t,g,a),r.memoizedState=xf,r=c);else if(ai(r),gd(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var N=g.dgst;g=N,o=Error(s(419)),o.stack="",o.digest=g,ta({value:o,source:null,stack:null}),r=Lf(t,r,a)}else if(Xe||na(t,r,a,!1),g=(a&t.childLanes)!==0,Xe||g){if(g=xe,g!==null&&(o=a&-a,o=(o&42)!==0?1:gc(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,qr(t,o),Ut(g,t,o),d_;y.data==="$?"||Jf(),r=Lf(t,r,a)}else y.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=E.treeContext,ze=en(y.nextSibling),mt=r,be=!0,Wi=null,dn=!1,t!==null&&(Ft[Gt++]=Rn,Ft[Gt++]=An,Ft[Gt++]=Yi,Rn=t.id,An=t.overflow,Yi=r),r=kf(r,o.children),r.flags|=4096);return r}return c?(li(),c=o.fallback,y=r.mode,E=t.child,N=E.sibling,o=Cn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,N!==null?c=Cn(N,c):(c=Gi(c,y,a,null),c.flags|=2),c.return=r,o.return=r,o.sibling=c,r.child=o,o=c,c=r.child,y=t.child.memoizedState,y===null?y=Df(a):(E=y.cachePool,E!==null?(N=Ke._currentValue,E=E.parent!==N?{parent:N,pool:N}:E):E=lg(),y={baseLanes:y.baseLanes|a,cachePool:E}),c.memoizedState=y,c.childLanes=Mf(t,g,a),r.memoizedState=xf,o):(ai(r),a=t.child,t=a.sibling,a=Cn(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function kf(t,r){return r=vo({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function vo(t,r){return t=xt(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lf(t,r,a){return Jr(r,t.child,null,a),t=kf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function S_(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Zc(t.return,r,a)}function Uf(t,r,a,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function T_(t,r,a){var o=r.pendingProps,c=o.revealOrder,d=o.tail;if(rt(t,r,o.children,a),o=We.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S_(t,a,r);else if(t.tag===19)S_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(F(We,o),c){case"forwards":for(a=r.child,c=null;a!==null;)t=a.alternate,t!==null&&mo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=r.child,r.child=null):(c=a.sibling,a.sibling=null),Uf(r,!1,c,a,d);break;case"backwards":for(a=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&mo(t)===null){r.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uf(r,!0,a,null,d);break;case"together":Uf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Dn(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),di|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(na(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Cn(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Cn(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Pf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Zl(t)))}function Ow(t,r,a){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),ti(r,Ke,t.memoizedState.cache),ea();break;case 27:case 5:fc(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:ti(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(ai(r),r.flags|=128,null):(a&r.child.childLanes)!==0?E_(t,r,a):(ai(r),t=Dn(t,r,a),t!==null?t.sibling:null);ai(r);break;case 19:var c=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(na(t,r,a,!1),o=(a&r.childLanes)!==0),c){if(o)return T_(t,r,a);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(We,We.current),o)break;return null;case 22:case 23:return r.lanes=0,g_(t,r,a);case 24:ti(r,Ke,t.memoizedState.cache)}return Dn(t,r,a)}function w_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Xe=!0;else{if(!Pf(t,a)&&(r.flags&128)===0)return Xe=!1,Ow(t,r,a);Xe=(t.flags&131072)!==0}else Xe=!1,be&&(r.flags&1048576)!==0&&eg(r,Xl,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,c=o._init;if(o=c(o._payload),r.type=o,typeof o=="function")Gc(o)?(t=er(o,t),r.tag=1,r=v_(null,r,o,t,a)):(r.tag=0,r=If(null,r,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===Y){r.tag=11,r=h_(null,r,o,t,a);break e}else if(c===de){r.tag=14,r=p_(null,r,o,t,a);break e}}throw r=Hi(o)||o,Error(s(306,r,""))}}return r;case 0:return If(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,c=er(o,r.pendingProps),v_(t,r,o,c,a);case 3:e:{if(ke(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var d=r.memoizedState;c=d.element,af(t,r),ua(r,o,null,a);var g=r.memoizedState;if(o=g.cache,ti(r,Ke,o),o!==d.cache&&Jc(r,[Ke],a,!0),oa(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=b_(t,r,o,a);break e}else if(o!==c){c=qt(Error(s(424)),r),ta(c),r=b_(t,r,o,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=en(t.firstChild),mt=r,be=!0,Wi=null,dn=!0,a=n_(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),o===c){r=Dn(t,r,a);break e}rt(t,r,o,a)}r=r.child}return r;case 26:return yo(t,r),t===null?(a=Ny(r.type,null,r.pendingProps,null))?r.memoizedState=a:be||(a=r.type,t=r.pendingProps,o=Mo(se.current).createElement(a),o[dt]=r,o[vt]=t,at(o,a,t),$e(o),r.stateNode=o):r.memoizedState=Ny(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return fc(r),t===null&&be&&(o=r.stateNode=Cy(r.type,r.pendingProps,se.current),mt=r,dn=!0,c=ze,gi(r.type)?(_d=c,ze=en(o.firstChild)):ze=c),rt(t,r,r.pendingProps.children,a),yo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&be&&((c=o=ze)&&(o=iC(o,r.type,r.pendingProps,dn),o!==null?(r.stateNode=o,mt=r,ze=en(o.firstChild),dn=!1,c=!0):c=!1),c||Qi(r)),fc(r),c=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,hd(c,d)?o=null:g!==null&&hd(c,g)&&(r.flags|=32),r.memoizedState!==null&&(c=df(t,r,Ew,null,null,a),xa._currentValue=c),yo(t,r),rt(t,r,o,a),r.child;case 6:return t===null&&be&&((t=a=ze)&&(a=rC(a,r.pendingProps,dn),a!==null?(r.stateNode=a,mt=r,ze=null,t=!0):t=!1),t||Qi(r)),null;case 13:return E_(t,r,a);case 4:return ke(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Jr(r,null,o,a):rt(t,r,o,a),r.child;case 11:return h_(t,r,r.type,r.pendingProps,a);case 7:return rt(t,r,r.pendingProps,a),r.child;case 8:return rt(t,r,r.pendingProps.children,a),r.child;case 12:return rt(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,ti(r,r.type,o.value),rt(t,r,o.children,a),r.child;case 9:return c=r.type._context,o=r.pendingProps.children,Xi(r),c=ht(c),o=o(c),r.flags|=1,rt(t,r,o,a),r.child;case 14:return p_(t,r,r.type,r.pendingProps,a);case 15:return m_(t,r,r.type,r.pendingProps,a);case 19:return T_(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=vo(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Cn(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return g_(t,r,a);case 24:return Xi(r),o=ht(Ke),t===null?(c=nf(),c===null&&(c=xe,d=ef(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),r.memoizedState={parent:o,cache:c},sf(r),ti(r,Ke,c)):((t.lanes&a)!==0&&(af(t,r),ua(r,null,null,a),oa()),c=t.memoizedState,d=r.memoizedState,c.parent!==o?(c={parent:o,cache:o},r.memoizedState=c,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=c),ti(r,Ke,o)):(o=d.cache,ti(r,Ke,o),o!==c.cache&&Jc(r,[Ke],a,!0))),rt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Mn(t){t.flags|=4}function C_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!My(r)){if(r=Yt.current,r!==null&&((_e&4194048)===_e?hn!==null:(_e&62914560)!==_e&&(_e&536870912)===0||r!==hn))throw aa=rf,og;t.flags|=8192}}function bo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?im():536870912,t.lanes|=r,is|=r)}function ga(t,r){if(!be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ue(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function Iw(t,r,a){var o=r.pendingProps;switch(Qc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(r),null;case 1:return Ue(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),On(Ke),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Js(r)?Mn(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ig())),Ue(r),null;case 26:return a=r.memoizedState,t===null?(Mn(r),a!==null?(Ue(r),C_(r,a)):(Ue(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Mn(r),Ue(r),C_(r,a)):(Ue(r),r.flags&=-16777217):(t.memoizedProps!==o&&Mn(r),Ue(r),r.flags&=-16777217),null;case 27:Il(r),a=se.current;var c=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Mn(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return Ue(r),null}t=X.current,Js(r)?tg(r):(t=Cy(c,o,a),r.stateNode=t,Mn(r))}return Ue(r),null;case 5:if(Il(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Mn(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return Ue(r),null}if(t=X.current,Js(r))tg(r);else{switch(c=Mo(se.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[dt]=r,t[vt]=o;e:for(c=r.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r.stateNode=t;e:switch(at(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mn(r)}}return Ue(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Mn(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=se.current,Js(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,c=mt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[dt]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||yy(t.nodeValue,a)),t||Qi(r)}else t=Mo(t).createTextNode(o),t[dt]=r,r.stateNode=t}return Ue(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Js(r),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[dt]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ue(r),c=!1}else c=ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return r.flags&256?(xn(r),r):(xn(r),null)}if(xn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),bo(r,r.updateQueue),Ue(r),null;case 4:return Xn(),t===null&&od(r.stateNode.containerInfo),Ue(r),null;case 10:return On(r.type),Ue(r),null;case 19:if(W(We),c=r.memoizedState,c===null)return Ue(r),null;if(o=(r.flags&128)!==0,d=c.rendering,d===null)if(o)ga(c,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=mo(t),d!==null){for(r.flags|=128,ga(c,!1),t=d.updateQueue,r.updateQueue=t,bo(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Jm(a,t),a=a.sibling;return F(We,We.current&1|2),r.child}t=t.sibling}c.tail!==null&&fn()>To&&(r.flags|=128,o=!0,ga(c,!1),r.lanes=4194304)}else{if(!o)if(t=mo(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,bo(r,t),ga(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!be)return Ue(r),null}else 2*fn()-c.renderingStartTime>To&&a!==536870912&&(r.flags|=128,o=!0,ga(c,!1),r.lanes=4194304);c.isBackwards?(d.sibling=r.child,r.child=d):(t=c.last,t!==null?t.sibling=d:r.child=d,c.last=d)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=fn(),r.sibling=null,t=We.current,F(We,o?t&1|2:t&1),r):(Ue(r),null);case 22:case 23:return xn(r),cf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Ue(r),r.subtreeFlags&6&&(r.flags|=8192)):Ue(r),a=r.updateQueue,a!==null&&bo(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&W(Zi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),On(Ke),Ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function xw(t,r){switch(Qc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return On(Ke),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Il(r),null;case 13:if(xn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(We),null;case 4:return Xn(),null;case 10:return On(r.type),null;case 22:case 23:return xn(r),cf(),t!==null&&W(Zi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return On(Ke),null;case 25:return null;default:return null}}function R_(t,r){switch(Qc(r),r.tag){case 3:On(Ke),Xn();break;case 26:case 27:case 5:Il(r);break;case 4:Xn();break;case 13:xn(r);break;case 19:W(We);break;case 10:On(r.type);break;case 22:case 23:xn(r),cf(),t!==null&&W(Zi);break;case 24:On(Ke)}}function _a(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==c)}}catch(y){Ie(r,r.return,y)}}function oi(t,r,a){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=r;var E=a,N=y;try{N()}catch(D){Ie(c,E,D)}}}o=o.next}while(o!==d)}}catch(D){Ie(r,r.return,D)}}function A_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{pg(r,a)}catch(o){Ie(t,t.return,o)}}}function N_(t,r,a){a.props=er(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ie(t,r,o)}}function ya(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(c){Ie(t,r,c)}}function pn(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ie(t,r,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ie(t,r,c)}else a.current=null}function O_(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ie(t,t.return,c)}}function zf(t,r,a){try{var o=t.stateNode;Zw(o,t.type,a,r),o[vt]=r}catch(c){Ie(t,t.return,c)}}function I_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gi(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Do));else if(o!==4&&(o===27&&gi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Bf(t,r,a),t=t.sibling;t!==null;)Bf(t,r,a),t=t.sibling}function Eo(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&gi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Eo(t,r,a),t=t.sibling;t!==null;)Eo(t,r,a),t=t.sibling}function x_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,c=r.attributes;c.length;)r.removeAttributeNode(c[0]);at(r,o,a),r[dt]=t,r[vt]=a}catch(d){Ie(t,t.return,d)}}var kn=!1,Ve=!1,jf=!1,D_=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Dw(t,r){if(t=t.containerInfo,fd=Ho,t=Vm(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,y=-1,E=-1,N=0,D=0,z=t,O=null;t:for(;;){for(var I;z!==a||c!==0&&z.nodeType!==3||(y=g+c),z!==d||o!==0&&z.nodeType!==3||(E=g+o),z.nodeType===3&&(g+=z.nodeValue.length),(I=z.firstChild)!==null;)O=z,z=I;for(;;){if(z===t)break t;if(O===a&&++N===c&&(y=g),O===d&&++D===o&&(E=g),(I=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=I}a=y===-1||E===-1?null:{start:y,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(dd={focusedElem:t,selectionRange:a},Ho=!1,Ze=r;Ze!==null;)if(r=Ze,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ze=t;else for(;Ze!==null;){switch(r=Ze,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ne=er(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ne,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Z){Ie(a,a.return,Z)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ze=t;break}Ze=r.return}}function M_(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ui(t,a),o&4&&_a(5,a);break;case 1:if(ui(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(g){Ie(a,a.return,g)}else{var c=er(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(c,r,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ie(a,a.return,g)}}o&64&&A_(a),o&512&&ya(a,a.return);break;case 3:if(ui(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{pg(t,r)}catch(g){Ie(a,a.return,g)}}break;case 27:r===null&&o&4&&x_(a);case 26:case 5:ui(t,a),r===null&&o&4&&O_(a),o&512&&ya(a,a.return);break;case 12:ui(t,a);break;case 13:ui(t,a),o&4&&U_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jw.bind(null,a),sC(t,a))));break;case 22:if(o=a.memoizedState!==null||kn,!o){r=r!==null&&r.memoizedState!==null||Ve,c=kn;var d=Ve;kn=o,(Ve=r)&&!d?ci(t,a,(a.subtreeFlags&8772)!==0):ui(t,a),kn=c,Ve=d}break;case 30:break;default:ui(t,a)}}function k_(t){var r=t.alternate;r!==null&&(t.alternate=null,k_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&vc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,St=!1;function Ln(t,r,a){for(a=a.child;a!==null;)L_(t,r,a),a=a.sibling}function L_(t,r,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Hs,a)}catch{}switch(a.tag){case 26:Ve||pn(a,r),Ln(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||pn(a,r);var o=Le,c=St;gi(a.type)&&(Le=a.stateNode,St=!1),Ln(t,r,a),Aa(a.stateNode),Le=o,St=c;break;case 5:Ve||pn(a,r);case 6:if(o=Le,c=St,Le=null,Ln(t,r,a),Le=o,St=c,Le!==null)if(St)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(d){Ie(a,r,d)}else try{Le.removeChild(a.stateNode)}catch(d){Ie(a,r,d)}break;case 18:Le!==null&&(St?(t=Le,Ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),La(t)):Ty(Le,a.stateNode));break;case 4:o=Le,c=St,Le=a.stateNode.containerInfo,St=!0,Ln(t,r,a),Le=o,St=c;break;case 0:case 11:case 14:case 15:Ve||oi(2,a,r),Ve||oi(4,a,r),Ln(t,r,a);break;case 1:Ve||(pn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&N_(a,r,o)),Ln(t,r,a);break;case 21:Ln(t,r,a);break;case 22:Ve=(o=Ve)||a.memoizedState!==null,Ln(t,r,a),Ve=o;break;default:Ln(t,r,a)}}function U_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(a){Ie(r,r.return,a)}}function Mw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new D_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new D_),r;default:throw Error(s(435,t.tag))}}function qf(t,r){var a=Mw(t);r.forEach(function(o){var c=qw.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Dt(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,g=r,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(gi(y.type)){Le=y.stateNode,St=!1;break e}break;case 5:Le=y.stateNode,St=!1;break e;case 3:case 4:Le=y.stateNode.containerInfo,St=!0;break e}y=y.return}if(Le===null)throw Error(s(160));L_(d,g,c),Le=null,St=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)P_(r,t),r=r.sibling}var Jt=null;function P_(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dt(r,t),Mt(t),o&4&&(oi(3,t,t.return),_a(3,t),oi(5,t,t.return));break;case 1:Dt(r,t),Mt(t),o&512&&(Ve||a===null||pn(a,a.return)),o&64&&kn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Jt;if(Dt(r,t),Mt(t),o&512&&(Ve||a===null||pn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[qs]||d[dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),at(d,o,a),d[dt]=t,$e(d),o=d;break e;case"link":var g=xy("link","href",c).get(o+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(d=g[y],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}d=c.createElement(o),at(d,o,a),c.head.appendChild(d);break;case"meta":if(g=xy("meta","content",c).get(o+(a.content||""))){for(y=0;y<g.length;y++)if(d=g[y],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}d=c.createElement(o),at(d,o,a),c.head.appendChild(d);break;default:throw Error(s(468,o))}d[dt]=t,$e(d),o=d}t.stateNode=o}else Dy(c,t.type,t.stateNode);else t.stateNode=Iy(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Dy(c,t.type,t.stateNode):Iy(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dt(r,t),Mt(t),o&512&&(Ve||a===null||pn(a,a.return)),a!==null&&o&4&&zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dt(r,t),Mt(t),o&512&&(Ve||a===null||pn(a,a.return)),t.flags&32){c=t.stateNode;try{Lr(c,"")}catch(I){Ie(t,t.return,I)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,zf(t,c,a!==null?a.memoizedProps:c)),o&1024&&(jf=!0);break;case 6:if(Dt(r,t),Mt(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(I){Ie(t,t.return,I)}}break;case 3:if(Uo=null,c=Jt,Jt=ko(r.containerInfo),Dt(r,t),Jt=c,Mt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{La(r.containerInfo)}catch(I){Ie(t,t.return,I)}jf&&(jf=!1,z_(t));break;case 4:o=Jt,Jt=ko(t.stateNode.containerInfo),Dt(r,t),Mt(t),Jt=o;break;case 12:Dt(r,t),Mt(t);break;case 13:Dt(r,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wf=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qf(t,o)));break;case 22:c=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,N=kn,D=Ve;if(kn=N||c,Ve=D||E,Dt(r,t),Ve=D,kn=N,Mt(t),o&8192)e:for(r=t.stateNode,r._visibility=c?r._visibility&-2:r._visibility|1,c&&(a===null||E||kn||Ve||tr(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){E=a=r;try{if(d=E.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=E.stateNode;var z=E.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(I){Ie(E,E.return,I)}}}else if(r.tag===6){if(a===null){E=r;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(I){Ie(E,E.return,I)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,qf(t,a))));break;case 19:Dt(r,t),Mt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qf(t,o)));break;case 30:break;case 21:break;default:Dt(r,t),Mt(t)}}function Mt(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(I_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,d=Hf(t);Eo(t,d,c);break;case 5:var g=a.stateNode;a.flags&32&&(Lr(g,""),a.flags&=-33);var y=Hf(t);Eo(t,y,g);break;case 3:case 4:var E=a.stateNode.containerInfo,N=Hf(t);Bf(t,N,E);break;default:throw Error(s(161))}}catch(D){Ie(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function z_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;z_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ui(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)M_(t,r.alternate,r),r=r.sibling}function tr(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:oi(4,r,r.return),tr(r);break;case 1:pn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&N_(r,r.return,a),tr(r);break;case 27:Aa(r.stateNode);case 26:case 5:pn(r,r.return),tr(r);break;case 22:r.memoizedState===null&&tr(r);break;case 30:tr(r);break;default:tr(r)}t=t.sibling}}function ci(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,c=t,d=r,g=d.flags;switch(d.tag){case 0:case 11:case 15:ci(c,d,a),_a(4,d);break;case 1:if(ci(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Ie(o,o.return,N)}if(o=d,c=o.updateQueue,c!==null){var y=o.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)hg(E[c],y)}catch(N){Ie(o,o.return,N)}}a&&g&64&&A_(d),ya(d,d.return);break;case 27:x_(d);case 26:case 5:ci(c,d,a),a&&o===null&&g&4&&O_(d),ya(d,d.return);break;case 12:ci(c,d,a);break;case 13:ci(c,d,a),a&&g&4&&U_(c,d);break;case 22:d.memoizedState===null&&ci(c,d,a),ya(d,d.return);break;case 30:break;default:ci(c,d,a)}r=r.sibling}}function Vf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ia(a))}function Ff(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ia(t))}function mn(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H_(t,r,a,o),r=r.sibling}function H_(t,r,a,o){var c=r.flags;switch(r.tag){case 0:case 11:case 15:mn(t,r,a,o),c&2048&&_a(9,r);break;case 1:mn(t,r,a,o);break;case 3:mn(t,r,a,o),c&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ia(t)));break;case 12:if(c&2048){mn(t,r,a,o),t=r.stateNode;try{var d=r.memoizedProps,g=d.id,y=d.onPostCommit;typeof y=="function"&&y(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Ie(r,r.return,E)}}else mn(t,r,a,o);break;case 13:mn(t,r,a,o);break;case 23:break;case 22:d=r.stateNode,g=r.alternate,r.memoizedState!==null?d._visibility&2?mn(t,r,a,o):va(t,r):d._visibility&2?mn(t,r,a,o):(d._visibility|=2,es(t,r,a,o,(r.subtreeFlags&10256)!==0)),c&2048&&Vf(g,r);break;case 24:mn(t,r,a,o),c&2048&&Ff(r.alternate,r);break;default:mn(t,r,a,o)}}function es(t,r,a,o,c){for(c=c&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,g=r,y=a,E=o,N=g.flags;switch(g.tag){case 0:case 11:case 15:es(d,g,y,E,c),_a(8,g);break;case 23:break;case 22:var D=g.stateNode;g.memoizedState!==null?D._visibility&2?es(d,g,y,E,c):va(d,g):(D._visibility|=2,es(d,g,y,E,c)),c&&N&2048&&Vf(g.alternate,g);break;case 24:es(d,g,y,E,c),c&&N&2048&&Ff(g.alternate,g);break;default:es(d,g,y,E,c)}r=r.sibling}}function va(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,c=o.flags;switch(o.tag){case 22:va(a,o),c&2048&&Vf(o.alternate,o);break;case 24:va(a,o),c&2048&&Ff(o.alternate,o);break;default:va(a,o)}r=r.sibling}}var ba=8192;function ts(t){if(t.subtreeFlags&ba)for(t=t.child;t!==null;)B_(t),t=t.sibling}function B_(t){switch(t.tag){case 26:ts(t),t.flags&ba&&t.memoizedState!==null&&yC(Jt,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var r=Jt;Jt=ko(t.stateNode.containerInfo),ts(t),Jt=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ba,ba=16777216,ts(t),ba=r):ts(t));break;default:ts(t)}}function j_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ea(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ze=o,V_(o,t)}j_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q_(t),t=t.sibling}function q_(t){switch(t.tag){case 0:case 11:case 15:Ea(t),t.flags&2048&&oi(9,t,t.return);break;case 3:Ea(t);break;case 12:Ea(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,So(t)):Ea(t);break;default:Ea(t)}}function So(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ze=o,V_(o,t)}j_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:oi(8,r,r.return),So(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,So(r));break;default:So(r)}t=t.sibling}}function V_(t,r){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:oi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ia(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ze=o;else e:for(a=t;Ze!==null;){o=Ze;var c=o.sibling,d=o.return;if(k_(o),o===a){Ze=null;break e}if(c!==null){c.return=d,Ze=c;break e}Ze=d}}}var kw={getCacheForType:function(t){var r=ht(Ke),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Lw=typeof WeakMap=="function"?WeakMap:Map,Se=0,xe=null,he=null,_e=0,Te=0,kt=null,fi=!1,ns=!1,Gf=!1,Un=0,He=0,di=0,nr=0,Yf=0,Kt=0,is=0,Sa=null,Tt=null,Kf=!1,Wf=0,To=1/0,wo=null,hi=null,st=0,pi=null,rs=null,ss=0,Qf=0,$f=null,F_=null,Ta=0,Xf=null;function Lt(){if((Se&2)!==0&&_e!==0)return _e&-_e;if(M.T!==null){var t=Yr;return t!==0?t:rd()}return am()}function G_(){Kt===0&&(Kt=(_e&536870912)===0||be?nm():536870912);var t=Yt.current;return t!==null&&(t.flags|=32),Kt}function Ut(t,r,a){(t===xe&&(Te===2||Te===9)||t.cancelPendingCommit!==null)&&(as(t,0),mi(t,_e,Kt,!1)),js(t,a),((Se&2)===0||t!==xe)&&(t===xe&&((Se&2)===0&&(nr|=a),He===4&&mi(t,_e,Kt,!1)),gn(t))}function Y_(t,r,a){if((Se&6)!==0)throw Error(s(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Bs(t,r),c=o?zw(t,r):ed(t,r,!0),d=o;do{if(c===0){ns&&!o&&mi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Uw(a)){c=ed(t,r,!1),d=!1;continue}if(c===2){if(d=r,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var y=t;c=Sa;var E=y.current.memoizedState.isDehydrated;if(E&&(as(y,g).flags|=256),g=ed(y,g,!1),g!==2){if(Gf&&!E){y.errorRecoveryDisabledLanes|=d,nr|=d,c=4;break e}d=Tt,Tt=c,d!==null&&(Tt===null?Tt=d:Tt.push.apply(Tt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){as(t,0),mi(t,r,0,!0);break}e:{switch(o=t,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mi(o,r,Kt,!fi);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(c=Wf+300-fn(),10<c)){if(mi(o,r,Kt,!fi),kl(o,0,!0)!==0)break e;o.timeoutHandle=Ey(K_.bind(null,o,a,Tt,wo,Kf,r,Kt,nr,is,fi,d,2,-0,0),c);break e}K_(o,a,Tt,wo,Kf,r,Kt,nr,is,fi,d,0,-0,0)}}break}while(!0);gn(t)}function K_(t,r,a,o,c,d,g,y,E,N,D,z,O,I){if(t.timeoutHandle=-1,z=r.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Ia={stylesheets:null,count:0,unsuspend:_C},B_(r),z=vC(),z!==null)){t.cancelPendingCommit=z(ey.bind(null,t,r,d,a,o,c,g,y,E,D,1,O,I)),mi(t,d,g,!N);return}ey(t,r,d,a,o,c,g,y,E)}function Uw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!It(d(),c))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mi(t,r,a,o){r&=~Yf,r&=~nr,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var c=r;0<c;){var d=31-Ot(c),g=1<<d;o[d]=-1,c&=~g}a!==0&&rm(t,a,r)}function Co(){return(Se&6)===0?(wa(0),!1):!0}function Zf(){if(he!==null){if(Te===0)var t=he.return;else t=he,Nn=$i=null,mf(t),Zr=null,pa=0,t=he;for(;t!==null;)R_(t.alternate,t),t=t.return;he=null}}function as(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eC(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zf(),xe=t,he=a=Cn(t.current,null),_e=r,Te=0,kt=null,fi=!1,ns=Bs(t,r),Gf=!1,is=Kt=Yf=nr=di=He=0,Tt=Sa=null,Kf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var c=31-Ot(o),d=1<<c;r|=t[c],o&=~d}return Un=r,Yl(),a}function W_(t,r){oe=null,M.H=fo,r===sa||r===to?(r=fg(),Te=3):r===og?(r=fg(),Te=4):Te=r===d_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kt=r,he===null&&(He=1,_o(t,qt(r,t.current)))}function Q_(){var t=M.H;return M.H=fo,t===null?fo:t}function $_(){var t=M.A;return M.A=kw,t}function Jf(){He=4,fi||(_e&4194048)!==_e&&Yt.current!==null||(ns=!0),(di&134217727)===0&&(nr&134217727)===0||xe===null||mi(xe,_e,Kt,!1)}function ed(t,r,a){var o=Se;Se|=2;var c=Q_(),d=$_();(xe!==t||_e!==r)&&(wo=null,as(t,r)),r=!1;var g=He;e:do try{if(Te!==0&&he!==null){var y=he,E=kt;switch(Te){case 8:Zf(),g=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(r=!0);var N=Te;if(Te=0,kt=null,ls(t,y,E,N),a&&ns){g=0;break e}break;default:N=Te,Te=0,kt=null,ls(t,y,E,N)}}Pw(),g=He;break}catch(D){W_(t,D)}while(!0);return r&&t.shellSuspendCounter++,Nn=$i=null,Se=o,M.H=c,M.A=d,he===null&&(xe=null,_e=0,Yl()),g}function Pw(){for(;he!==null;)X_(he)}function zw(t,r){var a=Se;Se|=2;var o=Q_(),c=$_();xe!==t||_e!==r?(wo=null,To=fn()+500,as(t,r)):ns=Bs(t,r);e:do try{if(Te!==0&&he!==null){r=he;var d=kt;t:switch(Te){case 1:Te=0,kt=null,ls(t,r,d,1);break;case 2:case 9:if(ug(d)){Te=0,kt=null,Z_(r);break}r=function(){Te!==2&&Te!==9||xe!==t||(Te=7),gn(t)},d.then(r,r);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:ug(d)?(Te=0,kt=null,Z_(r)):(Te=0,kt=null,ls(t,r,d,7));break;case 5:var g=null;switch(he.tag){case 26:g=he.memoizedState;case 5:case 27:var y=he;if(!g||My(g)){Te=0,kt=null;var E=y.sibling;if(E!==null)he=E;else{var N=y.return;N!==null?(he=N,Ro(N)):he=null}break t}}Te=0,kt=null,ls(t,r,d,5);break;case 6:Te=0,kt=null,ls(t,r,d,6);break;case 8:Zf(),He=6;break e;default:throw Error(s(462))}}Hw();break}catch(D){W_(t,D)}while(!0);return Nn=$i=null,M.H=o,M.A=c,Se=a,he!==null?0:(xe=null,_e=0,Yl(),He)}function Hw(){for(;he!==null&&!lT();)X_(he)}function X_(t){var r=w_(t.alternate,t,Un);t.memoizedProps=t.pendingProps,r===null?Ro(t):he=r}function Z_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=y_(a,r,r.pendingProps,r.type,void 0,_e);break;case 11:r=y_(a,r,r.pendingProps,r.type.render,r.ref,_e);break;case 5:mf(r);default:R_(a,r),r=he=Jm(r,Un),r=w_(a,r,Un)}t.memoizedProps=t.pendingProps,r===null?Ro(t):he=r}function ls(t,r,a,o){Nn=$i=null,mf(r),Zr=null,pa=0;var c=r.return;try{if(Nw(t,c,r,a,_e)){He=1,_o(t,qt(a,t.current)),he=null;return}}catch(d){if(c!==null)throw he=c,d;He=1,_o(t,qt(a,t.current)),he=null;return}r.flags&32768?(be||o===1?t=!0:ns||(_e&536870912)!==0?t=!1:(fi=t=!0,(o===2||o===9||o===3||o===6)&&(o=Yt.current,o!==null&&o.tag===13&&(o.flags|=16384))),J_(r,t)):Ro(r)}function Ro(t){var r=t;do{if((r.flags&32768)!==0){J_(r,fi);return}t=r.return;var a=Iw(r.alternate,r,Un);if(a!==null){he=a;return}if(r=r.sibling,r!==null){he=r;return}he=r=t}while(r!==null);He===0&&(He=5)}function J_(t,r){do{var a=xw(t.alternate,t);if(a!==null){a.flags&=32767,he=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){he=t;return}he=t=a}while(t!==null);He=6,he=null}function ey(t,r,a,o,c,d,g,y,E){t.cancelPendingCommit=null;do Ao();while(st!==0);if((Se&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Vc,_T(t,a,d,g,y,E),t===xe&&(he=xe=null,_e=0),rs=r,pi=t,ss=a,Qf=d,$f=c,F_=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Vw(xl,function(){return sy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,c=G.p,G.p=2,g=Se,Se|=4;try{Dw(t,r,a)}finally{Se=g,G.p=c,M.T=o}}st=1,ty(),ny(),iy()}}function ty(){if(st===1){st=0;var t=pi,r=rs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var o=G.p;G.p=2;var c=Se;Se|=4;try{P_(r,t);var d=dd,g=Vm(t.containerInfo),y=d.focusedElem,E=d.selectionRange;if(g!==y&&y&&y.ownerDocument&&qm(y.ownerDocument.documentElement,y)){if(E!==null&&zc(y)){var N=E.start,D=E.end;if(D===void 0&&(D=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(D,y.value.length);else{var z=y.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var I=O.getSelection(),ne=y.textContent.length,Z=Math.min(E.start,ne),Re=E.end===void 0?Z:Math.min(E.end,ne);!I.extend&&Z>Re&&(g=Re,Re=Z,Z=g);var R=jm(y,Z),T=jm(y,Re);if(R&&T&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==T.node||I.focusOffset!==T.offset)){var A=z.createRange();A.setStart(R.node,R.offset),I.removeAllRanges(),Z>Re?(I.addRange(A),I.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),I.addRange(A))}}}}for(z=[],I=y;I=I.parentNode;)I.nodeType===1&&z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<z.length;y++){var U=z[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Ho=!!fd,dd=fd=null}finally{Se=c,G.p=o,M.T=a}}t.current=r,st=2}}function ny(){if(st===2){st=0;var t=pi,r=rs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var o=G.p;G.p=2;var c=Se;Se|=4;try{M_(t,r.alternate,r)}finally{Se=c,G.p=o,M.T=a}}st=3}}function iy(){if(st===4||st===3){st=0,oT();var t=pi,r=rs,a=ss,o=F_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?st=5:(st=0,rs=pi=null,ry(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(hi=null),_c(a),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Hs,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=M.T,c=G.p,G.p=2,M.T=null;try{for(var d=t.onRecoverableError,g=0;g<o.length;g++){var y=o[g];d(y.value,{componentStack:y.stack})}}finally{M.T=r,G.p=c}}(ss&3)!==0&&Ao(),gn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Xf?Ta++:(Ta=0,Xf=t):Ta=0,wa(0)}}function ry(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ia(r)))}function Ao(t){return ty(),ny(),iy(),sy()}function sy(){if(st!==5)return!1;var t=pi,r=Qf;Qf=0;var a=_c(ss),o=M.T,c=G.p;try{G.p=32>a?32:a,M.T=null,a=$f,$f=null;var d=pi,g=ss;if(st=0,rs=pi=null,ss=0,(Se&6)!==0)throw Error(s(331));var y=Se;if(Se|=4,q_(d.current),H_(d,d.current,g,a),Se=y,wa(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Hs,d)}catch{}return!0}finally{G.p=c,M.T=o,ry(t,r)}}function ay(t,r,a){r=qt(a,r),r=Of(t.stateNode,r,2),t=ri(t,r,2),t!==null&&(js(t,2),gn(t))}function Ie(t,r,a){if(t.tag===3)ay(t,t,a);else for(;r!==null;){if(r.tag===3){ay(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hi===null||!hi.has(o))){t=qt(a,t),a=c_(2),o=ri(r,a,2),o!==null&&(f_(a,o,r,t),js(o,2),gn(o));break}}r=r.return}}function td(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Lw;var c=new Set;o.set(r,c)}else c=o.get(r),c===void 0&&(c=new Set,o.set(r,c));c.has(a)||(Gf=!0,c.add(a),t=Bw.bind(null,t,r,a),r.then(t,t))}function Bw(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,xe===t&&(_e&a)===a&&(He===4||He===3&&(_e&62914560)===_e&&300>fn()-Wf?(Se&2)===0&&as(t,0):Yf|=a,is===_e&&(is=0)),gn(t)}function ly(t,r){r===0&&(r=im()),t=qr(t,r),t!==null&&(js(t,r),gn(t))}function jw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),ly(t,a)}function qw(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),ly(t,a)}function Vw(t,r){return hc(t,r)}var No=null,os=null,nd=!1,Oo=!1,id=!1,ir=0;function gn(t){t!==os&&t.next===null&&(os===null?No=os=t:os=os.next=t),Oo=!0,nd||(nd=!0,Gw())}function wa(t,r){if(!id&&Oo){id=!0;do for(var a=!1,o=No;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,y=o.pingedLanes;d=(1<<31-Ot(42|t)+1)-1,d&=c&~(g&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,fy(o,d))}else d=_e,d=kl(o,o===xe?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Bs(o,d)||(a=!0,fy(o,d));o=o.next}while(a);id=!1}}function Fw(){oy()}function oy(){Oo=nd=!1;var t=0;ir!==0&&(Jw()&&(t=ir),ir=0);for(var r=fn(),a=null,o=No;o!==null;){var c=o.next,d=uy(o,r);d===0?(o.next=null,a===null?No=c:a.next=c,c===null&&(os=a)):(a=o,(t!==0||(d&3)!==0)&&(Oo=!0)),o=c}wa(t)}function uy(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Ot(d),y=1<<g,E=c[g];E===-1?((y&a)===0||(y&o)!==0)&&(c[g]=gT(y,r)):E<=r&&(t.expiredLanes|=y),d&=~y}if(r=xe,a=_e,a=kl(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Te===2||Te===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&pc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&pc(o),_c(a)){case 2:case 8:a=em;break;case 32:a=xl;break;case 268435456:a=tm;break;default:a=xl}return o=cy.bind(null,t),a=hc(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&pc(o),t.callbackPriority=2,t.callbackNode=null,2}function cy(t,r){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ao()&&t.callbackNode!==a)return null;var o=_e;return o=kl(t,t===xe?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Y_(t,o,r),uy(t,fn()),t.callbackNode!=null&&t.callbackNode===a?cy.bind(null,t):null)}function fy(t,r){if(Ao())return null;Y_(t,r,!0)}function Gw(){tC(function(){(Se&6)!==0?hc(Jp,Fw):oy()})}function rd(){return ir===0&&(ir=nm()),ir}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hl(""+t)}function hy(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Yw(t,r,a,o,c){if(r==="submit"&&a&&a.stateNode===c){var d=dy((c[vt]||null).action),g=o.submitter;g&&(r=(r=g[vt]||null)?dy(r.formAction):g.getAttribute("formAction"),r!==null&&(d=r,g=null));var y=new Vl("action","action",null,o,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ir!==0){var E=g?hy(c,g):new FormData(c);wf(a,{pending:!0,data:E,method:c.method,action:d},null,E)}}else typeof d=="function"&&(y.preventDefault(),E=g?hy(c,g):new FormData(c),wf(a,{pending:!0,data:E,method:c.method,action:d},d,E))},currentTarget:c}]})}}for(var sd=0;sd<qc.length;sd++){var ad=qc[sd],Kw=ad.toLowerCase(),Ww=ad[0].toUpperCase()+ad.slice(1);Zt(Kw,"on"+Ww)}Zt(Ym,"onAnimationEnd"),Zt(Km,"onAnimationIteration"),Zt(Wm,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(fw,"onTransitionRun"),Zt(dw,"onTransitionStart"),Zt(hw,"onTransitionCancel"),Zt(Qm,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function py(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var g=o.length-1;0<=g;g--){var y=o[g],E=y.instance,N=y.currentTarget;if(y=y.listener,E!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=N;try{d(c)}catch(D){go(D)}c.currentTarget=null,d=E}else for(g=0;g<o.length;g++){if(y=o[g],E=y.instance,N=y.currentTarget,y=y.listener,E!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=N;try{d(c)}catch(D){go(D)}c.currentTarget=null,d=E}}}}function pe(t,r){var a=r[yc];a===void 0&&(a=r[yc]=new Set);var o=t+"__bubble";a.has(o)||(my(r,t,2,!1),a.add(o))}function ld(t,r,a){var o=0;r&&(o|=4),my(a,t,o,r)}var Io="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[Io]){t[Io]=!0,om.forEach(function(a){a!=="selectionchange"&&(Qw.has(a)||ld(a,!1,t),ld(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Io]||(r[Io]=!0,ld("selectionchange",!1,r))}}function my(t,r,a,o){switch(Hy(r)){case 2:var c=SC;break;case 8:c=TC;break;default:c=Sd}a=c.bind(null,r,a,t),c=void 0,!Oc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(r,a,{capture:!0,passive:c}):t.addEventListener(r,a,!0):c!==void 0?t.addEventListener(r,a,{passive:c}):t.addEventListener(r,a,!1)}function ud(t,r,a,o,c){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=o.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=Or(y),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){o=d=g;continue e}y=y.parentNode}}o=o.return}Sm(function(){var N=d,D=Ac(a),z=[];e:{var O=$m.get(t);if(O!==void 0){var I=Vl,ne=t;switch(t){case"keypress":if(jl(a)===0)break e;case"keydown":case"keyup":I=VT;break;case"focusin":ne="focus",I=Mc;break;case"focusout":ne="blur",I=Mc;break;case"beforeblur":case"afterblur":I=Mc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=xT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=YT;break;case Ym:case Km:case Wm:I=kT;break;case Qm:I=WT;break;case"scroll":case"scrollend":I=OT;break;case"wheel":I=$T;break;case"copy":case"cut":case"paste":I=UT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Am;break;case"toggle":case"beforetoggle":I=ZT}var Z=(r&4)!==0,Re=!Z&&(t==="scroll"||t==="scrollend"),R=Z?O!==null?O+"Capture":null:O;Z=[];for(var T=N,A;T!==null;){var U=T;if(A=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||A===null||R===null||(U=Fs(T,R),U!=null&&Z.push(Ra(T,U,A))),Re)break;T=T.return}0<Z.length&&(O=new I(O,ne,null,a,D),z.push({event:O,listeners:Z}))}}if((r&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",O&&a!==Rc&&(ne=a.relatedTarget||a.fromElement)&&(Or(ne)||ne[Nr]))break e;if((I||O)&&(O=D.window===D?D:(O=D.ownerDocument)?O.defaultView||O.parentWindow:window,I?(ne=a.relatedTarget||a.toElement,I=N,ne=ne?Or(ne):null,ne!==null&&(Re=u(ne),Z=ne.tag,ne!==Re||Z!==5&&Z!==27&&Z!==6)&&(ne=null)):(I=null,ne=N),I!==ne)){if(Z=Cm,U="onMouseLeave",R="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(Z=Am,U="onPointerLeave",R="onPointerEnter",T="pointer"),Re=I==null?O:Vs(I),A=ne==null?O:Vs(ne),O=new Z(U,T+"leave",I,a,D),O.target=Re,O.relatedTarget=A,U=null,Or(D)===N&&(Z=new Z(R,T+"enter",ne,a,D),Z.target=A,Z.relatedTarget=Re,U=Z),Re=U,I&&ne)t:{for(Z=I,R=ne,T=0,A=Z;A;A=us(A))T++;for(A=0,U=R;U;U=us(U))A++;for(;0<T-A;)Z=us(Z),T--;for(;0<A-T;)R=us(R),A--;for(;T--;){if(Z===R||R!==null&&Z===R.alternate)break t;Z=us(Z),R=us(R)}Z=null}else Z=null;I!==null&&gy(z,O,I,Z,!1),ne!==null&&Re!==null&&gy(z,Re,ne,Z,!0)}}e:{if(O=N?Vs(N):window,I=O.nodeName&&O.nodeName.toLowerCase(),I==="select"||I==="input"&&O.type==="file")var Q=Lm;else if(Mm(O))if(Um)Q=ow;else{Q=aw;var ue=sw}else I=O.nodeName,!I||I.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&Cc(N.elementType)&&(Q=Lm):Q=lw;if(Q&&(Q=Q(t,N))){km(z,Q,a,D);break e}ue&&ue(t,O,N),t==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&wc(O,"number",O.value)}switch(ue=N?Vs(N):window,t){case"focusin":(Mm(ue)||ue.contentEditable==="true")&&(Hr=ue,Hc=N,Zs=null);break;case"focusout":Zs=Hc=Hr=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,Fm(z,a,D);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":Fm(z,a,D)}var $;if(Lc)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else zr?xm(t,a)&&(J="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(J="onCompositionStart");J&&(Nm&&a.locale!=="ko"&&(zr||J!=="onCompositionStart"?J==="onCompositionEnd"&&zr&&($=Tm()):(ei=D,Ic="value"in ei?ei.value:ei.textContent,zr=!0)),ue=xo(N,J),0<ue.length&&(J=new Rm(J,t,null,a,D),z.push({event:J,listeners:ue}),$?J.data=$:($=Dm(a),$!==null&&(J.data=$)))),($=ew?tw(t,a):nw(t,a))&&(J=xo(N,"onBeforeInput"),0<J.length&&(ue=new Rm("onBeforeInput","beforeinput",null,a,D),z.push({event:ue,listeners:J}),ue.data=$)),Yw(z,t,N,a,D)}py(z,r)})}function Ra(t,r,a){return{instance:t,listener:r,currentTarget:a}}function xo(t,r){for(var a=r+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Fs(t,a),c!=null&&o.unshift(Ra(t,c,d)),c=Fs(t,r),c!=null&&o.push(Ra(t,c,d))),t.tag===3)return o;t=t.return}return[]}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gy(t,r,a,o,c){for(var d=r._reactName,g=[];a!==null&&a!==o;){var y=a,E=y.alternate,N=y.stateNode;if(y=y.tag,E!==null&&E===o)break;y!==5&&y!==26&&y!==27||N===null||(E=N,c?(N=Fs(a,d),N!=null&&g.unshift(Ra(a,N,E))):c||(N=Fs(a,d),N!=null&&g.push(Ra(a,N,E)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var $w=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function _y(t){return(typeof t=="string"?t:""+t).replace($w,`
`).replace(Xw,"")}function yy(t,r){return r=_y(r),_y(t)===r}function Do(){}function Ce(t,r,a,o,c,d){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Lr(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Lr(t,""+o);break;case"className":Ul(t,"class",o);break;case"tabIndex":Ul(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(t,a,o);break;case"style":bm(t,o,d);break;case"data":if(r!=="object"){Ul(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Hl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ce(t,r,"name",c.name,c,null),Ce(t,r,"formEncType",c.formEncType,c,null),Ce(t,r,"formMethod",c.formMethod,c,null),Ce(t,r,"formTarget",c.formTarget,c,null)):(Ce(t,r,"encType",c.encType,c,null),Ce(t,r,"method",c.method,c,null),Ce(t,r,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Hl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Do);break;case"onScroll":o!=null&&pe("scroll",t);break;case"onScrollEnd":o!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Hl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Ll(t,"popover",o);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ll(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=AT.get(a)||a,Ll(t,a,o))}}function cd(t,r,a,o,c,d){switch(a){case"style":bm(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Lr(t,o):(typeof o=="number"||typeof o=="bigint")&&Lr(t,""+o);break;case"onScroll":o!=null&&pe("scroll",t);break;case"onScrollEnd":o!=null&&pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Do);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!um.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),r=a.slice(2,c?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ll(t,a,o)}}}function at(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ce(t,r,d,g,a,null)}}c&&Ce(t,r,"srcSet",a.srcSet,a,null),o&&Ce(t,r,"src",a.src,a,null);return;case"input":pe("invalid",t);var y=d=g=c=null,E=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var D=a[o];if(D!=null)switch(o){case"name":c=D;break;case"type":g=D;break;case"checked":E=D;break;case"defaultChecked":N=D;break;case"value":d=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:Ce(t,r,o,D,a,null)}}gm(t,d,y,E,N,g,c,!1),Pl(t);return;case"select":pe("invalid",t),o=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:Ce(t,r,c,y,a,null)}r=d,a=g,t.multiple=!!o,r!=null?kr(t,!!o,r,!1):a!=null&&kr(t,!!o,a,!0);return;case"textarea":pe("invalid",t),d=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:Ce(t,r,g,y,a,null)}ym(t,o,c,d),Pl(t);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ce(t,r,E,o,a,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(o=0;o<Ca.length;o++)pe(Ca[o],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ce(t,r,N,o,a,null)}return;default:if(Cc(r)){for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!==void 0&&cd(t,r,D,o,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(o=a[y],o!=null&&Ce(t,r,y,o,a,null))}function Zw(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,y=null,E=null,N=null,D=null;for(I in a){var z=a[I];if(a.hasOwnProperty(I)&&z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=z;default:o.hasOwnProperty(I)||Ce(t,r,I,null,o,z)}}for(var O in o){var I=o[O];if(z=a[O],o.hasOwnProperty(O)&&(I!=null||z!=null))switch(O){case"type":d=I;break;case"name":c=I;break;case"checked":N=I;break;case"defaultChecked":D=I;break;case"value":g=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:I!==z&&Ce(t,r,O,I,o,z)}}Tc(t,g,y,E,N,D,d,c);return;case"select":I=g=y=O=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":I=E;default:o.hasOwnProperty(d)||Ce(t,r,d,null,o,E)}for(c in o)if(d=o[c],E=a[c],o.hasOwnProperty(c)&&(d!=null||E!=null))switch(c){case"value":O=d;break;case"defaultValue":y=d;break;case"multiple":g=d;default:d!==E&&Ce(t,r,c,d,o,E)}r=y,a=g,o=I,O!=null?kr(t,!!a,O,!1):!!o!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":I=O=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ce(t,r,y,null,o,c)}for(g in o)if(c=o[g],d=a[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":O=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Ce(t,r,g,c,o,d)}_m(t,O,I);return;case"option":for(var ne in a)if(O=a[ne],a.hasOwnProperty(ne)&&O!=null&&!o.hasOwnProperty(ne))switch(ne){case"selected":t.selected=!1;break;default:Ce(t,r,ne,null,o,O)}for(E in o)if(O=o[E],I=a[E],o.hasOwnProperty(E)&&O!==I&&(O!=null||I!=null))switch(E){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ce(t,r,E,O,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Z in a)O=a[Z],a.hasOwnProperty(Z)&&O!=null&&!o.hasOwnProperty(Z)&&Ce(t,r,Z,null,o,O);for(N in o)if(O=o[N],I=a[N],o.hasOwnProperty(N)&&O!==I&&(O!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,r));break;default:Ce(t,r,N,O,o,I)}return;default:if(Cc(r)){for(var Re in a)O=a[Re],a.hasOwnProperty(Re)&&O!==void 0&&!o.hasOwnProperty(Re)&&cd(t,r,Re,void 0,o,O);for(D in o)O=o[D],I=a[D],!o.hasOwnProperty(D)||O===I||O===void 0&&I===void 0||cd(t,r,D,O,o,I);return}}for(var R in a)O=a[R],a.hasOwnProperty(R)&&O!=null&&!o.hasOwnProperty(R)&&Ce(t,r,R,null,o,O);for(z in o)O=o[z],I=a[z],!o.hasOwnProperty(z)||O===I||O==null&&I==null||Ce(t,r,z,O,o,I)}var fd=null,dd=null;function Mo(t){return t.nodeType===9?t:t.ownerDocument}function vy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function hd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pd=null;function Jw(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(t){return Sy.resolve(null).then(t).catch(nC)}:Ey;function nC(t){setTimeout(function(){throw t})}function gi(t){return t==="head"}function Ty(t,r){var a=r,o=0,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var g=t.ownerDocument;if(a&1&&Aa(g.documentElement),a&2&&Aa(g.body),a&4)for(a=g.head,Aa(a),g=a.firstChild;g;){var y=g.nextSibling,E=g.nodeName;g[qs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=y}}if(c===0){t.removeChild(d),La(r);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);La(r)}function md(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":md(a),vc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iC(t,r,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[qs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function rC(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sC(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function en(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var _d=null;function wy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Cy(t,r,a){switch(r=Mo(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Aa(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);vc(t)}var Wt=new Map,Ry=new Set;function ko(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pn=G.d;G.d={f:aC,r:lC,D:oC,C:uC,L:cC,m:fC,X:hC,S:dC,M:pC};function aC(){var t=Pn.f(),r=Co();return t||r}function lC(t){var r=Ir(t);r!==null&&r.tag===5&&r.type==="form"?Yg(r):Pn.r(t)}var cs=typeof document>"u"?null:document;function Ay(t,r,a){var o=cs;if(o&&typeof r=="string"&&r){var c=jt(r);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ry.has(c)||(Ry.add(c),t={rel:t,crossOrigin:a,href:r},o.querySelector(c)===null&&(r=o.createElement("link"),at(r,"link",t),$e(r),o.head.appendChild(r)))}}function oC(t){Pn.D(t),Ay("dns-prefetch",t,null)}function uC(t,r){Pn.C(t,r),Ay("preconnect",t,r)}function cC(t,r,a){Pn.L(t,r,a);var o=cs;if(o&&t&&r){var c='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+jt(a.imageSizes)+'"]')):c+='[href="'+jt(t)+'"]';var d=c;switch(r){case"style":d=fs(t);break;case"script":d=ds(t)}Wt.has(d)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Wt.set(d,t),o.querySelector(c)!==null||r==="style"&&o.querySelector(Na(d))||r==="script"&&o.querySelector(Oa(d))||(r=o.createElement("link"),at(r,"link",t),$e(r),o.head.appendChild(r)))}}function fC(t,r){Pn.m(t,r);var a=cs;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",c='link[rel="modulepreload"][as="'+jt(o)+'"][href="'+jt(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ds(t)}if(!Wt.has(d)&&(t=_({rel:"modulepreload",href:t},r),Wt.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oa(d)))return}o=a.createElement("link"),at(o,"link",t),$e(o),a.head.appendChild(o)}}}function dC(t,r,a){Pn.S(t,r,a);var o=cs;if(o&&t){var c=xr(o).hoistableStyles,d=fs(t);r=r||"default";var g=c.get(d);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(Na(d)))y.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Wt.get(d))&&yd(t,a);var E=g=o.createElement("link");$e(E),at(E,"link",t),E._p=new Promise(function(N,D){E.onload=N,E.onerror=D}),E.addEventListener("load",function(){y.loading|=1}),E.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Lo(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(d,g)}}}function hC(t,r){Pn.X(t,r);var a=cs;if(a&&t){var o=xr(a).hoistableScripts,c=ds(t),d=o.get(c);d||(d=a.querySelector(Oa(c)),d||(t=_({src:t,async:!0},r),(r=Wt.get(c))&&vd(t,r),d=a.createElement("script"),$e(d),at(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function pC(t,r){Pn.M(t,r);var a=cs;if(a&&t){var o=xr(a).hoistableScripts,c=ds(t),d=o.get(c);d||(d=a.querySelector(Oa(c)),d||(t=_({src:t,async:!0,type:"module"},r),(r=Wt.get(c))&&vd(t,r),d=a.createElement("script"),$e(d),at(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function Ny(t,r,a,o){var c=(c=se.current)?ko(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fs(a.href),a=xr(c).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fs(a.href);var d=xr(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Na(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Wt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wt.set(t,a),d||mC(c,t,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ds(a),a=xr(c).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fs(t){return'href="'+jt(t)+'"'}function Na(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function mC(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),at(r,"link",a),$e(r),t.head.appendChild(r))}function ds(t){return'[src="'+jt(t)+'"]'}function Oa(t){return"script[async]"+t}function Iy(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+jt(a.href)+'"]');if(o)return r.instance=o,$e(o),o;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),$e(o),at(o,"style",c),Lo(o,a.precedence,t),r.instance=o;case"stylesheet":c=fs(a.href);var d=t.querySelector(Na(c));if(d)return r.state.loading|=4,r.instance=d,$e(d),d;o=Oy(a),(c=Wt.get(c))&&yd(o,c),d=(t.ownerDocument||t).createElement("link"),$e(d);var g=d;return g._p=new Promise(function(y,E){g.onload=y,g.onerror=E}),at(d,"link",o),r.state.loading|=4,Lo(d,a.precedence,t),r.instance=d;case"script":return d=ds(a.src),(c=t.querySelector(Oa(d)))?(r.instance=c,$e(c),c):(o=a,(c=Wt.get(d))&&(o=_({},a),vd(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),$e(c),at(c,"link",o),t.head.appendChild(c),r.instance=c);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Lo(o,a.precedence,t));return r.instance}function Lo(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===r)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function vd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Uo=null;function xy(t,r,a){if(Uo===null){var o=new Map,c=Uo=new Map;c.set(a,o)}else c=Uo,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[qs]||d[dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(r)||"";g=t+g;var y=o.get(g);y?y.push(d):o.set(g,[d])}}return o}function Dy(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function gC(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function My(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ia=null;function _C(){}function yC(t,r,a){if(Ia===null)throw Error(s(475));var o=Ia;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=fs(a.href),d=t.querySelector(Na(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Po.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,$e(d);return}d=t.ownerDocument||t,a=Oy(a),(c=Wt.get(c))&&yd(a,c),d=d.createElement("link"),$e(d);var g=d;g._p=new Promise(function(y,E){g.onload=y,g.onerror=E}),at(d,"link",a),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Po.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function vC(){if(Ia===null)throw Error(s(475));var t=Ia;return t.stylesheets&&t.count===0&&bd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&bd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Po(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zo=null;function bd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zo=new Map,r.forEach(bC,t),zo=null,Po.call(t))}function bC(t,r){if(!(r.state.loading&4)){var a=zo.get(t);if(a)var o=a.get(null);else{a=new Map,zo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=r.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,c),a.set(g,c),this.count++,o=Po.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),r.state.loading|=4}}var xa={$$typeof:K,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function EC(t,r,a,o,c,d,g,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.hiddenUpdates=mc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function ky(t,r,a,o,c,d,g,y,E,N,D,z){return t=new EC(t,r,a,g,y,E,N,z),r=1,d===!0&&(r|=24),d=xt(3,null,null,r),t.current=d,d.stateNode=t,r=ef(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:r},sf(d),t}function Ly(t){return t?(t=Vr,t):Vr}function Uy(t,r,a,o,c,d){c=Ly(c),o.context===null?o.context=c:o.pendingContext=c,o=ii(r),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ri(t,o,r),a!==null&&(Ut(a,t,r),la(a,t,r))}function Py(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Ed(t,r){Py(t,r),(t=t.alternate)&&Py(t,r)}function zy(t){if(t.tag===13){var r=qr(t,67108864);r!==null&&Ut(r,t,67108864),Ed(t,67108864)}}var Ho=!0;function SC(t,r,a,o){var c=M.T;M.T=null;var d=G.p;try{G.p=2,Sd(t,r,a,o)}finally{G.p=d,M.T=c}}function TC(t,r,a,o){var c=M.T;M.T=null;var d=G.p;try{G.p=8,Sd(t,r,a,o)}finally{G.p=d,M.T=c}}function Sd(t,r,a,o){if(Ho){var c=Td(o);if(c===null)ud(t,r,o,Bo,a),By(t,o);else if(CC(c,t,r,a,o))o.stopPropagation();else if(By(t,o),r&4&&-1<wC.indexOf(t)){for(;c!==null;){var d=Ir(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Bi(d.pendingLanes);if(g!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var E=1<<31-Ot(g);y.entanglements[1]|=E,g&=~E}gn(d),(Se&6)===0&&(To=fn()+500,wa(0))}}break;case 13:y=qr(d,2),y!==null&&Ut(y,d,2),Co(),Ed(d,2)}if(d=Td(o),d===null&&ud(t,r,o,Bo,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else ud(t,r,o,null,a)}}function Td(t){return t=Ac(t),wd(t)}var Bo=null;function wd(t){if(Bo=null,t=Or(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Bo=t,null}function Hy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uT()){case Jp:return 2;case em:return 8;case xl:case cT:return 32;case tm:return 268435456;default:return 32}default:return 32}}var Cd=!1,_i=null,yi=null,vi=null,Da=new Map,Ma=new Map,bi=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(t,r){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Da.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(r.pointerId)}}function ka(t,r,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},r!==null&&(r=Ir(r),r!==null&&zy(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function CC(t,r,a,o,c){switch(r){case"focusin":return _i=ka(_i,t,r,a,o,c),!0;case"dragenter":return yi=ka(yi,t,r,a,o,c),!0;case"mouseover":return vi=ka(vi,t,r,a,o,c),!0;case"pointerover":var d=c.pointerId;return Da.set(d,ka(Da.get(d)||null,t,r,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,Ma.set(d,ka(Ma.get(d)||null,t,r,a,o,c)),!0}return!1}function jy(t){var r=Or(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,yT(t.priority,function(){if(a.tag===13){var o=Lt();o=gc(o);var c=qr(a,o);c!==null&&Ut(c,a,o),Ed(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Td(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Rc=o,a.target.dispatchEvent(o),Rc=null}else return r=Ir(a),r!==null&&zy(r),t.blockedOn=a,!1;r.shift()}return!0}function qy(t,r,a){jo(t)&&a.delete(r)}function RC(){Cd=!1,_i!==null&&jo(_i)&&(_i=null),yi!==null&&jo(yi)&&(yi=null),vi!==null&&jo(vi)&&(vi=null),Da.forEach(qy),Ma.forEach(qy)}function qo(t,r){t.blockedOn===r&&(t.blockedOn=null,Cd||(Cd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RC)))}var Vo=null;function Vy(t){Vo!==t&&(Vo=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vo===t&&(Vo=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],c=t[r+2];if(typeof o!="function"){if(wd(o||a)===null)continue;break}var d=Ir(a);d!==null&&(t.splice(r,3),r-=3,wf(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function La(t){function r(E){return qo(E,t)}_i!==null&&qo(_i,t),yi!==null&&qo(yi,t),vi!==null&&qo(vi,t),Da.forEach(r),Ma.forEach(r);for(var a=0;a<bi.length;a++){var o=bi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<bi.length&&(a=bi[0],a.blockedOn===null);)jy(a),a.blockedOn===null&&bi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],g=c[vt]||null;if(typeof d=="function")g||Vy(a);else if(g){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[vt]||null)y=g.formAction;else if(wd(c)!==null)continue}else y=g.action;typeof y=="function"?a[o+1]=y:(a.splice(o,3),o-=3),Vy(a)}}}function Rd(t){this._internalRoot=t}Fo.prototype.render=Rd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=Lt();Uy(a,o,t,r,null,null)},Fo.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Uy(t.current,2,null,t,null,null),Co(),r[Nr]=null}};function Fo(t){this._internalRoot=t}Fo.prototype.unstable_scheduleHydration=function(t){if(t){var r=am();t={blockedOn:null,target:t,priority:r};for(var a=0;a<bi.length&&r!==0&&r<bi[a].priority;a++);bi.splice(a,0,t),a===0&&jy(t)}};var Fy=e.version;if(Fy!=="19.1.0")throw Error(s(527,Fy,"19.1.0"));G.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var AC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{Hs=Go.inject(AC),Nt=Go}catch{}}return Pa.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",c=a_,d=l_,g=o_,y=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(c=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(y=r.unstable_transitionCallbacks)),r=ky(t,1,!1,null,null,a,o,c,d,g,y,null),t[Nr]=r.current,od(t),new Rd(r)},Pa.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,c="",d=a_,g=l_,y=o_,E=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),r=ky(t,1,!0,r,a??null,o,c,d,g,y,E,N),r.context=Ly(null),a=r.current,o=Lt(),o=gc(o),c=ii(o),c.callback=null,ri(a,c,o),a=o,r.current.lanes=a,js(r,a),gn(r),t[Nr]=r.current,od(t),new Fo(r)},Pa.version="19.1.0",Pa}var ev;function PC(){if(ev)return Od.exports;ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Od.exports=UC(),Od.exports}var zC=PC(),za={},tv;function HC(){if(tv)return za;tv=1,Object.defineProperty(za,"__esModule",{value:!0}),za.parse=f,za.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function f(v,C){const w=new u,L=v.length;if(L<2)return w;const H=(C==null?void 0:C.decode)||_;let P=0;do{const j=v.indexOf("=",P);if(j===-1)break;const K=v.indexOf(";",P),Y=K===-1?L:K;if(j>Y){P=v.lastIndexOf(";",j-1)+1;continue}const V=h(v,P,j),re=p(v,j,V),de=v.slice(V,re);if(w[de]===void 0){let ge=h(v,j+1,Y),ae=p(v,Y,ge);const Fe=H(v.slice(ge,ae));w[de]=Fe}P=Y+1}while(P<L);return w}function h(v,C,w){do{const L=v.charCodeAt(C);if(L!==32&&L!==9)return C}while(++C<w);return w}function p(v,C,w){for(;C>w;){const L=v.charCodeAt(--C);if(L!==32&&L!==9)return C+1}return w}function m(v,C,w){const L=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const H=L(C);if(!e.test(H))throw new TypeError(`argument val is invalid: ${C}`);let P=v+"="+H;if(!w)return P;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);P+="; Max-Age="+w.maxAge}if(w.domain){if(!i.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);P+="; Domain="+w.domain}if(w.path){if(!s.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);P+="; Path="+w.path}if(w.expires){if(!b(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);P+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(P+="; HttpOnly"),w.secure&&(P+="; Secure"),w.partitioned&&(P+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return P}function _(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return l.call(v)==="[object Date]"}return za}HC();var nv="popstate";function BC(n={}){function e(l,u){let{pathname:f="/",search:h="",hash:p=""}=Er(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),ah("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let f=l.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof u=="string"?u:il(u))}function s(l,u){ln(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return qC(e,i,s,n)}function Pe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ln(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jC(){return Math.random().toString(36).substring(2,10)}function iv(n,e){return{usr:n.state,key:n.key,idx:e}}function ah(n,e,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Er(e):e,state:i,key:e&&e.key||s||jC()}}function il({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Er(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function qC(n,e,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,h="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function b(){h="POP";let H=_(),P=H==null?null:H-m;m=H,p&&p({action:h,location:L.location,delta:P})}function v(H,P){h="PUSH";let j=ah(L.location,H,P);i&&i(j,H),m=_()+1;let K=iv(j,m),Y=L.createHref(j);try{f.pushState(K,"",Y)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(Y)}u&&p&&p({action:h,location:L.location,delta:1})}function C(H,P){h="REPLACE";let j=ah(L.location,H,P);i&&i(j,H),m=_();let K=iv(j,m),Y=L.createHref(j);f.replaceState(K,"",Y),u&&p&&p({action:h,location:L.location,delta:0})}function w(H){return VC(H)}let L={get action(){return h},get location(){return n(l,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(nv,b),p=H,()=>{l.removeEventListener(nv,b),p=null}},createHref(H){return e(l,H)},createURL:w,encodeLocation(H){let P=w(H);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:C,go(H){return f.go(H)}};return L}function VC(n,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(i,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:il(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function q0(n,e,i="/"){return FC(n,e,i,!1)}function FC(n,e,i,s){let l=typeof e=="string"?Er(e):e,u=Gn(l.pathname||"/",i);if(u==null)return null;let f=V0(n);GC(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=n1(u);h=e1(f[p],m,s)}return h}function V0(n,e=[],i=[],s=""){let l=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Pe(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=jn([s,p.relativePath]),_=i.concat(p);u.children&&u.children.length>0&&(Pe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),V0(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:ZC(m,u.index),routesMeta:_})};return n.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let p of F0(u.path))l(u,f,p)}),e}function F0(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=F0(s.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...f),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function GC(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:JC(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var YC=/^:[\w-]+$/,KC=3,WC=2,QC=1,$C=10,XC=-2,rv=n=>n==="*";function ZC(n,e){let i=n.split("/"),s=i.length;return i.some(rv)&&(s+=XC),e&&(s+=WC),i.filter(l=>!rv(l)).reduce((l,u)=>l+(YC.test(u)?KC:u===""?QC:$C),s)}function JC(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function e1(n,e,i=!1){let{routesMeta:s}=n,l={},u="/",f=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=lu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),v=p.route;if(!b&&m&&i&&!s[s.length-1].route.index&&(b=lu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:jn([u,b.pathname]),pathnameBase:a1(jn([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=jn([u,b.pathnameBase]))}return f}function lu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=t1(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:b},v)=>{if(_==="*"){let w=h[v]||"";f=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const C=h[v];return b&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:n}}function t1(n,e=!1,i=!0){ln(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function n1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ln(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function i1(n,e="/"){let{pathname:i,search:s="",hash:l=""}=typeof n=="string"?Er(n):n;return{pathname:i?i.startsWith("/")?i:r1(i,e):e,search:l1(s),hash:o1(l)}}function r1(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Md(n,e,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s1(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function G0(n){let e=s1(n);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Y0(n,e,i,s=!1){let l;typeof n=="string"?l=Er(n):(l={...n},Pe(!l.pathname||!l.pathname.includes("?"),Md("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),Md("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),Md("#","search","hash",l)));let u=n===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=i;else{let b=e.length-1;if(!s&&f.startsWith("..")){let v=f.split("/");for(;v[0]==="..";)v.shift(),b-=1;l.pathname=v.join("/")}h=b>=0?e[b]:"/"}let p=i1(l,h),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var jn=n=>n.join("/").replace(/\/\/+/g,"/"),a1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),l1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,o1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function u1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var K0=["POST","PUT","PATCH","DELETE"];new Set(K0);var c1=["GET",...K0];new Set(c1);var Os=x.createContext(null);Os.displayName="DataRouter";var Bu=x.createContext(null);Bu.displayName="DataRouterState";var W0=x.createContext({isTransitioning:!1});W0.displayName="ViewTransition";var f1=x.createContext(new Map);f1.displayName="Fetchers";var d1=x.createContext(null);d1.displayName="Await";var bn=x.createContext(null);bn.displayName="Navigation";var _l=x.createContext(null);_l.displayName="Location";var $n=x.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var jh=x.createContext(null);jh.displayName="RouteError";function h1(n,{relative:e}={}){Pe(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=x.useContext(bn),{hash:l,pathname:u,search:f}=vl(n,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:jn([i,u])),s.createHref({pathname:h,search:f,hash:l})}function yl(){return x.useContext(_l)!=null}function Sr(){return Pe(yl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_l).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $0(n){x.useContext(bn).static||x.useLayoutEffect(n)}function p1(){let{isDataRoute:n}=x.useContext($n);return n?A1():m1()}function m1(){Pe(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(Os),{basename:e,navigator:i}=x.useContext(bn),{matches:s}=x.useContext($n),{pathname:l}=Sr(),u=JSON.stringify(G0(s)),f=x.useRef(!1);return $0(()=>{f.current=!0}),x.useCallback((p,m={})=>{if(ln(f.current,Q0),!f.current)return;if(typeof p=="number"){i.go(p);return}let _=Y0(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:jn([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,n])}x.createContext(null);function vl(n,{relative:e}={}){let{matches:i}=x.useContext($n),{pathname:s}=Sr(),l=JSON.stringify(G0(i));return x.useMemo(()=>Y0(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function g1(n,e){return X0(n,e)}function X0(n,e,i,s){var P;Pe(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(bn),{matches:u}=x.useContext($n),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",_=f&&f.route;{let j=_&&_.path||"";Z0(p,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Sr(),v;if(e){let j=typeof e=="string"?Er(e):e;Pe(m==="/"||((P=j.pathname)==null?void 0:P.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=b;let C=v.pathname||"/",w=C;if(m!=="/"){let j=m.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let L=q0(n,{pathname:w});ln(_||L!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ln(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=E1(L&&L.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:jn([m,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:jn([m,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,i,s);return e&&H?x.createElement(_l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},H):H}function _1(){let n=R1(),e=u1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),i?x.createElement("pre",{style:l},i):null,f)}var y1=x.createElement(_1,null),v1=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement($n.Provider,{value:this.props.routeContext},x.createElement(jh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b1({routeContext:n,match:e,children:i}){let s=x.useContext(Os);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement($n.Provider,{value:n},i)}function E1(n,e=[],i=null,s=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Pe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:_,errors:b}=i,v=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let b,v=!1,C=null,w=null;i&&(b=u&&m.route.id?u[m.route.id]:void 0,C=m.route.errorElement||y1,f&&(h<0&&_===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===_&&(v=!0,w=m.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,_+1)),H=()=>{let P;return b?P=C:v?P=w:m.route.Component?P=x.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,x.createElement(b1,{match:m,routeContext:{outlet:p,matches:L,isDataRoute:i!=null},children:P})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?x.createElement(v1,{location:i.location,revalidation:i.revalidation,component:C,error:b,children:H(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):H()},null)}function qh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(n){let e=x.useContext(Os);return Pe(e,qh(n)),e}function T1(n){let e=x.useContext(Bu);return Pe(e,qh(n)),e}function w1(n){let e=x.useContext($n);return Pe(e,qh(n)),e}function Vh(n){let e=w1(n),i=e.matches[e.matches.length-1];return Pe(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function C1(){return Vh("useRouteId")}function R1(){var s;let n=x.useContext(jh),e=T1("useRouteError"),i=Vh("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[i]}function A1(){let{router:n}=S1("useNavigate"),e=Vh("useNavigate"),i=x.useRef(!1);return $0(()=>{i.current=!0}),x.useCallback(async(l,u={})=>{ln(i.current,Q0),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var sv={};function Z0(n,e,i){!e&&!sv[n]&&(sv[n]=!0,ln(!1,i))}x.memo(N1);function N1({routes:n,future:e,state:i}){return X0(n,void 0,i,e)}function Ga(n){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O1({basename:n="/",children:e=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){Pe(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Er(i));let{pathname:p="/",search:m="",hash:_="",state:b=null,key:v="default"}=i,C=x.useMemo(()=>{let w=Gn(p,f);return w==null?null:{location:{pathname:w,search:m,hash:_,state:b,key:v},navigationType:s}},[f,p,m,_,b,v,s]);return ln(C!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:x.createElement(bn.Provider,{value:h},x.createElement(_l.Provider,{children:e,value:C}))}function I1({children:n,location:e}){return g1(lh(n),e)}function lh(n,e=[]){let i=[];return x.Children.forEach(n,(s,l)=>{if(!x.isValidElement(s))return;let u=[...e,l];if(s.type===x.Fragment){i.push.apply(i,lh(s.props.children,u));return}Pe(s.type===Ga,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lh(s.props.children,u)),i.push(f)}),i}var Jo="get",eu="application/x-www-form-urlencoded";function ju(n){return n!=null&&typeof n.tagName=="string"}function x1(n){return ju(n)&&n.tagName.toLowerCase()==="button"}function D1(n){return ju(n)&&n.tagName.toLowerCase()==="form"}function M1(n){return ju(n)&&n.tagName.toLowerCase()==="input"}function k1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L1(n,e){return n.button===0&&(!e||e==="_self")&&!k1(n)}var Yo=null;function U1(){if(Yo===null)try{new FormData(document.createElement("form"),0),Yo=!1}catch{Yo=!0}return Yo}var P1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kd(n){return n!=null&&!P1.has(n)?(ln(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):n}function z1(n,e){let i,s,l,u,f;if(D1(n)){let h=n.getAttribute("action");s=h?Gn(h,e):null,i=n.getAttribute("method")||Jo,l=kd(n.getAttribute("enctype"))||eu,u=new FormData(n)}else if(x1(n)||M1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(s=p?Gn(p,e):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||Jo,l=kd(n.getAttribute("formenctype"))||kd(h.getAttribute("enctype"))||eu,u=new FormData(h,n),!U1()){let{name:m,type:_,value:b}=n;if(_==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,b)}}else{if(ju(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Jo,s=null,l=eu,f=n}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}function Fh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function H1(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function j1(n,e,i){let s=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await H1(u,i);return f.links?f.links():[]}return[]}));return G1(s.flat(1).filter(B1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function av(n,e,i,s,l,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,h=(p,m)=>{var _;return i[m].pathname!==p.pathname||((_=i[m].route.path)==null?void 0:_.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function q1(n,e,{includeHydrateFallback:i}={}){return V1(n.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function V1(n){return[...new Set(n)]}function F1(n){let e={},i=Object.keys(n).sort();for(let s of i)e[s]=n[s];return e}function G1(n,e){let i=new Set;return new Set(e),n.reduce((s,l)=>{let u=JSON.stringify(F1(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y1=new Set([100,101,204,205]);function K1(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&Gn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function J0(){let n=x.useContext(Os);return Fh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function W1(){let n=x.useContext(Bu);return Fh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gh=x.createContext(void 0);Gh.displayName="FrameworkContext";function eb(){let n=x.useContext(Gh);return Fh(n,"You must render this element inside a <HydratedRouter> element"),n}function Q1(n,e){let i=x.useContext(Gh),[s,l]=x.useState(!1),[u,f]=x.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:b}=e,v=x.useRef(null);x.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let L=P=>{P.forEach(j=>{f(j.isIntersecting)})},H=new IntersectionObserver(L,{threshold:.5});return v.current&&H.observe(v.current),()=>{H.disconnect()}}},[n]),x.useEffect(()=>{if(s){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[s]);let C=()=>{l(!0)},w=()=>{l(!1),f(!1)};return i?n!=="intent"?[u,v,{}]:[u,v,{onFocus:Ha(h,C),onBlur:Ha(p,w),onMouseEnter:Ha(m,C),onMouseLeave:Ha(_,w),onTouchStart:Ha(b,C)}]:[!1,v,{}]}function Ha(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function $1({page:n,...e}){let{router:i}=J0(),s=x.useMemo(()=>q0(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?x.createElement(Z1,{page:n,matches:s,...e}):null}function X1(n){let{manifest:e,routeModules:i}=eb(),[s,l]=x.useState([]);return x.useEffect(()=>{let u=!1;return j1(n,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[n,e,i]),s}function Z1({page:n,matches:e,...i}){let s=Sr(),{manifest:l,routeModules:u}=eb(),{basename:f}=J0(),{loaderData:h,matches:p}=W1(),m=x.useMemo(()=>av(n,e,p,l,s,"data"),[n,e,p,l,s]),_=x.useMemo(()=>av(n,e,p,l,s,"assets"),[n,e,p,l,s]),b=x.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let w=new Set,L=!1;if(e.forEach(P=>{var K;let j=l.routes[P.route.id];!j||!j.hasLoader||(!m.some(Y=>Y.route.id===P.route.id)&&P.route.id in h&&((K=u[P.route.id])!=null&&K.shouldRevalidate)||j.hasClientLoader?L=!0:w.add(P.route.id))}),w.size===0)return[];let H=K1(n,f);return L&&w.size>0&&H.searchParams.set("_routes",e.filter(P=>w.has(P.route.id)).map(P=>P.route.id).join(",")),[H.pathname+H.search]},[f,h,s,l,m,e,n,u]),v=x.useMemo(()=>q1(_,l),[_,l]),C=X1(_);return x.createElement(x.Fragment,null,b.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),C.map(({key:w,link:L})=>x.createElement("link",{key:w,...L})))}function J1(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tb&&(window.__reactRouterVersion="7.6.2")}catch{}function eR({basename:n,children:e,window:i}){let s=x.useRef();s.current==null&&(s.current=BC({window:i,v5Compat:!0}));let l=s.current,[u,f]=x.useState({action:l.action,location:l.location}),h=x.useCallback(p=>{x.startTransition(()=>f(p))},[f]);return x.useLayoutEffect(()=>l.listen(h),[l,h]),x.createElement(O1,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ib=x.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:_,viewTransition:b,...v},C){let{basename:w}=x.useContext(bn),L=typeof m=="string"&&nb.test(m),H,P=!1;if(typeof m=="string"&&L&&(H=m,tb))try{let ae=new URL(window.location.href),Fe=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),yt=Gn(Fe.pathname,w);Fe.origin===ae.origin&&yt!=null?m=yt+Fe.search+Fe.hash:P=!0}catch{ln(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=h1(m,{relative:l}),[K,Y,V]=Q1(s,v),re=iR(m,{replace:f,state:h,target:p,preventScrollReset:_,relative:l,viewTransition:b});function de(ae){e&&e(ae),ae.defaultPrevented||re(ae)}let ge=x.createElement("a",{...v,...V,href:H||j,onClick:P||u?e:de,ref:J1(C,Y),target:p,"data-discover":!L&&i==="render"?"true":void 0});return K&&!L?x.createElement(x.Fragment,null,ge,x.createElement($1,{page:j})):ge});ib.displayName="Link";var tu=x.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:h,children:p,...m},_){let b=vl(f,{relative:m.relative}),v=Sr(),C=x.useContext(Bu),{navigator:w,basename:L}=x.useContext(bn),H=C!=null&&oR(b)&&h===!0,P=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,j=v.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(j=j.toLowerCase(),K=K?K.toLowerCase():null,P=P.toLowerCase()),K&&L&&(K=Gn(K,L)||K);const Y=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let V=j===P||!l&&j.startsWith(P)&&j.charAt(Y)==="/",re=K!=null&&(K===P||!l&&K.startsWith(P)&&K.charAt(P.length)==="/"),de={isActive:V,isPending:re,isTransitioning:H},ge=V?e:void 0,ae;typeof s=="function"?ae=s(de):ae=[s,V?"active":null,re?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Fe=typeof u=="function"?u(de):u;return x.createElement(ib,{...m,"aria-current":ge,className:ae,ref:_,style:Fe,to:f,viewTransition:h},typeof p=="function"?p(de):p)});tu.displayName="NavLink";var tR=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:l,state:u,method:f=Jo,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:b,...v},C)=>{let w=aR(),L=lR(h,{relative:m}),H=f.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&nb.test(h),j=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let Y=K.nativeEvent.submitter,V=(Y==null?void 0:Y.getAttribute("formmethod"))||f;w(Y||K.currentTarget,{fetcherKey:e,method:V,navigate:i,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:b})};return x.createElement("form",{ref:C,method:H,action:L,onSubmit:s?p:j,...v,"data-discover":!P&&n==="render"?"true":void 0})});tR.displayName="Form";function nR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(n){let e=x.useContext(Os);return Pe(e,nR(n)),e}function iR(n,{target:e,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let h=p1(),p=Sr(),m=vl(n,{relative:u});return x.useCallback(_=>{if(L1(_,e)){_.preventDefault();let b=i!==void 0?i:il(p)===il(m);h(n,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,h,m,i,s,e,n,l,u,f])}var rR=0,sR=()=>`__${String(++rR)}__`;function aR(){let{router:n}=rb("useSubmit"),{basename:e}=x.useContext(bn),i=C1();return x.useCallback(async(s,l={})=>{let{action:u,method:f,encType:h,formData:p,body:m}=z1(s,e);if(l.navigate===!1){let _=l.fetcherKey||sR();await n.fetch(_,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function lR(n,{relative:e}={}){let{basename:i}=x.useContext(bn),s=x.useContext($n);Pe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...vl(n||".",{relative:e})},f=Sr();if(n==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(b=>b).forEach(b=>h.append("index",b));let _=h.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:jn([i,u.pathname])),il(u)}function oR(n,e={}){let i=x.useContext(W0);Pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rb("useViewTransitionState"),l=vl(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Gn(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Gn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return lu(l.pathname,f)!=null||lu(l.pathname,u)!=null}[...Y1];const uR=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(n,e){if(!n)throw Is(e)},Is=function(n){return new Error("Firebase Database ("+sb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},cR=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],f=n[i++],h=n[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],f=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Yh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,h=f?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,_=u>>2,b=(u&3)<<4|h>>4;let v=(h&15)<<2|m>>6,C=m&63;p||(C=64,f||(v=64)),s.push(i[_],i[b],i[v],i[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ab(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],h=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const b=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||b==null)throw new fR;const v=u<<2|h>>4;if(s.push(v),m!==64){const C=h<<4&240|m>>2;if(s.push(C),b!==64){const w=m<<6&192|b;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lb=function(n){const e=ab(n);return Yh.encodeByteArray(e,!0)},ou=function(n){return lb(n).replace(/\./g,"")},uu=function(n){try{return Yh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n){return ob(void 0,n)}function ob(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!hR(i)||(n[i]=ob(n[i],e[i]));return n}function hR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>pR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof lv>"u")return;const n=lv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_R=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uu(n[1]);return e&&JSON.parse(e)},Kh=()=>{try{return uR()||mR()||gR()||_R()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ub=n=>{var e,i;return(i=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},yR=n=>{const e=ub(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},cb=()=>{var n;return(n=Kh())===null||n===void 0?void 0:n.config},fb=n=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n){return n.endsWith(".cloudworkstations.dev")}async function db(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ou(JSON.stringify(i)),ou(JSON.stringify(f)),""].join(".")}const Qa={};function bR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Qa))Qa[e]?n.emulator.push(e):n.prod.push(e);return n}function ER(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let ov=!1;function hb(n,e){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||Qa[n]===e||Qa[n]||ov)return;Qa[n]=e;function i(v){return`__firebase__banner__${v}`}const s="__firebase__banner",u=bR().prod.length>0;function f(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ov=!0,f()},v}function _(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=ER(s),C=i("text"),w=document.getElementById(C)||document.createElement("span"),L=i("learnmore"),H=document.getElementById(L)||document.createElement("a"),P=i("preprendIcon"),j=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const K=v.element;h(K),_(H,L);const Y=m();p(j,P),K.append(j,w,H,Y),document.body.appendChild(K)}u?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){const n=_t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wR(){return sb.NODE_ADMIN===!0}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}function CR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="FirebaseError";class En extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=RR,Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}}class Tr{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?AR(u,s):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new En(l,h,s)}}function AR(n,e){return n.replace(NR,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const NR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n){return JSON.parse(n)}function it(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=function(n){let e={},i={},s={},l="";try{const u=n.split(".");e=rl(uu(u[0])||""),i=rl(uu(u[1])||""),l=u[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},OR=function(n){const e=yb(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},IR=function(n){const e=yb(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ss(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function oh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cu(n,e,i){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(i,n[l],l,n));return s}function xi(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],f=e[l];if(uv(u)&&uv(f)){if(!xi(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function uv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ya(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ka(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)s[b]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)s[b]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let b=16;b<80;b++){const v=s[b-3]^s[b-8]^s[b-14]^s[b-16];s[b]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let b=0;b<80;b++){b<40?b<20?(m=h^u&(f^h),_=1518500249):(m=u^f^h,_=1859775393):b<60?(m=u&f|h&(u|f),_=2400959708):(m=u^f^h,_=3395469782);const v=(l<<5|l>>>27)+m+p+_+s[b]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function DR(n,e){const i=new MR(n,e);return i.subscribe.bind(i)}class MR{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");kR(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Ld(){}function qu(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,q(s<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Vu=function(n){let e=0;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1e3,PR=2,zR=4*60*60*1e3,HR=.5;function cv(n,e=UR,i=PR){const s=e*Math.pow(i,n),l=Math.round(HR*s*(Math.random()-.5)*2);return Math.min(zR,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class on{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BR=class{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new bl;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qR(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jR(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jR(n){return n===rr?void 0:n}function qR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BR(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ae||(Ae={}));const FR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},GR=Ae.INFO,YR={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},KR=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=YR[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fu{constructor(e){this.name=e,this._logLevel=GR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const WR=(n,e)=>e.some(i=>n instanceof i);let fv,dv;function QR(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vb=new WeakMap,uh=new WeakMap,bb=new WeakMap,Ud=new WeakMap,Qh=new WeakMap;function XR(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(Ni(n.result)),l()},f=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&vb.set(i,n)}).catch(()=>{}),Qh.set(e,n),e}function ZR(n){if(uh.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});uh.set(n,e)}let ch={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return uh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bb.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ni(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JR(n){ch=n(ch)}function eA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(Pd(this),e,...i);return bb.set(s,e.sort?e.sort():[e]),Ni(s)}:$R().includes(n)?function(...e){return n.apply(Pd(this),e),Ni(vb.get(this))}:function(...e){return Ni(n.apply(Pd(this),e))}}function tA(n){return typeof n=="function"?eA(n):(n instanceof IDBTransaction&&ZR(n),WR(n,QR())?new Proxy(n,ch):n)}function Ni(n){if(n instanceof IDBRequest)return XR(n);if(Ud.has(n))return Ud.get(n);const e=tA(n);return e!==n&&(Ud.set(n,e),Qh.set(e,n)),e}const Pd=n=>Qh.get(n);function Eb(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),h=Ni(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ni(f.result),p.oldVersion,p.newVersion,Ni(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const nA=["get","getKey","getAll","getAllKeys","count"],iA=["put","add","delete","clear"],zd=new Map;function hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=iA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||nA.includes(i)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),l&&p.done]))[0]};return zd.set(e,u),u}JR(n=>({...n,get:(e,i,s)=>hv(e,i)||n.get(e,i,s),has:(e,i)=>!!hv(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function sA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",pv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Fu("@firebase/app"),aA="@firebase/app-compat",lA="@firebase/analytics-compat",oA="@firebase/analytics",uA="@firebase/app-check-compat",cA="@firebase/app-check",fA="@firebase/auth",dA="@firebase/auth-compat",hA="@firebase/database",pA="@firebase/data-connect",mA="@firebase/database-compat",gA="@firebase/functions",_A="@firebase/functions-compat",yA="@firebase/installations",vA="@firebase/installations-compat",bA="@firebase/messaging",EA="@firebase/messaging-compat",SA="@firebase/performance",TA="@firebase/performance-compat",wA="@firebase/remote-config",CA="@firebase/remote-config-compat",RA="@firebase/storage",AA="@firebase/storage-compat",NA="@firebase/firestore",OA="@firebase/ai",IA="@firebase/firestore-compat",xA="firebase",DA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="[DEFAULT]",MA={[fh]:"fire-core",[aA]:"fire-core-compat",[oA]:"fire-analytics",[lA]:"fire-analytics-compat",[cA]:"fire-app-check",[uA]:"fire-app-check-compat",[fA]:"fire-auth",[dA]:"fire-auth-compat",[hA]:"fire-rtdb",[pA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[gA]:"fire-fn",[_A]:"fire-fn-compat",[yA]:"fire-iid",[vA]:"fire-iid-compat",[bA]:"fire-fcm",[EA]:"fire-fcm-compat",[SA]:"fire-perf",[TA]:"fire-perf-compat",[wA]:"fire-rc",[CA]:"fire-rc-compat",[RA]:"fire-gcs",[AA]:"fire-gcs-compat",[NA]:"fire-fst",[IA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,kA=new Map,hh=new Map;function mv(n,e){try{n.container.addComponent(e)}catch(i){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function vn(n){const e=n.name;if(hh.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,n);for(const i of fu.values())mv(i,n);for(const i of kA.values())mv(i,n);return!0}function wr(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Qt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Tr("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=DA;function Sb(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dh,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw Oi.create("bad-app-name",{appName:String(l)});if(i||(i=cb()),!i)throw Oi.create("no-options");const u=fu.get(l);if(u){if(xi(i,u.options)&&xi(s,u.config))return u;throw Oi.create("duplicate-app",{appName:l})}const f=new VR(l);for(const p of hh.values())f.addComponent(p);const h=new UA(i,s,f);return fu.set(l,h),h}function $h(n=dh){const e=fu.get(n);if(!e&&n===dh&&cb())return Sb();if(!e)throw Oi.create("no-app",{appName:n});return e}function Xt(n,e,i){var s;let l=(s=MA[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(h.join(" "));return}vn(new on(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebase-heartbeat-database",zA=1,sl="firebase-heartbeat-store";let Hd=null;function Tb(){return Hd||(Hd=Eb(PA,zA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),Hd}async function HA(n){try{const i=(await Tb()).transaction(sl),s=await i.objectStore(sl).get(wb(n));return await i.done,s}catch(e){if(e instanceof En)Yn.warn(e.message);else{const i=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(i.message)}}}async function gv(n,e){try{const s=(await Tb()).transaction(sl,"readwrite");await s.objectStore(sl).put(e,wb(n)),await s.done}catch(i){if(i instanceof En)Yn.warn(i.message);else{const s=Oi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Yn.warn(s.message)}}}function wb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,jA=30;class qA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>jA){const f=GA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=_v(),{heartbeatsToSend:s,unsentEntries:l}=VA(this._heartbeatsCache.heartbeats),u=ou(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Yn.warn(i),""}}}function _v(){return new Date().toISOString().substring(0,10)}function VA(n,e=BA){const i=[];let s=n.slice();for(const l of n){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),yv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class FA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?_b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await HA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return gv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return gv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function yv(n){return ou(JSON.stringify({version:2,heartbeats:n})).length}function GA(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){vn(new on("platform-logger",e=>new rA(e),"PRIVATE")),vn(new on("heartbeat",e=>new qA(e),"PRIVATE")),Xt(fh,pv,n),Xt(fh,pv,"esm2017"),Xt("fire-js","")}YA("");var vv={};const bv="@firebase/database",Ev="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb="";function KA(n){Cb=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),it(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:rl(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WA(e)}}catch{}return new QA},lr=Rb("localStorage"),$A=Rb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Fu("@firebase/database"),XA=function(){let n=1;return function(){return n++}}(),Ab=function(n){const e=LR(n),i=new xR;i.update(e);const s=i.digest();return Yh.encodeByteArray(s)},El=function(...n){let e="";for(let i=0;i<n.length;i++){const s=n[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=El.apply(null,s):typeof s=="object"?e+=it(s):e+=s,e+=" "}return e};let $a=null,Sv=!0;const ZA=function(n,e){q(!0,"Can't turn on custom loggers persistently."),gs.logLevel=Ae.VERBOSE,$a=gs.log.bind(gs)},ot=function(...n){if(Sv===!0&&(Sv=!1,$a===null&&$A.get("logging_enabled")===!0&&ZA()),$a){const e=El.apply(null,n);$a(e)}},Sl=function(n){return function(...e){ot(n,...e)}},ph=function(...n){const e="FIREBASE INTERNAL ERROR: "+El(...n);gs.error(e)},Kn=function(...n){const e=`FIREBASE FATAL ERROR: ${El(...n)}`;throw gs.error(e),new Error(e)},gt=function(...n){const e="FIREBASE WARNING: "+El(...n);gs.warn(e)},JA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xh=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},eN=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ts="[MIN_NAME]",fr="[MAX_NAME]",Cr=function(n,e){if(n===e)return 0;if(n===Ts||e===fr)return-1;if(e===Ts||n===fr)return 1;{const i=Tv(n),s=Tv(e);return i!==null?s!==null?i-s===0?n.length-e.length:i-s:-1:s!==null?1:n<e?-1:1}},tN=function(n,e){return n===e?0:n<e?-1:1},Ba=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+it(e))},Zh=function(n){if(typeof n!="object"||n===null)return it(n);const e=[];for(const s in n)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=it(e[s]),i+=":",i+=Zh(n[e[s]]);return i+="}",i},Nb=function(n,e){const i=n.length;if(i<=e)return[n];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(n.substring(l,i)):s.push(n.substring(l,l+e));return s};function ut(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const Ob=function(n){q(!Xh(n),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,u,f,h,p;n===0?(u=0,f=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),u=h+s,f=Math.round(n*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,f=Math.round(n/Math.pow(2,1-s-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let b="";for(p=0;p<64;p+=8){let v=parseInt(_.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),b=b+v}return b.toLowerCase()},nN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function rN(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+i);return s.code=n.toUpperCase(),s}const sN=new RegExp("^-?(0*)\\d{1,10}$"),aN=-2147483648,lN=2147483647,Tv=function(n){if(sN.test(n)){const e=Number(n);if(e>=aN&&e<=lN)return e}return null},ks=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw gt("Exception was thrown by user callback.",i),e},Math.floor(0))}},oN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xa=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}}class nu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="5",Ib="v",xb="s",Db="r",Mb="f",kb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Lb="ls",Ub="p",mh="ac",Pb="websocket",zb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,i,s,l,u=!1,f="",h=!1,p=!1,m=null){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function fN(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Bb(n,e,i){q(typeof e=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let s;if(e===Pb)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===zb)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fN(n)&&(i.ns=n.namespace);const l=[];return ut(i,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.counters_={}}incrementCounter(e,i=1){Sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return dR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={},jd={};function ep(n){const e=n.toString();return Bd[e]||(Bd[e]=new dN),Bd[e]}function hN(n,e){const i=n.toString();return jd[i]||(jd[i]=e()),jd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&ks(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="start",mN="close",gN="pLPCommand",_N="pRTLPCB",jb="id",qb="pw",Vb="ser",yN="cb",vN="seg",bN="ts",EN="d",SN="dframe",Fb=1870,Gb=30,TN=Fb-Gb,wN=25e3,CN=3e4;class ps{constructor(e,i,s,l,u,f,h){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sl(e),this.stats_=ep(i),this.urlFn=p=>(this.appCheckToken&&(p[mh]=this.appCheckToken),Bb(i,zb,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new pN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CN)),eN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tp((...u)=>{const[f,h,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===wv)this.id=h,this.password=p;else if(f===mN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[wv]="t",s[Vb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[yN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ib]=Jh,this.transportSessionId&&(s[xb]=this.transportSessionId),this.lastSessionId&&(s[Lb]=this.lastSessionId),this.applicationId&&(s[Ub]=this.applicationId),this.appCheckToken&&(s[mh]=this.appCheckToken),typeof location<"u"&&location.hostname&&kb.test(location.hostname)&&(s[Db]=Mb);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ps.forceAllow_=!0}static forceDisallow(){ps.forceDisallow_=!0}static isAvailable(){return ps.forceAllow_?!0:!ps.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nN()&&!iN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=it(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=lb(i),l=Nb(s,TN);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[SN]="t",s[jb]=e,s[qb]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=it(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class tp{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XA(),window[gN+this.uniqueCallbackIdentifier]=e,window[_N+this.uniqueCallbackIdentifier]=i,this.myIFrame=tp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){ot("frame writing exception"),h.stack&&ot(h.stack),ot(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jb]=this.myID,e[qb]=this.myPW,e[Vb]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Gb+s.length<=Fb;){const f=this.pendingSegs.shift();s=s+"&"+vN+l+"="+f.seg+"&"+bN+l+"="+f.ts+"&"+EN+l+"="+f.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(wN)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=16384,AN=45e3;let du=null;typeof MozWebSocket<"u"?du=MozWebSocket:typeof WebSocket<"u"&&(du=WebSocket);class tn{constructor(e,i,s,l,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sl(this.connId),this.stats_=ep(i),this.connURL=tn.connectionURL_(i,f,h,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,u){const f={};return f[Ib]=Jh,typeof location<"u"&&location.hostname&&kb.test(location.hostname)&&(f[Db]=Mb),i&&(f[xb]=i),s&&(f[Lb]=s),l&&(f[mh]=l),u&&(f[Ub]=u),Bb(e,Pb,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lr.set("previous_websocket_failure",!0);try{let s;wR(),this.mySock=new du(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&du!==null&&!tn.forceDisallow_}static previouslyFailed(){return lr.isInMemoryStorage||lr.get("previous_websocket_failure")===!0}markConnectionHealthy(){lr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=rl(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=it(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Nb(i,RN);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AN))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static get ALL_TRANSPORTS(){return[ps,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=tn&&tn.isAvailable();let s=i&&!tn.previouslyFailed();if(e.webSocketOnly&&(i||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{const l=this.transports_=[];for(const u of al.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);al.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}al.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=6e4,ON=5e3,IN=10*1024,xN=100*1024,qd="t",Cv="d",DN="s",Rv="r",MN="e",Av="o",Nv="a",Ov="n",Iv="p",kN="h";class LN{constructor(e,i,s,l,u,f,h,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sl("c:"+this.id+":"),this.transportManager_=new al(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Xa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qd in e){const i=e[qd];i===Nv?this.upgradeIfSecondaryHealthy_():i===Rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Av&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ba("t",e),s=Ba("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Iv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Nv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ov,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ba("t",e),s=Ba("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ba(qd,e);if(Cv in e){const s=e[Cv];if(i===kN){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Ov){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===DN?this.onConnectionShutdown_(s):i===Rv?this.onReset_(s):i===MN?ph("Server Error: "+s):i===Av?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ph("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Jh!==s&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),Xa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ON))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Iv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Kb{static getInstance(){return new hu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=32,Dv=768;class Ne{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ee(){return new Ne("")}function ce(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Di(n){return n.pieces_.length-n.pieceNum_}function Me(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ne(n.pieces_,e)}function np(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function UN(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function ll(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Wb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new Ne(e,0)}function Be(n,e){const i=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)i.push(n.pieces_[s]);if(e instanceof Ne)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new Ne(i,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function wt(n,e){const i=ce(n),s=ce(e);if(i===null)return e;if(i===s)return wt(Me(n),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function PN(n,e){const i=ll(n,0),s=ll(e,0);for(let l=0;l<i.length&&l<s.length;l++){const u=Cr(i[l],s[l]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function ip(n,e){if(Di(n)!==Di(e))return!1;for(let i=n.pieceNum_,s=e.pieceNum_;i<=n.pieces_.length;i++,s++)if(n.pieces_[i]!==e.pieces_[s])return!1;return!0}function $t(n,e){let i=n.pieceNum_,s=e.pieceNum_;if(Di(n)>Di(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class zN{constructor(e,i){this.errorPrefix_=i,this.parts_=ll(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Vu(this.parts_[s]);Qb(this)}}function HN(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Vu(e),Qb(n)}function BN(n){const e=n.parts_.pop();n.byteLength_-=Vu(e),n.parts_.length>0&&(n.byteLength_-=1)}function Qb(n){if(n.byteLength_>Dv)throw new Error(n.errorPrefix_+"has a key path longer than "+Dv+" bytes ("+n.byteLength_+").");if(n.parts_.length>xv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xv+") or object contains a cycle "+sr(n))}function sr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends Kb{static getInstance(){return new rp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=1e3,jN=60*5*1e3,Mv=30*1e3,qN=1.3,VN=3e4,FN="server_kill",kv=3;class qn extends Yb{constructor(e,i,s,l,u,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=qn.nextPersistentConnectionId_++,this.log_=Sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ja,this.maxReconnectDelay_=jN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(it(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new bl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,m=h.s;qn.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Sn(e,"w")){const s=Ss(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||IR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=OR(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,u){this.initConnection_();const f={p:i,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+it(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):ph("Unrecognized action received from server: "+it(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VN&&(this.reconnectDelay_=ja),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+qn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,s())},m=function(b){q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=v&&v.token,h=new LN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,C=>{gt(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(FN)},u))}catch(b){this.log_("Failed to get token: "+b),f||(this.repoInfo_.nodeAdmin&&gt(b),p())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],oh(this.interruptReasons_)&&(this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(u=>Zh(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new Ne(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){ot("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kv&&(this.reconnectDelay_=Mv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ot("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+Cb.replace(/\./g,"-")]=1,Wh()?e["framework.cordova"]=1:mb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hu.getInstance().currentlyOnline();return oh(this.interruptReasons_)&&e}}qn.nextPersistentConnectionId_=0;qn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new fe(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new fe(Ts,e),l=new fe(Ts,i);return this.compare(s,l)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class $b extends Gu{static get __EMPTY_NODE(){return Ko}static set __EMPTY_NODE(e){Ko=e}compare(e,i){return Cr(e.name,i.name)}isDefinedOn(e){throw Is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(fr,Ko)}makePost(e,i){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,Ko)}toString(){return".key"}}const _s=new $b;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?s(e.key,i):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??tt.RED,this.left=l??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,i,s,l,u){return new tt(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class GN{copy(e,i,s,l,u){return this}insert(e,i,s){return new tt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,i=Ct.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Ct(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Wo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Wo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Wo(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new GN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n,e){return Cr(n.name,e.name)}function sp(n,e){return Cr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;function KN(n){gh=n}const Xb=function(n){return typeof n=="number"?"number:"+Ob(n):"string:"+n},Zb=function(n){if(n.isLeafNode()){const e=n.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sn(e,".sv"),"Priority must be a string or number.")}else q(n===gh||n.isEmpty(),"priority of unexpected type.");q(n===gh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;class et{static set __childrenNodeConstructor(e){Lv=e}static get __childrenNodeConstructor(){return Lv}constructor(e,i=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Zb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:ce(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=ce(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(q(s!==".priority"||Di(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xb(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=Ob(this.value_):e+=this.value_,this.lazyHash_=Ab(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=et.VALUE_TYPE_ORDER.indexOf(i),u=et.VALUE_TYPE_ORDER.indexOf(s);return q(l>=0,"Unknown leaf type: "+i),q(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jb,eE;function WN(n){Jb=n}function QN(n){eE=n}class $N extends Gu{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),u=s.compareTo(l);return u===0?Cr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(fr,new et("[PRIORITY-POST]",eE))}makePost(e,i){const s=Jb(e);return new fe(i,new et("[PRIORITY-POST]",s))}toString(){return".priority"}}const je=new $N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=Math.log(2);class ZN{constructor(e){const i=u=>parseInt(Math.log(u)/XN,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pu=function(n,e,i,s){n.sort(e);const l=function(p,m){const _=m-p;let b,v;if(_===0)return null;if(_===1)return b=n[p],v=i?i(b):b,new tt(v,b.node,tt.BLACK,null,null);{const C=parseInt(_/2,10)+p,w=l(p,C),L=l(C+1,m);return b=n[C],v=i?i(b):b,new tt(v,b.node,tt.BLACK,w,L)}},u=function(p){let m=null,_=null,b=n.length;const v=function(w,L){const H=b-w,P=b;b-=w;const j=l(H+1,P),K=n[H],Y=i?i(K):K;C(new tt(Y,K.node,L,null,j))},C=function(w){m?(m.left=w,m=w):(_=w,m=w)};for(let w=0;w<p.count;++w){const L=p.nextBitIsOne(),H=Math.pow(2,p.count-(w+1));L?v(H,tt.BLACK):(v(H,tt.BLACK),v(H,tt.RED))}return _},f=new ZN(n.length),h=u(f);return new Ct(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;const hs={};class zn{static get Default(){return q(hs&&je,"ChildrenNode.ts has not been loaded"),Vd=Vd||new zn({".priority":hs},{".priority":je}),Vd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ss(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Ct?i:null}hasIndex(e){return Sn(this.indexSet_,e.toString())}addIndex(e,i){q(e!==_s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=i.getIterator(fe.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;l?h=pu(s,e.getCompare()):h=hs;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new zn(_,m)}addToIndexes(e,i){const s=cu(this.indexes_,(l,u)=>{const f=Ss(this.indexSet_,u);if(q(f,"Missing index implementation for "+u),l===hs)if(f.isDefinedOn(e.node)){const h=[],p=i.getIterator(fe.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),pu(h,f.getCompare())}else return hs;else{const h=i.get(e.name);let p=l;return h&&(p=p.remove(new fe(e.name,h))),p.insert(e,e.node)}});return new zn(s,this.indexSet_)}removeFromIndexes(e,i){const s=cu(this.indexes_,l=>{if(l===hs)return l;{const u=i.get(e.name);return u?l.remove(new fe(e.name,u)):l}});return new zn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;class ie{static get EMPTY_NODE(){return qa||(qa=new ie(new Ct(sp),null,zn.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Zb(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qa}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?qa:i}}getChild(e){const i=ce(e);return i===null?this:this.getImmediateChild(i).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new fe(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?qa:this.priorityNode_;return new ie(l,f,u)}}updateChild(e,i){const s=ce(e);if(s===null)return i;{q(ce(e)!==".priority"||Di(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Me(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,u=!0;if(this.forEachChild(je,(f,h)=>{i[f]=h.val(e),s++,u&&ie.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const h in i)f[h]=i[h];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xb(this.getPriority().val())+":"),this.forEachChild(je,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":Ab(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new fe(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fe(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fe(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,fe.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tl?-1:0}withIndex(e){if(e===_s||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(je),l=i.getIterator(je);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===_s?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class JN extends ie{constructor(){super(new Ct(sp),ie.EMPTY_NODE,zn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const Tl=new JN;Object.defineProperties(fe,{MIN:{value:new fe(Ts,ie.EMPTY_NODE)},MAX:{value:new fe(fr,Tl)}});$b.__EMPTY_NODE=ie.EMPTY_NODE;et.__childrenNodeConstructor=ie;KN(Tl);QN(Tl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=!0;function nt(n,e=null){if(n===null)return ie.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new et(i,nt(e))}if(!(n instanceof Array)&&eO){const i=[];let s=!1;if(ut(n,(f,h)=>{if(f.substring(0,1)!=="."){const p=nt(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new fe(f,p)))}}),i.length===0)return ie.EMPTY_NODE;const u=pu(i,YN,f=>f.name,sp);if(s){const f=pu(i,je.getCompare());return new ie(u,nt(e),new zn({".priority":f},{".priority":je}))}else return new ie(u,nt(e),zn.Default)}else{let i=ie.EMPTY_NODE;return ut(n,(s,l)=>{if(Sn(n,s)&&s.substring(0,1)!=="."){const u=nt(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(nt(e))}}WN(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends Gu{constructor(e){super(),this.indexPath_=e,q(!me(e)&&ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),u=s.compareTo(l);return u===0?Cr(e.name,i.name):u}makePost(e,i){const s=nt(e),l=ie.EMPTY_NODE.updateChild(this.indexPath_,s);return new fe(i,l)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,Tl);return new fe(fr,e)}toString(){return ll(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends Gu{compare(e,i){const s=e.node.compareTo(i.node);return s===0?Cr(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,i){const s=nt(e);return new fe(i,s)}toString(){return".value"}}const iO=new nO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n){return{type:"value",snapshotNode:n}}function ws(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ol(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ul(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function rO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.index_=e}updateChild(e,i,s,l,u,f){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(i)?f.trackChildChange(ol(i,h)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(ws(i,s)):f.trackChildChange(ul(i,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(je,(l,u)=>{i.hasChild(l)||s.trackChildChange(ol(l,u))}),i.isLeafNode()||i.forEachChild(je,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||s.trackChildChange(ul(l,u,f))}else s.trackChildChange(ws(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.indexedFilter_=new ap(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cl.getStartPost_(e),this.endPost_=cl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,u,f){return this.matches(new fe(i,s))||(s=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,u,f)}updateFullNode(e,i,s){i.isLeafNode()&&(i=ie.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(ie.EMPTY_NODE);const u=this;return i.forEachChild(je,(f,h)=>{u.matches(new fe(f,h))||(l=l.updateImmediateChild(f,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new cl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,u,f){return this.rangedFilter_.matches(new fe(i,s))||(s=ie.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,u,f):this.fullLimitUpdateChild_(e,i,s,u,f)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=ie.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(ie.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,u){let f;if(this.reverse_){const b=this.index_.getCompare();f=(v,C)=>b(C,v)}else f=this.index_.getCompare();const h=e;q(h.numChildren()===this.limit_,"");const p=new fe(i,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(i)){const b=h.getImmediateChild(i);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===i||h.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const C=v==null?1:f(v,p);if(_&&!s.isEmpty()&&C>=0)return u!=null&&u.trackChildChange(ul(i,s,b)),h.updateImmediateChild(i,s);{u!=null&&u.trackChildChange(ol(i,b));const L=h.updateImmediateChild(i,ie.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(ws(v.name,v.node)),L.updateImmediateChild(v.name,v.node)):L}}else return s.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(ol(m.name,m.node)),u.trackChildChange(ws(i,s))),h.updateImmediateChild(i,s).updateImmediateChild(m.name,ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ts}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new lp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aO(n){return n.loadsAllData()?new ap(n.getIndex()):n.hasLimit()?new sO(n):new cl(n)}function Uv(n){const e={};if(n.isDefault())return e;let i;if(n.index_===je?i="$priority":n.index_===iO?i="$value":n.index_===_s?i="$key":(q(n.index_ instanceof tO,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=it(i),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=it(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+it(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=it(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+it(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Pv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==je&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Yb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Sl("p:rest:"),this.listens_={}}listen(e,i,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=mu.getListenId_(e,s),h={};this.listens_[f]=h;const p=Uv(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let b=_;if(m===404&&(b=null,m=null),m===null&&this.onDataUpdate_(u,b,!1,s),Ss(this.listens_,f)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,i){const s=mu.getListenId_(e,i);delete this.listens_[s]}get(e){const i=Uv(e._queryParams),s=e._path.toString(),l=new bl;return this.restRequest_(s+".json",i,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ds(i);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=rl(h.responseText)}catch{gt("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&gt("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(){return{value:null,children:new Map}}function nE(n,e,i){if(me(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const s=ce(e);n.children.has(s)||n.children.set(s,gu());const l=n.children.get(s);e=Me(e),nE(l,e,i)}}function _h(n,e,i){n.value!==null?i(e,n.value):oO(n,(s,l)=>{const u=new Ne(e.toString()+"/"+s);_h(l,u,i)})}function oO(n,e){n.children.forEach((i,s)=>{e(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&ut(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=10*1e3,cO=30*1e3,fO=5*60*1e3;class dO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new uO(e);const s=zv+(cO-zv)*Math.random();Xa(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;ut(e,(l,u)=>{u>0&&Sn(this.statsToReport_,l)&&(i[l]=u,s=!0)}),s&&this.server_.reportStats(i),Xa(this.reportStats_.bind(this),Math.floor(Math.random()*2*fO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function op(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function up(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=rn.ACK_USER_WRITE,this.source=op()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ne(e));return new _u(Ee(),i,this.revert)}}else return q(ce(this.path)===e,"operationForChild called for unrelated child."),new _u(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,i){this.source=e,this.path=i,this.type=rn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new fl(this.source,Ee()):new fl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=rn.OVERWRITE}operationForChild(e){return me(this.path)?new dr(this.source,Ee(),this.snap.getImmediateChild(e)):new dr(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=rn.MERGE}operationForChild(e){if(me(this.path)){const i=this.children.subtree(new Ne(e));return i.isEmpty()?null:i.value?new dr(this.source,Ee(),i.value):new Cs(this.source,Ee(),i)}else return q(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const i=ce(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pO(n,e,i,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(rO(f.childName,f.snapshotNode))}),Va(n,l,"child_removed",e,s,i),Va(n,l,"child_added",e,s,i),Va(n,l,"child_moved",u,s,i),Va(n,l,"child_changed",e,s,i),Va(n,l,"value",e,s,i),l}function Va(n,e,i,s,l,u){const f=s.filter(h=>h.type===i);f.sort((h,p)=>gO(n,h,p)),f.forEach(h=>{const p=mO(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function mO(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function gO(n,e,i){if(e.childName==null||i.childName==null)throw Is("Should only compare child_ events.");const s=new fe(e.childName,e.snapshotNode),l=new fe(i.childName,i.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n,e){return{eventCache:n,serverCache:e}}function Za(n,e,i,s){return Yu(new hr(e,i,s),n.serverCache)}function iE(n,e,i,s){return Yu(n.eventCache,new hr(e,i,s))}function yh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function pr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;const _O=()=>(Fd||(Fd=new Ct(tN)),Fd);class De{static fromObject(e){let i=new De(null);return ut(e,(s,l)=>{i=i.set(new Ne(s),l)}),i}constructor(e,i=_O()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ee(),value:this.value};if(me(e))return null;{const s=ce(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Me(e),i);return u!=null?{path:Be(new Ne(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const i=ce(e),s=this.children.get(i);return s!==null?s.subtree(Me(e)):new De(null)}}set(e,i){if(me(e))return new De(i,this.children);{const s=ce(e),u=(this.children.get(s)||new De(null)).set(Me(e),i),f=this.children.insert(s,u);return new De(this.value,f)}}remove(e){if(me(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const i=ce(e),s=this.children.get(i);if(s){const l=s.remove(Me(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new De(null):new De(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const i=ce(e),s=this.children.get(i);return s?s.get(Me(e)):null}}setTree(e,i){if(me(e))return i;{const s=ce(e),u=(this.children.get(s)||new De(null)).setTree(Me(e),i);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new De(this.value,f)}}fold(e){return this.fold_(Ee(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Be(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,Ee(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(me(e))return null;{const u=ce(e),f=this.children.get(u);return f?f.findOnPath_(Me(e),Be(i,u),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ee(),i)}foreachOnPath_(e,i,s){if(me(e))return this;{this.value&&s(i,this.value);const l=ce(e),u=this.children.get(l);return u?u.foreachOnPath_(Me(e),Be(i,l),s):new De(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(Be(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.writeTree_=e}static empty(){return new an(new De(null))}}function Ja(n,e,i){if(me(e))return new an(new De(i));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=wt(l,e);return u=u.updateChild(f,i),new an(n.writeTree_.set(l,u))}else{const l=new De(i),u=n.writeTree_.setTree(e,l);return new an(u)}}}function vh(n,e,i){let s=n;return ut(i,(l,u)=>{s=Ja(s,Be(e,l),u)}),s}function Hv(n,e){if(me(e))return an.empty();{const i=n.writeTree_.setTree(e,new De(null));return new an(i)}}function bh(n,e){return Rr(n,e)!=null}function Rr(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(wt(i.path,e)):null}function Bv(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(je,(s,l)=>{e.push(new fe(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new fe(s,l.value))}),e}function Ii(n,e){if(me(e))return n;{const i=Rr(n,e);return i!=null?new an(new De(i)):new an(n.writeTree_.subtree(e))}}function Eh(n){return n.writeTree_.isEmpty()}function Rs(n,e){return rE(Ee(),n.writeTree_,e)}function rE(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=rE(Be(n,l),u,i)}),!i.getChild(n).isEmpty()&&s!==null&&(i=i.updateChild(Be(n,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n,e){return oE(e,n)}function yO(n,e,i,s,l){q(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(n.visibleWrites=Ja(n.visibleWrites,e,i)),n.lastWriteId=s}function vO(n,e,i,s){q(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:s,visible:!0}),n.visibleWrites=vh(n.visibleWrites,e,i),n.lastWriteId=s}function bO(n,e){for(let i=0;i<n.allWrites.length;i++){const s=n.allWrites[i];if(s.writeId===e)return s}return null}function EO(n,e){const i=n.allWrites.findIndex(h=>h.writeId===e);q(i>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[i];n.allWrites.splice(i,1);let l=s.visible,u=!1,f=n.allWrites.length-1;for(;l&&f>=0;){const h=n.allWrites[f];h.visible&&(f>=i&&SO(h,s.path)?l=!1:$t(s.path,h.path)&&(u=!0)),f--}if(l){if(u)return TO(n),!0;if(s.snap)n.visibleWrites=Hv(n.visibleWrites,s.path);else{const h=s.children;ut(h,p=>{n.visibleWrites=Hv(n.visibleWrites,Be(s.path,p))})}return!0}else return!1}function SO(n,e){if(n.snap)return $t(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&$t(Be(n.path,i),e))return!0;return!1}function TO(n){n.visibleWrites=sE(n.allWrites,wO,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function wO(n){return n.visible}function sE(n,e,i){let s=an.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const f=u.path;let h;if(u.snap)$t(i,f)?(h=wt(i,f),s=Ja(s,h,u.snap)):$t(f,i)&&(h=wt(f,i),s=Ja(s,Ee(),u.snap.getChild(h)));else if(u.children){if($t(i,f))h=wt(i,f),s=vh(s,h,u.children);else if($t(f,i))if(h=wt(f,i),me(h))s=vh(s,Ee(),u.children);else{const p=Ss(u.children,ce(h));if(p){const m=p.getChild(Me(h));s=Ja(s,Ee(),m)}}}else throw Is("WriteRecord should have .snap or .children")}}return s}function aE(n,e,i,s,l){if(!s&&!l){const u=Rr(n.visibleWrites,e);if(u!=null)return u;{const f=Ii(n.visibleWrites,e);if(Eh(f))return i;if(i==null&&!bh(f,Ee()))return null;{const h=i||ie.EMPTY_NODE;return Rs(f,h)}}}else{const u=Ii(n.visibleWrites,e);if(!l&&Eh(u))return i;if(!l&&i==null&&!bh(u,Ee()))return null;{const f=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&($t(m.path,e)||$t(e,m.path))},h=sE(n.allWrites,f,e),p=i||ie.EMPTY_NODE;return Rs(h,p)}}}function CO(n,e,i){let s=ie.EMPTY_NODE;const l=Rr(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(je,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(i){const u=Ii(n.visibleWrites,e);return i.forEachChild(je,(f,h)=>{const p=Rs(Ii(u,new Ne(f)),h);s=s.updateImmediateChild(f,p)}),Bv(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=Ii(n.visibleWrites,e);return Bv(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function RO(n,e,i,s,l){q(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Be(e,i);if(bh(n.visibleWrites,u))return null;{const f=Ii(n.visibleWrites,u);return Eh(f)?l.getChild(i):Rs(f,l.getChild(i))}}function AO(n,e,i,s){const l=Be(e,i),u=Rr(n.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(i)){const f=Ii(n.visibleWrites,l);return Rs(f,s.getNode().getImmediateChild(i))}else return null}function NO(n,e){return Rr(n.visibleWrites,e)}function OO(n,e,i,s,l,u,f){let h;const p=Ii(n.visibleWrites,e),m=Rr(p,Ee());if(m!=null)h=m;else if(i!=null)h=Rs(p,i);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const _=[],b=f.getCompare(),v=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let C=v.getNext();for(;C&&_.length<l;)b(C,s)!==0&&_.push(C),C=v.getNext();return _}else return[]}function IO(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function yu(n,e,i,s){return aE(n.writeTree,n.treePath,e,i,s)}function dp(n,e){return CO(n.writeTree,n.treePath,e)}function jv(n,e,i,s){return RO(n.writeTree,n.treePath,e,i,s)}function vu(n,e){return NO(n.writeTree,Be(n.treePath,e))}function xO(n,e,i,s,l,u){return OO(n.writeTree,n.treePath,e,i,s,l,u)}function hp(n,e,i){return AO(n.writeTree,n.treePath,e,i)}function lE(n,e){return oE(Be(n.treePath,e),n.writeTree)}function oE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,ul(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,ol(s,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,ws(s,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,ul(s,e.snapshotNode,l.oldSnap));else throw Is("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const uE=new MO;class pp{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hp(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pr(this.viewCache_),u=xO(this.writes_,l,i,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){return{filter:n}}function LO(n,e){q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function UO(n,e,i,s,l){const u=new DO;let f,h;if(i.type===rn.OVERWRITE){const m=i;m.source.fromUser?f=Sh(n,e,m.path,m.snap,s,l,u):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!me(m.path),f=bu(n,e,m.path,m.snap,s,l,h,u))}else if(i.type===rn.MERGE){const m=i;m.source.fromUser?f=zO(n,e,m.path,m.children,s,l,u):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=Th(n,e,m.path,m.children,s,l,h,u))}else if(i.type===rn.ACK_USER_WRITE){const m=i;m.revert?f=jO(n,e,m.path,s,l,u):f=HO(n,e,m.path,m.affectedTree,s,l,u)}else if(i.type===rn.LISTEN_COMPLETE)f=BO(n,e,i.path,s,u);else throw Is("Unknown operation type: "+i.type);const p=u.getChanges();return PO(e,f,p),{viewCache:f,changes:p}}function PO(n,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=yh(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(tE(yh(e)))}}function cE(n,e,i,s,l,u){const f=e.eventCache;if(vu(s,i)!=null)return e;{let h,p;if(me(i))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=pr(e),_=m instanceof ie?m:ie.EMPTY_NODE,b=dp(s,_);h=n.filter.updateFullNode(e.eventCache.getNode(),b,u)}else{const m=yu(s,pr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ce(i);if(m===".priority"){q(Di(i)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const b=jv(s,i,_,p);b!=null?h=n.filter.updatePriority(_,b):h=f.getNode()}else{const _=Me(i);let b;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const v=jv(s,i,f.getNode(),p);v!=null?b=f.getNode().getImmediateChild(m).updateChild(_,v):b=f.getNode().getImmediateChild(m)}else b=hp(s,m,e.serverCache);b!=null?h=n.filter.updateChild(f.getNode(),m,b,_,l,u):h=f.getNode()}}return Za(e,h,f.isFullyInitialized()||me(i),n.filter.filtersNodes())}}function bu(n,e,i,s,l,u,f,h){const p=e.serverCache;let m;const _=f?n.filter:n.filter.getIndexedFilter();if(me(i))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const C=p.getNode().updateChild(i,s);m=_.updateFullNode(p.getNode(),C,null)}else{const C=ce(i);if(!p.isCompleteForPath(i)&&Di(i)>1)return e;const w=Me(i),H=p.getNode().getImmediateChild(C).updateChild(w,s);C===".priority"?m=_.updatePriority(p.getNode(),H):m=_.updateChild(p.getNode(),C,H,w,uE,null)}const b=iE(e,m,p.isFullyInitialized()||me(i),_.filtersNodes()),v=new pp(l,b,u);return cE(n,b,i,l,v,h)}function Sh(n,e,i,s,l,u,f){const h=e.eventCache;let p,m;const _=new pp(l,e,u);if(me(i))m=n.filter.updateFullNode(e.eventCache.getNode(),s,f),p=Za(e,m,!0,n.filter.filtersNodes());else{const b=ce(i);if(b===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),p=Za(e,m,h.isFullyInitialized(),h.isFiltered());else{const v=Me(i),C=h.getNode().getImmediateChild(b);let w;if(me(v))w=s;else{const L=_.getCompleteChild(b);L!=null?np(v)===".priority"&&L.getChild(Wb(v)).isEmpty()?w=L:w=L.updateChild(v,s):w=ie.EMPTY_NODE}if(C.equals(w))p=e;else{const L=n.filter.updateChild(h.getNode(),b,w,v,_,f);p=Za(e,L,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function qv(n,e){return n.eventCache.isCompleteForChild(e)}function zO(n,e,i,s,l,u,f){let h=e;return s.foreach((p,m)=>{const _=Be(i,p);qv(e,ce(_))&&(h=Sh(n,h,_,m,l,u,f))}),s.foreach((p,m)=>{const _=Be(i,p);qv(e,ce(_))||(h=Sh(n,h,_,m,l,u,f))}),h}function Vv(n,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Th(n,e,i,s,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;me(i)?m=s:m=new De(null).setTree(i,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((b,v)=>{if(_.hasChild(b)){const C=e.serverCache.getNode().getImmediateChild(b),w=Vv(n,C,v);p=bu(n,p,new Ne(b),w,l,u,f,h)}}),m.children.inorderTraversal((b,v)=>{const C=!e.serverCache.isCompleteForChild(b)&&v.value===null;if(!_.hasChild(b)&&!C){const w=e.serverCache.getNode().getImmediateChild(b),L=Vv(n,w,v);p=bu(n,p,new Ne(b),L,l,u,f,h)}}),p}function HO(n,e,i,s,l,u,f){if(vu(l,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(me(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return bu(n,e,i,p.getNode().getChild(i),l,u,h,f);if(me(i)){let m=new De(null);return p.getNode().forEachChild(_s,(_,b)=>{m=m.set(new Ne(_),b)}),Th(n,e,i,m,l,u,h,f)}else return e}else{let m=new De(null);return s.foreach((_,b)=>{const v=Be(i,_);p.isCompleteForPath(v)&&(m=m.set(_,p.getNode().getChild(v)))}),Th(n,e,i,m,l,u,h,f)}}function BO(n,e,i,s,l){const u=e.serverCache,f=iE(e,u.getNode(),u.isFullyInitialized()||me(i),u.isFiltered());return cE(n,f,i,s,uE,l)}function jO(n,e,i,s,l,u){let f;if(vu(s,i)!=null)return e;{const h=new pp(s,e,l),p=e.eventCache.getNode();let m;if(me(i)||ce(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=yu(s,pr(e));else{const b=e.serverCache.getNode();q(b instanceof ie,"serverChildren would be complete if leaf node"),_=dp(s,b)}_=_,m=n.filter.updateFullNode(p,_,u)}else{const _=ce(i);let b=hp(s,_,e.serverCache);b==null&&e.serverCache.isCompleteForChild(_)&&(b=p.getImmediateChild(_)),b!=null?m=n.filter.updateChild(p,_,b,Me(i),h,u):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,ie.EMPTY_NODE,Me(i),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=yu(s,pr(e)),f.isLeafNode()&&(m=n.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||vu(s,Ee())!=null,Za(e,m,f,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new ap(s.getIndex()),u=aO(s);this.processor_=kO(u);const f=i.serverCache,h=i.eventCache,p=l.updateFullNode(ie.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(ie.EMPTY_NODE,h.getNode(),null),_=new hr(p,f.isFullyInitialized(),l.filtersNodes()),b=new hr(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Yu(b,_),this.eventGenerator_=new hO(this.query_)}get query(){return this.query_}}function VO(n){return n.viewCache_.serverCache.getNode()}function FO(n,e){const i=pr(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!me(e)&&!i.getImmediateChild(ce(e)).isEmpty())?i.getChild(e):null}function Fv(n){return n.eventRegistrations_.length===0}function GO(n,e){n.eventRegistrations_.push(e)}function Gv(n,e,i){const s=[];if(i){q(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&s.push(f)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Yv(n,e,i,s){e.type===rn.MERGE&&e.source.queryId!==null&&(q(pr(n.viewCache_),"We should always have a full cache before handling merges"),q(yh(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=UO(n.processor_,l,e,i,s);return LO(n.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,fE(n,u.changes,u.viewCache.eventCache.getNode(),null)}function YO(n,e){const i=n.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(je,(u,f)=>{s.push(ws(u,f))}),i.isFullyInitialized()&&s.push(tE(i.getNode())),fE(n,s,i.getNode(),e)}function fE(n,e,i,s){const l=s?[s]:n.eventRegistrations_;return pO(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu;class KO{constructor(){this.views=new Map}}function WO(n){q(!Eu,"__referenceConstructor has already been defined"),Eu=n}function QO(){return q(Eu,"Reference.ts has not been loaded"),Eu}function $O(n){return n.views.size===0}function mp(n,e,i,s){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return q(u!=null,"SyncTree gave us an op for an invalid query."),Yv(u,e,i,s)}else{let u=[];for(const f of n.views.values())u=u.concat(Yv(f,e,i,s));return u}}function XO(n,e,i,s,l){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let h=yu(i,l?s:null),p=!1;h?p=!0:s instanceof ie?(h=dp(i,s),p=!1):(h=ie.EMPTY_NODE,p=!1);const m=Yu(new hr(h,p,!1),new hr(s,l,!1));return new qO(e,m)}return f}function ZO(n,e,i,s,l,u){const f=XO(n,e,s,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),GO(f,i),YO(f,i)}function JO(n,e,i,s){const l=e._queryIdentifier,u=[];let f=[];const h=Mi(n);if(l==="default")for(const[p,m]of n.views.entries())f=f.concat(Gv(m,i,s)),Fv(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(f=f.concat(Gv(p,i,s)),Fv(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!Mi(n)&&u.push(new(QO())(e._repo,e._path)),{removed:u,events:f}}function dE(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ys(n,e){let i=null;for(const s of n.views.values())i=i||FO(s,e);return i}function hE(n,e){if(e._queryParams.loadsAllData())return Ku(n);{const s=e._queryIdentifier;return n.views.get(s)}}function pE(n,e){return hE(n,e)!=null}function Mi(n){return Ku(n)!=null}function Ku(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su;function eI(n){q(!Su,"__referenceConstructor has already been defined"),Su=n}function tI(){return q(Su,"Reference.ts has not been loaded"),Su}let nI=1;class Kv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=IO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mE(n,e,i,s,l){return yO(n.pendingWriteTree_,e,i,s,l),l?Ls(n,new dr(op(),e,i)):[]}function iI(n,e,i,s){vO(n.pendingWriteTree_,e,i,s);const l=De.fromObject(i);return Ls(n,new Cs(op(),e,l))}function Ai(n,e,i=!1){const s=bO(n.pendingWriteTree_,e);if(EO(n.pendingWriteTree_,e)){let u=new De(null);return s.snap!=null?u=u.set(Ee(),!0):ut(s.children,f=>{u=u.set(new Ne(f),!0)}),Ls(n,new _u(s.path,u,i))}else return[]}function Wu(n,e,i){return Ls(n,new dr(up(),e,i))}function rI(n,e,i){const s=De.fromObject(i);return Ls(n,new Cs(up(),e,s))}function sI(n,e){return Ls(n,new fl(up(),e))}function aI(n,e,i){const s=_p(n,i);if(s){const l=yp(s),u=l.path,f=l.queryId,h=wt(u,e),p=new fl(cp(f),h);return vp(n,u,p)}else return[]}function wh(n,e,i,s,l=!1){const u=e._path,f=n.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||pE(f,e))){const p=JO(f,e,i,s);$O(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const _=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,b=n.syncPointTree_.findOnPath(u,(v,C)=>Mi(C));if(_&&!b){const v=n.syncPointTree_.subtree(u);if(!v.isEmpty()){const C=uI(v);for(let w=0;w<C.length;++w){const L=C[w],H=L.query,P=yE(n,L);n.listenProvider_.startListening(el(H),Tu(n,H),P.hashFn,P.onComplete)}}}!b&&m.length>0&&!s&&(_?n.listenProvider_.stopListening(el(e),null):m.forEach(v=>{const C=n.queryToTagMap.get(Qu(v));n.listenProvider_.stopListening(el(v),C)}))}cI(n,m)}return h}function lI(n,e,i,s){const l=_p(n,s);if(l!=null){const u=yp(l),f=u.path,h=u.queryId,p=wt(f,e),m=new dr(cp(h),p,i);return vp(n,f,m)}else return[]}function oI(n,e,i,s){const l=_p(n,s);if(l){const u=yp(l),f=u.path,h=u.queryId,p=wt(f,e),m=De.fromObject(i),_=new Cs(cp(h),p,m);return vp(n,f,_)}else return[]}function Wv(n,e,i,s=!1){const l=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(l,(v,C)=>{const w=wt(v,l);u=u||ys(C,w),f=f||Mi(C)});let h=n.syncPointTree_.get(l);h?(f=f||Mi(h),u=u||ys(h,Ee())):(h=new KO,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=ie.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((C,w)=>{const L=ys(w,Ee());L&&(u=u.updateImmediateChild(C,L))}));const m=pE(h,e);if(!m&&!e._queryParams.loadsAllData()){const v=Qu(e);q(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const C=fI();n.queryToTagMap.set(v,C),n.tagToQueryMap.set(C,v)}const _=fp(n.pendingWriteTree_,l);let b=ZO(h,e,i,_,u,p);if(!m&&!f&&!s){const v=hE(h,e);b=b.concat(dI(n,e,v))}return b}function gp(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,h)=>{const p=wt(f,e),m=ys(h,p);if(m)return m});return aE(l,e,u,i,!0)}function Ls(n,e){return gE(e,n.syncPointTree_,null,fp(n.pendingWriteTree_,Ee()))}function gE(n,e,i,s){if(me(n.path))return _E(n,e,i,s);{const l=e.get(Ee());i==null&&l!=null&&(i=ys(l,Ee()));let u=[];const f=ce(n.path),h=n.operationForChild(f),p=e.children.get(f);if(p&&h){const m=i?i.getImmediateChild(f):null,_=lE(s,f);u=u.concat(gE(h,p,m,_))}return l&&(u=u.concat(mp(l,n,s,i))),u}}function _E(n,e,i,s){const l=e.get(Ee());i==null&&l!=null&&(i=ys(l,Ee()));let u=[];return e.children.inorderTraversal((f,h)=>{const p=i?i.getImmediateChild(f):null,m=lE(s,f),_=n.operationForChild(f);_&&(u=u.concat(_E(_,h,p,m)))}),l&&(u=u.concat(mp(l,n,s,i))),u}function yE(n,e){const i=e.query,s=Tu(n,i);return{hashFn:()=>(VO(e)||ie.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?aI(n,i._path,s):sI(n,i._path);{const u=rN(l,i);return wh(n,i,null,u)}}}}function Tu(n,e){const i=Qu(e);return n.queryToTagMap.get(i)}function Qu(n){return n._path.toString()+"$"+n._queryIdentifier}function _p(n,e){return n.tagToQueryMap.get(e)}function yp(n){const e=n.indexOf("$");return q(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ne(n.substr(0,e))}}function vp(n,e,i){const s=n.syncPointTree_.get(e);q(s,"Missing sync point for query tag that we're tracking");const l=fp(n.pendingWriteTree_,e);return mp(s,i,l,null)}function uI(n){return n.fold((e,i,s)=>{if(i&&Mi(i))return[Ku(i)];{let l=[];return i&&(l=dE(i)),ut(s,(u,f)=>{l=l.concat(f)}),l}})}function el(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(tI())(n._repo,n._path):n}function cI(n,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=Qu(s),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function fI(){return nI++}function dI(n,e,i){const s=e._path,l=Tu(n,e),u=yE(n,i),f=n.listenProvider_.startListening(el(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(s);if(l)q(!Mi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,_,b)=>{if(!me(m)&&_&&Mi(_))return[Ku(_).query];{let v=[];return _&&(v=v.concat(dE(_).map(C=>C.query))),ut(b,(C,w)=>{v=v.concat(w)}),v}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(el(_),Tu(n,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new bp(i)}node(){return this.node_}}class Ep{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Be(this.path_,e);return new Ep(this.syncTree_,i)}node(){return gp(this.syncTree_,this.path_)}}const hI=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Qv=function(n,e,i){if(!n||typeof n!="object")return n;if(q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return pI(n[".sv"],e,i);if(typeof n[".sv"]=="object")return mI(n[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},pI=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+n)}},mI=function(n,e,i){n.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&q(!1,"Unexpected increment value: "+s);const l=e.node();if(q(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},vE=function(n,e,i,s){return Sp(e,new Ep(i,n),s)},bE=function(n,e,i){return Sp(n,new bp(e),i)};function Sp(n,e,i){const s=n.getPriority().val(),l=Qv(s,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const f=n,h=Qv(f.getValue(),e,i);return h!==f.getValue()||l!==f.getPriority().val()?new et(h,nt(l)):n}else{const f=n;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new et(l))),f.forEachChild(je,(h,p)=>{const m=Sp(p,e.getImmediateChild(h),i);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function wp(n,e){let i=e instanceof Ne?e:new Ne(e),s=n,l=ce(i);for(;l!==null;){const u=Ss(s.node.children,l)||{children:{},childCount:0};s=new Tp(l,s,u),i=Me(i),l=ce(i)}return s}function Us(n){return n.node.value}function EE(n,e){n.node.value=e,Ch(n)}function SE(n){return n.node.childCount>0}function gI(n){return Us(n)===void 0&&!SE(n)}function $u(n,e){ut(n.node.children,(i,s)=>{e(new Tp(i,n,s))})}function TE(n,e,i,s){i&&e(n),$u(n,l=>{TE(l,e,!0)})}function _I(n,e,i){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function wl(n){return new Ne(n.parent===null?n.name:wl(n.parent)+"/"+n.name)}function Ch(n){n.parent!==null&&yI(n.parent,n.name,n)}function yI(n,e,i){const s=gI(i),l=Sn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Ch(n)):!s&&!l&&(n.node.children[e]=i.node,n.node.childCount++,Ch(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=/[\[\].#$\/\u0000-\u001F\u007F]/,bI=/[\[\].#$\u0000-\u001F\u007F]/,Gd=10*1024*1024,Cp=function(n){return typeof n=="string"&&n.length!==0&&!vI.test(n)},wE=function(n){return typeof n=="string"&&n.length!==0&&!bI.test(n)},EI=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wE(n)},SI=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Xh(n)||n&&typeof n=="object"&&Sn(n,".sv")},CE=function(n,e,i,s){s&&e===void 0||Xu(qu(n,"value"),e,i)},Xu=function(n,e,i){const s=i instanceof Ne?new zN(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+sr(s));if(typeof e=="function")throw new Error(n+"contains a function "+sr(s)+" with contents = "+e.toString());if(Xh(e))throw new Error(n+"contains "+e.toString()+" "+sr(s));if(typeof e=="string"&&e.length>Gd/3&&Vu(e)>Gd)throw new Error(n+"contains a string greater than "+Gd+" utf8 bytes "+sr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(ut(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Cp(f)))throw new Error(n+" contains an invalid key ("+f+") "+sr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HN(s,f),Xu(n,h,s),BN(s)}),l&&u)throw new Error(n+' contains ".value" child '+sr(s)+" in addition to actual children.")}},TI=function(n,e){let i,s;for(i=0;i<e.length;i++){s=e[i];const u=ll(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Cp(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(PN);let l=null;for(i=0;i<e.length;i++){if(s=e[i],l!==null&&$t(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},wI=function(n,e,i,s){const l=qu(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];ut(e,(f,h)=>{const p=new Ne(f);if(Xu(l,h,Be(i,p)),np(p)===".priority"&&!SI(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),TI(l,u)},RE=function(n,e,i,s){if(!wE(i))throw new Error(qu(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CI=function(n,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),RE(n,e,i)},Rp=function(n,e){if(ce(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},RI=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!EI(i))throw new Error(qu(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zu(n,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();i!==null&&!ip(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function AE(n,e,i){Zu(n,i),NE(n,s=>ip(s,e))}function un(n,e,i){Zu(n,i),NE(n,s=>$t(s,e)||$t(e,s))}function NE(n,e){n.recursionDepth_++;let i=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const u=l.path;e(u)?(NI(n.eventLists_[s]),n.eventLists_[s]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function NI(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const s=i.getEventRunner();$a&&ot("event: "+i.toString()),ks(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="repo_interrupt",II=25;class xI{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gu(),this.transactionQueueTree_=new Tp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DI(n,e,i){if(n.stats_=ep(n.repoInfo_),n.forceRestClient_||oN())n.server_=new mu(n.repoInfo_,(s,l,u,f)=>{$v(n,s,l,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Xv(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new qn(n.repoInfo_,e,(s,l,u,f)=>{$v(n,s,l,u,f)},s=>{Xv(n,s)},s=>{MI(n,s)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=hN(n.repoInfo_,()=>new dO(n.stats_,n.server_)),n.infoData_=new lO,n.infoSyncTree_=new Kv({startListening:(s,l,u,f)=>{let h=[];const p=n.infoData_.getNode(s._path);return p.isEmpty()||(h=Wu(n.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Ap(n,"connected",!1),n.serverSyncTree_=new Kv({startListening:(s,l,u,f)=>(n.server_.listen(s,u,l,(h,p)=>{const m=f(h,p);un(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function OE(n){const i=n.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Ju(n){return hI({timestamp:OE(n)})}function $v(n,e,i,s,l){n.dataUpdateCount++;const u=new Ne(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let f=[];if(l)if(s){const p=cu(i,m=>nt(m));f=oI(n.serverSyncTree_,u,p,l)}else{const p=nt(i);f=lI(n.serverSyncTree_,u,p,l)}else if(s){const p=cu(i,m=>nt(m));f=rI(n.serverSyncTree_,u,p)}else{const p=nt(i);f=Wu(n.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=As(n,u)),un(n.eventQueue_,h,f)}function Xv(n,e){Ap(n,"connected",e),e===!1&&UI(n)}function MI(n,e){ut(e,(i,s)=>{Ap(n,i,s)})}function Ap(n,e,i){const s=new Ne("/.info/"+e),l=nt(i);n.infoData_.updateSnapshot(s,l);const u=Wu(n.infoSyncTree_,s,l);un(n.eventQueue_,s,u)}function Np(n){return n.nextWriteId_++}function kI(n,e,i,s,l){ec(n,"set",{path:e.toString(),value:i,priority:s});const u=Ju(n),f=nt(i,s),h=gp(n.serverSyncTree_,e),p=bE(f,h,u),m=Np(n),_=mE(n.serverSyncTree_,e,p,m,!0);Zu(n.eventQueue_,_),n.server_.put(e.toString(),f.val(!0),(v,C)=>{const w=v==="ok";w||gt("set at "+e+" failed: "+v);const L=Ai(n.serverSyncTree_,m,!w);un(n.eventQueue_,e,L),Rh(n,l,v,C)});const b=Ip(n,e);As(n,b),un(n.eventQueue_,b,[])}function LI(n,e,i,s){ec(n,"update",{path:e.toString(),value:i});let l=!0;const u=Ju(n),f={};if(ut(i,(h,p)=>{l=!1,f[h]=vE(Be(e,h),nt(p),n.serverSyncTree_,u)}),l)ot("update() called with empty data.  Don't do anything."),Rh(n,s,"ok",void 0);else{const h=Np(n),p=iI(n.serverSyncTree_,e,f,h);Zu(n.eventQueue_,p),n.server_.merge(e.toString(),i,(m,_)=>{const b=m==="ok";b||gt("update at "+e+" failed: "+m);const v=Ai(n.serverSyncTree_,h,!b),C=v.length>0?As(n,e):e;un(n.eventQueue_,C,v),Rh(n,s,m,_)}),ut(i,m=>{const _=Ip(n,Be(e,m));As(n,_)}),un(n.eventQueue_,e,[])}}function UI(n){ec(n,"onDisconnectEvents");const e=Ju(n),i=gu();_h(n.onDisconnect_,Ee(),(l,u)=>{const f=vE(l,u,n.serverSyncTree_,e);nE(i,l,f)});let s=[];_h(i,Ee(),(l,u)=>{s=s.concat(Wu(n.serverSyncTree_,l,u));const f=Ip(n,l);As(n,f)}),n.onDisconnect_=gu(),un(n.eventQueue_,Ee(),s)}function PI(n,e,i){let s;ce(e._path)===".info"?s=Wv(n.infoSyncTree_,e,i):s=Wv(n.serverSyncTree_,e,i),AE(n.eventQueue_,e._path,s)}function zI(n,e,i){let s;ce(e._path)===".info"?s=wh(n.infoSyncTree_,e,i):s=wh(n.serverSyncTree_,e,i),AE(n.eventQueue_,e._path,s)}function HI(n){n.persistentConnection_&&n.persistentConnection_.interrupt(OI)}function ec(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),ot(i,...e)}function Rh(n,e,i,s){e&&ks(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;s&&(u+=": "+s);const f=new Error(u);f.code=l,e(f)}})}function IE(n,e,i){return gp(n.serverSyncTree_,e,i)||ie.EMPTY_NODE}function Op(n,e=n.transactionQueueTree_){if(e||tc(n,e),Us(e)){const i=DE(n,e);q(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&BI(n,wl(e),i)}else SE(e)&&$u(e,i=>{Op(n,i)})}function BI(n,e,i){const s=i.map(m=>m.currentWriteId),l=IE(n,e,s);let u=l;const f=l.hash();for(let m=0;m<i.length;m++){const _=i[m];q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const b=wt(e,_.path);u=u.updateChild(b,_.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{ec(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const b=[];for(let v=0;v<i.length;v++)i[v].status=2,_=_.concat(Ai(n.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&b.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();tc(n,wp(n.transactionQueueTree_,e)),Op(n,n.transactionQueueTree_),un(n.eventQueue_,e,_);for(let v=0;v<b.length;v++)ks(b[v])}else{if(m==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{gt("transaction at "+p.toString()+" failed: "+m);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=m}As(n,e)}},f)}function As(n,e){const i=xE(n,e),s=wl(i),l=DE(n,i);return jI(n,l,s),s}function jI(n,e,i){if(e.length===0)return;const s=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=wt(i,p.path);let _=!1,b;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,b=p.abortReason,l=l.concat(Ai(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=II)_=!0,b="maxretry",l=l.concat(Ai(n.serverSyncTree_,p.currentWriteId,!0));else{const v=IE(n,p.path,f);p.currentInputSnapshot=v;const C=e[h].update(v.val());if(C!==void 0){Xu("transaction failed: Data returned ",C,p.path);let w=nt(C);typeof C=="object"&&C!=null&&Sn(C,".priority")||(w=w.updatePriority(v.getPriority()));const H=p.currentWriteId,P=Ju(n),j=bE(w,v,P);p.currentOutputSnapshotRaw=w,p.currentOutputSnapshotResolved=j,p.currentWriteId=Np(n),f.splice(f.indexOf(H),1),l=l.concat(mE(n.serverSyncTree_,p.path,j,p.currentWriteId,p.applyLocally)),l=l.concat(Ai(n.serverSyncTree_,H,!0))}else _=!0,b="nodata",l=l.concat(Ai(n.serverSyncTree_,p.currentWriteId,!0))}un(n.eventQueue_,i,l),l=[],_&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(b==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(b),!1,null))))}tc(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)ks(s[h]);Op(n,n.transactionQueueTree_)}function xE(n,e){let i,s=n.transactionQueueTree_;for(i=ce(e);i!==null&&Us(s)===void 0;)s=wp(s,i),e=Me(e),i=ce(e);return s}function DE(n,e){const i=[];return ME(n,e,i),i.sort((s,l)=>s.order-l.order),i}function ME(n,e,i){const s=Us(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);$u(e,l=>{ME(n,l,i)})}function tc(n,e){const i=Us(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,EE(e,i.length>0?i:void 0)}$u(e,s=>{tc(n,s)})}function Ip(n,e){const i=wl(xE(n,e)),s=wp(n.transactionQueueTree_,e);return _I(s,l=>{Yd(n,l)}),Yd(n,s),TE(s,l=>{Yd(n,l)}),i}function Yd(n,e){const i=Us(e);if(i){const s=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(q(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(q(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(Ai(n.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&s.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?EE(e,void 0):i.length=u+1,un(n.eventQueue_,wl(e),l);for(let f=0;f<s.length;f++)ks(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n){let e="";const i=n.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function VI(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):gt(`Invalid query segment '${i}' in query '${n}'`)}return e}const Zv=function(n,e){const i=FI(n),s=i.namespace;i.domain==="firebase.com"&&Kn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||JA();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Hb(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new Ne(i.pathString)}},FI=function(n){let e="",i="",s="",l="",u="",f=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let b=n.indexOf("?");b===-1&&(b=n.length),e=n.substring(0,Math.min(_,b)),_<b&&(l=qI(n.substring(_,b)));const v=VI(n.substring(Math.min(n.length,b)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")i="localhost";else if(C.split(".").length<=2)i=C;else{const w=e.indexOf(".");s=e.substring(0,w).toLowerCase(),i=e.substring(w+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",GI=function(){let n=0;const e=[];return function(i){const s=i===n;n=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Jv.charAt(i%64),i=Math.floor(i/64);q(i===0,"Cannot push at time == 0");let f=u.join("");if(s){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=Jv.charAt(e[l]);return q(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class KI{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return me(this._path)?null:np(this._path)}get ref(){return new Li(this._repo,this._path)}get _queryIdentifier(){const e=Pv(this._queryParams),i=Zh(e);return i==="{}"?"default":i}get _queryObject(){return Pv(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof xp))return!1;const i=this._repo===e._repo,s=ip(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+UN(this._path)}}class Li extends xp{constructor(e,i){super(e,i,new lp,!1)}get parent(){const e=Wb(this._path);return e===null?null:new Li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wu{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Ne(e),s=dl(this.ref,e);return new wu(this._node.getChild(i),s,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new wu(l,dl(this.ref,s),je)))}hasChild(e){const i=new Ne(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ur(n,e){return n=ct(n),n._checkNotDeleted("ref"),e!==void 0?dl(n._root,e):n._root}function dl(n,e){return n=ct(n),ce(n._path)===null?CI("child","path",e):RE("child","path",e),new Li(n._repo,Be(n._path,e))}function QI(n,e){n=ct(n),Rp("push",n._path),CE("push",e,n._path,!0);const i=OE(n._repo),s=GI(i),l=dl(n,s),u=dl(n,s);let f;return e!=null?f=LE(u,e).then(()=>u):f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function kE(n){return Rp("remove",n._path),LE(n,null)}function LE(n,e){n=ct(n),Rp("set",n._path),CE("set",e,n._path,!1);const i=new bl;return kI(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function UE(n,e){wI("update",e,n._path);const i=new bl;return LI(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}class Dp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new YI("value",this,new wu(e.snapshotNode,new Li(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new KI(this,e,i):null}matches(e){return e instanceof Dp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $I(n,e,i,s,l){const u=new WI(i,void 0),f=new Dp(u);return PI(n._repo,n,f),()=>zI(n._repo,n,f)}function PE(n,e,i,s){return $I(n,"value",e)}WO(Li);eI(Li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FIREBASE_DATABASE_EMULATOR_HOST",Ah={};let ZI=!1;function JI(n,e,i,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),f=xs(u);n.repoInfo_=new Hb(e,f,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(n.authTokenProvider_=s)}function ex(n,e,i,s,l){let u=s||n.options.databaseURL;u===void 0&&(n.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=Zv(u,l),h=f.repoInfo,p;typeof process<"u"&&vv&&(p=vv[XI]),p?(u=`http://${p}?ns=${h.namespace}`,f=Zv(u,l),h=f.repoInfo):f.repoInfo.secure;const m=new cN(n.name,n.options,e);RI("Invalid Firebase Database URL",f),me(f.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=nx(h,n,m,new uN(n,i));return new ix(_,n)}function tx(n,e){const i=Ah[e];(!i||i[n.key]!==n)&&Kn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),HI(n),delete i[n.key]}function nx(n,e,i,s){let l=Ah[e.name];l||(l={},Ah[e.name]=l);let u=l[n.toURLString()];return u&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new xI(n,ZI,i,s),l[n.toURLString()]=u,u}class ix{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Li(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}}function rx(n=$h(),e){const i=wr(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=yR("database");s&&sx(i,...s)}return i}function sx(n,e,i,s={}){n=ct(n),n._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&xi(s,u.repoInfo_.emulatorOptions))return;Kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new nu(nu.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:vR(s.mockUserToken,n.app.options.projectId);f=new nu(h)}xs(e)&&(db(e),hb("Database",!0)),JI(u,l,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n){KA(Ms),vn(new on("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return ex(s,l,u,i)},"PUBLIC").setMultipleInstances(!0)),Xt(bv,Ev,n),Xt(bv,Ev,"esm2017")}qn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};ax();var lx="firebase",ox="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt(lx,ox,"app");function Mp(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function zE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ux=zE,HE=new Tr("auth","Firebase",zE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Fu("@firebase/auth");function cx(n,...e){Cu.logLevel<=Ae.WARN&&Cu.warn(`Auth (${Ms}): ${n}`,...e)}function iu(n,...e){Cu.logLevel<=Ae.ERROR&&Cu.error(`Auth (${Ms}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n,...e){throw kp(n,...e)}function _n(n,...e){return kp(n,...e)}function BE(n,e,i){const s=Object.assign(Object.assign({},ux()),{[e]:i});return new Tr("auth","Firebase",s).create(e,{appName:n.name})}function Vn(n){return BE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return HE.create(n,...e)}function te(n,e,...i){if(!n)throw kp(e,...i)}function Hn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw iu(e),new Error(e)}function Wn(n,e){n||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fx(){return e0()==="http:"||e0()==="https:"}function e0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fx()||pb()||"connection"in navigator)?navigator.onLine:!0}function hx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Wn(i>e,"Short delay should be less than long delay!"),this.isMobile=Wh()||mb()}get(){return dx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){Wn(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gx=new Cl(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pi(n,e,i,s,l={}){return qE(n,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=Ds(Object.assign({key:n.config.apiKey},f)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},u);return SR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&xs(n.emulatorConfig.host)&&(m.credentials="include"),jE.fetch()(await VE(n,n.config.apiHost,i,h),m)})}async function qE(n,e,i){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},px),e);try{const l=new yx(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qo(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qo(n,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Qo(n,"email-already-in-use",f);if(p==="USER_DISABLED")throw Qo(n,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw BE(n,_,m);cn(n,_)}}catch(l){if(l instanceof En)throw l;cn(n,"network-request-failed",{message:String(l)})}}async function Rl(n,e,i,s,l={}){const u=await Pi(n,e,i,s,l);return"mfaPendingCredential"in u&&cn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function VE(n,e,i,s){const l=`${e}${i}?${s}`,u=n,f=u.config.emulator?Lp(n.config,l):`${n.config.apiScheme}://${l}`;return mx.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function _x(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(_n(this.auth,"network-request-failed")),gx.get())})}}function Qo(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=_n(n,e,s);return l.customData._tokenResponse=i,l}function t0(n){return n!==void 0&&n.enterprise!==void 0}class vx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return _x(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bx(n,e){return Pi(n,"GET","/v2/recaptchaConfig",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(n,e){return Pi(n,"POST","/v1/accounts:delete",e)}async function Ru(n,e){return Pi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sx(n,e=!1){const i=ct(n),s=await i.getIdToken(e),l=Up(s);te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:tl(Kd(l.auth_time)),issuedAtTime:tl(Kd(l.iat)),expirationTime:tl(Kd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Kd(n){return Number(n)*1e3}function Up(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const l=uu(i);return l?JSON.parse(l):(iu("Failed to decode base64 JWT payload"),null)}catch(l){return iu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function n0(n){const e=Up(n);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof En&&Tx(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function Tx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n){var e;const i=n.auth,s=await n.getIdToken(),l=await hl(n,Ru(i,{idToken:s}));te(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?FE(u.providerUserInfo):[],h=Rx(n.providerData,f),p=n.isAnonymous,m=!(n.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Oh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,b)}async function Cx(n){const e=ct(n);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rx(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function FE(n){return n.map(e=>{var{providerId:i}=e,s=Mp(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(n,e){const i=await qE(n,{},async()=>{const s=Ds({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=await VE(n,l,"/v1/token",`key=${u}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return n.emulatorConfig&&xs(n.emulatorConfig.host)&&(p.credentials="include"),jE.fetch()(f,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Nx(n,e){return Pi(n,"POST","/v2/accounts:revokeToken",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){te(e.length!==0,"internal-error");const i=n0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await Ax(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,f=new vs;return s&&(te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(te(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n,e){te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sn{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Oh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await hl(this,this.stsTokenManager.getToken(this.auth,e));return te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Sx(this,e)}reload(){return Cx(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Au(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await hl(this,Ex(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,u,f,h,p,m,_;const b=(s=i.displayName)!==null&&s!==void 0?s:void 0,v=(l=i.email)!==null&&l!==void 0?l:void 0,C=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,w=(f=i.photoURL)!==null&&f!==void 0?f:void 0,L=(h=i.tenantId)!==null&&h!==void 0?h:void 0,H=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,P=(m=i.createdAt)!==null&&m!==void 0?m:void 0,j=(_=i.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:Y,isAnonymous:V,providerData:re,stsTokenManager:de}=i;te(K&&de,e,"internal-error");const ge=vs.fromJSON(this.name,de);te(typeof K=="string",e,"internal-error"),Si(b,e.name),Si(v,e.name),te(typeof Y=="boolean",e,"internal-error"),te(typeof V=="boolean",e,"internal-error"),Si(C,e.name),Si(w,e.name),Si(L,e.name),Si(H,e.name),Si(P,e.name),Si(j,e.name);const ae=new sn({uid:K,auth:e,email:v,emailVerified:Y,displayName:b,isAnonymous:V,photoURL:w,phoneNumber:C,tenantId:L,stsTokenManager:ge,createdAt:P,lastLoginAt:j});return re&&Array.isArray(re)&&(ae.providerData=re.map(Fe=>Object.assign({},Fe))),H&&(ae._redirectEventId=H),ae}static async _fromIdTokenResponse(e,i,s=!1){const l=new vs;l.updateFromServerResponse(i);const u=new sn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Au(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?FE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new vs;h.updateFromIdToken(s);const p=new sn({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Oh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function Bn(n){Wn(n instanceof Function,"Expected a class definition");let e=i0.get(n);return e?(Wn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}GE.type="NONE";const r0=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n,e,i){return`firebase:${n}:${e}:${i}`}class bs{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=ru(this.userKey,l.apiKey,u),this.fullPersistenceKey=ru("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Ru(this.auth,{idToken:e}).catch(()=>{});return i?sn._fromGetAccountInfoResponse(this.auth,i,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new bs(Bn(r0),e,s);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Bn(r0);const f=ru(s,e.config.apiKey,e.name);let h=null;for(const m of i)try{const _=await m._get(f);if(_){let b;if(typeof _=="string"){const v=await Ru(e,{idToken:_}).catch(()=>{});if(!v)break;b=await sn._fromGetAccountInfoResponse(e,v,_)}else b=sn._fromJSON(e,_);m!==u&&(h=b),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bs(u,e,s):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new bs(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XE(e))return"Blackberry";if(ZE(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if($E(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function YE(n=_t()){return/firefox\//i.test(n)}function KE(n=_t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(n=_t()){return/crios\//i.test(n)}function QE(n=_t()){return/iemobile/i.test(n)}function $E(n=_t()){return/android/i.test(n)}function XE(n=_t()){return/blackberry/i.test(n)}function ZE(n=_t()){return/webos/i.test(n)}function Pp(n=_t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ox(n=_t()){var e;return Pp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ix(){return TR()&&document.documentMode===10}function JE(n=_t()){return Pp(n)||$E(n)||ZE(n)||XE(n)||/windows phone/i.test(n)||QE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n,e=[]){let i;switch(n){case"Browser":i=s0(_t());break;case"Worker":i=`${s0(_t())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ms}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(n,e={}){return Pi(n,"GET","/v2/passwordPolicy",Ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=6;class kx{constructor(e){var i,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:Mx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,u,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Bn(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await bs.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ru(this,{idToken:e}),s=await sn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(Vn(this));const i=e?ct(e):null;return i&&te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dx(this),i=new kx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Nx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Bn(e)||this._popupRedirectResolver;te(i,this,"argument-error"),this.redirectPersistenceManager=await bs.create(this,[Bn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&cx(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Ar(n){return ct(n)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DR(i=>this.observer=i)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ux(n){nc=n}function tS(n){return nc.loadJS(n)}function Px(){return nc.recaptchaEnterpriseScript}function zx(){return nc.gapiScript}function Hx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Bx{constructor(){this.enterprise=new jx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class jx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const qx="recaptcha-enterprise",nS="NO_RECAPTCHA";class Vx{constructor(e){this.type=qx,this.auth=Ar(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,h)=>{bx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new vx(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function l(u,f,h){const p=window.grecaptcha;t0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(nS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(h=>{if(!i&&t0(window.grecaptcha))l(h,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Px();p.length!==0&&(p+=h),tS(p).then(()=>{l(h,u,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function l0(n,e,i,s=!1,l=!1){const u=new Vx(n);let f;if(l)f=nS;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const h=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ih(n,e,i,s,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await l0(n,e,i,i==="getOobCode");return s(n,f)}else return s(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await l0(n,e,i,i==="getOobCode");return s(n,h)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n,e){const i=wr(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(xi(u,e??{}))return l;cn(l,"already-initialized")}return i.initialize({options:e})}function Gx(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Bn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Yx(n,e,i){const s=Ar(n);te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=iS(e),{host:f,port:h}=Kx(e),p=h===null?"":`:${h}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),te(xi(m,s.config.emulator)&&xi(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,xs(f)?(db(`${u}//${f}${p}`),hb("Auth",!0)):Wx()}function iS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Kx(n){const e=iS(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:o0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:o0(f)}}}function o0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Wx(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,i){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function Qx(n,e){return Pi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(n,e){return Rl(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}async function Zx(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends zp{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new pl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new pl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,i,"signInWithPassword",$x);case"emailLink":return Xx(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,s,"signUpPassword",Qx);case"emailLink":return Zx(e,{idToken:i,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(n,e){return Rl(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="http://localhost";class mr extends zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):cn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,u=Mp(i,["providerId","signInMethod"]);if(!s||!l)return null;const f=new mr(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Es(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Es(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Es(e,i)}buildRequest(){const e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ds(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tD(n){const e=Ya(Ka(n)).link,i=e?Ya(Ka(e)).deep_link_id:null,s=Ya(Ka(n)).deep_link_id;return(s?Ya(Ka(s)).link:null)||s||i||e||n}class Hp{constructor(e){var i,s,l,u,f,h;const p=Ya(Ka(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,b=eD((l=p.mode)!==null&&l!==void 0?l:null);te(m&&_&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const i=tD(e);try{return new Hp(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.providerId=Ps.PROVIDER_ID}static credential(e,i){return pl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Hp.parseLink(i);return te(s,"argument-error"),pl._fromEmailAndCode(e,s.code,s.tenantId)}}Ps.PROVIDER_ID="password";Ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends rS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Al{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return mr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return wi.credential(i,s)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Al{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Al{constructor(){super("twitter.com")}static credential(e,i){return mr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Ri.credential(i,s)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e){return Rl(n,"POST","/v1/accounts:signUp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await sn._fromIdTokenResponse(e,s,l),f=u0(s);return new gr({user:u,providerId:f,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=u0(s);return new gr({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function u0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends En{constructor(e,i,s,l){var u;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Nu(e,i,s,l)}}function sS(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nu._fromErrorAndOperation(n,u,e,s):u})}async function iD(n,e,i=!1){const s=await hl(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return gr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(n,e,i=!1){const{auth:s}=n;if(Qt(s.app))return Promise.reject(Vn(s));const l="reauthenticate";try{const u=await hl(n,sS(s,l,e,n),i);te(u.idToken,s,"internal-error");const f=Up(u.idToken);te(f,s,"internal-error");const{sub:h}=f;return te(n.uid===h,s,"user-mismatch"),gr._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&cn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(n,e,i=!1){if(Qt(n.app))return Promise.reject(Vn(n));const s="signIn",l=await sS(n,s,e),u=await gr._fromIdTokenResponse(n,s,l);return i||await n._updateCurrentUser(u.user),u}async function sD(n,e){return aS(Ar(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(n){const e=Ar(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aD(n,e,i){if(Qt(n.app))return Promise.reject(Vn(n));const s=Ar(n),f=await Ih(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lS(n),p}),h=await gr._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(h.user),h}function lD(n,e,i){return Qt(n.app)?Promise.reject(Vn(n)):sD(ct(n),Ps.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lS(n),s})}function oD(n,e,i,s){return ct(n).onIdTokenChanged(e,i,s)}function uD(n,e,i){return ct(n).beforeAuthStateChanged(e,i)}function cD(n,e,i,s){return ct(n).onAuthStateChanged(e,i,s)}function fD(n){return ct(n).signOut()}const Ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ou,"1"),this.storage.removeItem(Ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1e3,hD=10;class uS extends oS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!i&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Ix()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,hD):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}uS.type="LOCAL";const pD=uS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends oS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}cS.type="SESSION";const fS=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new ic(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(f).map(async m=>m(i.origin,u)),p=await mD(h);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((h,p)=>{const m=Bp("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(b){const v=b;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(v.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function _D(n){yn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function yD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bD(){return dS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firebaseLocalStorageDb",ED=1,Iu="firebaseLocalStorage",pS="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rc(n,e){return n.transaction([Iu],e?"readwrite":"readonly").objectStore(Iu)}function SD(){const n=indexedDB.deleteDatabase(hS);return new Nl(n).toPromise()}function xh(){const n=indexedDB.open(hS,ED);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Iu,{keyPath:pS})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Iu)?e(s):(s.close(),await SD(),e(await xh()))})})}async function c0(n,e,i){const s=rc(n,!0).put({[pS]:e,value:i});return new Nl(s).toPromise()}async function TD(n,e){const i=rc(n,!1).get(e),s=await new Nl(i).toPromise();return s===void 0?null:s.value}function f0(n,e){const i=rc(n,!0).delete(e);return new Nl(i).toPromise()}const wD=800,CD=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>CD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ic._getInstance(bD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await yD(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xh();return await c0(e,Ou,"1"),await f0(e,Ou),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>c0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>TD(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>f0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=rc(l,!1).getAll();return new Nl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const RD=mS;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n,e){return e?Bn(e):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Es(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Es(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Es(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ND(n){return aS(n.auth,new jp(n),n.bypassAuthState)}function OD(n){const{auth:e,user:i}=n;return te(i,e,"internal-error"),rD(i,new jp(n),n.bypassAuthState)}async function ID(n){const{auth:e,user:i}=n;return te(i,e,"internal-error"),iD(i,new jp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ND;case"linkViaPopup":case"linkViaRedirect":return ID;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:cn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Cl(2e3,1e4);class ms extends gS{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xD.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="pendingRedirect",su=new Map;class MD extends gS{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=su.get(this.auth._key());if(!e){try{const s=await kD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}su.set(this.auth._key(),e)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kD(n,e){const i=PD(e),s=UD(n);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function LD(n,e){su.set(n._key(),e)}function UD(n){return Bn(n._redirectPersistence)}function PD(n){return ru(DD,n.config.apiKey,n.name)}async function zD(n,e,i=!1){if(Qt(n.app))return Promise.reject(Vn(n));const s=Ar(n),l=AD(s,e),f=await new MD(s,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=10*60*1e3;class BD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jD(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!_S(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(_n(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HD&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _S({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _S(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e={}){return Pi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FD=/^https?/;async function GD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qD(n);for(const i of e)try{if(YD(i))return}catch{}cn(n,"unauthorized-domain")}function YD(n){const e=Nh(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===s}if(!FD.test(i))return!1;if(VD.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Cl(3e4,6e4);function h0(){const n=yn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function WD(n){return new Promise((e,i)=>{var s,l,u;function f(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),i(_n(n,"network-request-failed"))},timeout:KD.get()})}if(!((l=(s=yn().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=yn().gapi)===null||u===void 0)&&u.load)f();else{const h=Hx("iframefcb");return yn()[h]=()=>{gapi.load?f():i(_n(n,"network-request-failed"))},tS(`${zx()}?onload=${h}`).catch(p=>i(p))}}).catch(e=>{throw au=null,e})}let au=null;function QD(n){return au=au||WD(n),au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Cl(5e3,15e3),XD="__/auth/iframe",ZD="emulator/auth/iframe",JD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tM(n){const e=n.config;te(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?Lp(e,ZD):`https://${n.config.authDomain}/${XD}`,s={apiKey:e.apiKey,appName:n.name,v:Ms},l=eM.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Ds(s).slice(1)}`}async function nM(n){const e=await QD(n),i=yn().gapi;return te(i,n,"internal-error"),e.open({where:document.body,url:tM(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=_n(n,"network-request-failed"),h=yn().setTimeout(()=>{u(f)},$D.get());function p(){yn().clearTimeout(h),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rM=500,sM=600,aM="_blank",lM="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oM(n,e,i,s=rM,l=sM){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p=Object.assign(Object.assign({},iM),{width:s.toString(),height:l.toString(),top:u,left:f}),m=_t().toLowerCase();i&&(h=WE(m)?aM:i),YE(m)&&(e=e||lM,p.scrollbars="yes");const _=Object.entries(p).reduce((v,[C,w])=>`${v}${C}=${w},`,"");if(Ox(m)&&h!=="_self")return uM(e||"",h),new p0(null);const b=window.open(e||"",h,_);te(b,n,"popup-blocked");try{b.focus()}catch{}return new p0(b)}function uM(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="__/auth/handler",fM="emulator/auth/handler",dM=encodeURIComponent("fac");async function m0(n,e,i,s,l,u){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:Ms,eventId:l};if(e instanceof rS){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",oh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))f[_]=b}if(e instanceof Al){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(f.scopes=_.join(","))}n.tenantId&&(f.tid=n.tenantId);const h=f;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),m=p?`#${dM}=${encodeURIComponent(p)}`:"";return`${hM(n)}?${Ds(h).slice(1)}${m}`}function hM({config:n}){return n.emulator?Lp(n,fM):`https://${n.authDomain}/${cM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class pM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fS,this._completeRedirectFn=zD,this._overrideRedirectResult=LD}async _openPopup(e,i,s,l){var u;Wn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await m0(e,i,s,Nh(),l);return oM(e,f,Bp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await m0(e,i,s,Nh(),l);return _D(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Wn(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await nM(e),s=new BD(e);return i.register("authEvent",l=>(te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Wd];f!==void 0&&i(!!f),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=GD(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return JE()||KE()||Pp()}}const mM=pM;var g0="@firebase/auth",_0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yM(n){vn(new on("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eS(n)},m=new Lx(s,l,u,p);return Gx(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),vn(new on("auth-internal",e=>{const i=Ar(e.getProvider("auth").getImmediate());return(s=>new gM(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(g0,_0,_M(n)),Xt(g0,_0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=5*60,bM=fb("authIdTokenMaxAge")||vM;let y0=null;const EM=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>bM)return;const l=i==null?void 0:i.token;y0!==l&&(y0=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function SM(n=$h()){const e=wr(n,"auth");if(e.isInitialized())return e.getImmediate();const i=Fx(n,{popupRedirectResolver:mM,persistence:[RD,pD,fS]}),s=fb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=EM(u.toString());uD(i,f,()=>f(i.currentUser)),oD(i,h=>f(h))}}const l=ub("auth");return l&&Yx(i,`http://${l}`),i}function TM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ux({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=_n("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",TM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yM("Browser");const yS="@firebase/installations",qp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1e4,bS=`w:${qp}`,ES="FIS_v2",wM="https://firebaseinstallations.googleapis.com/v1",CM=60*60*1e3,RM="installations",AM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_r=new Tr(RM,AM,NM);function SS(n){return n instanceof En&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS({projectId:n}){return`${wM}/projects/${n}/installations`}function wS(n){return{token:n.token,requestStatus:2,expiresIn:IM(n.expiresIn),creationTime:Date.now()}}async function CS(n,e){const s=(await e.json()).error;return _r.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function RS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function OM(n,{refreshToken:e}){const i=RS(n);return i.append("Authorization",xM(e)),i}async function AS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function IM(n){return Number(n.replace("s","000"))}function xM(n){return`${ES} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM({appConfig:n,heartbeatServiceProvider:e},{fid:i}){const s=TS(n),l=RS(n),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&l.append("x-firebase-client",m)}const f={fid:i,authVersion:ES,appId:n.appId,sdkVersion:bS},h={method:"POST",headers:l,body:JSON.stringify(f)},p=await AS(()=>fetch(s,h));if(p.ok){const m=await p.json();return{fid:m.fid||i,registrationStatus:2,refreshToken:m.refreshToken,authToken:wS(m.authToken)}}else throw await CS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^[cdef][\w-]{21}$/,Dh="";function LM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=UM(n);return kM.test(i)?i:Dh}catch{return Dh}}function UM(n){return MM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Map;function IS(n,e){const i=sc(n);xS(i,e),PM(i,e)}function xS(n,e){const i=OS.get(n);if(i)for(const s of i)s(e)}function PM(n,e){const i=zM();i&&i.postMessage({key:n,fid:e}),HM()}let or=null;function zM(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=n=>{xS(n.data.key,n.data.fid)}),or}function HM(){OS.size===0&&or&&(or.close(),or=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firebase-installations-database",jM=1,yr="firebase-installations-store";let Qd=null;function Vp(){return Qd||(Qd=Eb(BM,jM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(yr)}}})),Qd}async function xu(n,e){const i=sc(n),l=(await Vp()).transaction(yr,"readwrite"),u=l.objectStore(yr),f=await u.get(i);return await u.put(e,i),await l.done,(!f||f.fid!==e.fid)&&IS(n,e.fid),e}async function DS(n){const e=sc(n),s=(await Vp()).transaction(yr,"readwrite");await s.objectStore(yr).delete(e),await s.done}async function ac(n,e){const i=sc(n),l=(await Vp()).transaction(yr,"readwrite"),u=l.objectStore(yr),f=await u.get(i),h=e(f);return h===void 0?await u.delete(i):await u.put(h,i),await l.done,h&&(!f||f.fid!==h.fid)&&IS(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(n){let e;const i=await ac(n.appConfig,s=>{const l=qM(s),u=VM(n,l);return e=u.registrationPromise,u.installationEntry});return i.fid===Dh?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function qM(n){const e=n||{fid:LM(),registrationStatus:0};return MS(e)}function VM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(_r.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=FM(n,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GM(n)}:{installationEntry:e}}async function FM(n,e){try{const i=await DM(n,e);return xu(n.appConfig,i)}catch(i){throw SS(i)&&i.customData.serverCode===409?await DS(n.appConfig):await xu(n.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function GM(n){let e=await v0(n.appConfig);for(;e.registrationStatus===1;)await NS(100),e=await v0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Fp(n);return s||i}return e}function v0(n){return ac(n,e=>{if(!e)throw _r.create("installation-not-found");return MS(e)})}function MS(n){return YM(n)?{fid:n.fid,registrationStatus:0}:n}function YM(n){return n.registrationStatus===1&&n.registrationTime+vS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM({appConfig:n,heartbeatServiceProvider:e},i){const s=WM(n,i),l=OM(n,i),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&l.append("x-firebase-client",m)}const f={installation:{sdkVersion:bS,appId:n.appId}},h={method:"POST",headers:l,body:JSON.stringify(f)},p=await AS(()=>fetch(s,h));if(p.ok){const m=await p.json();return wS(m)}else throw await CS("Generate Auth Token",p)}function WM(n,{fid:e}){return`${TS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(n,e=!1){let i;const s=await ac(n.appConfig,u=>{if(!kS(u))throw _r.create("not-registered");const f=u.authToken;if(!e&&XM(f))return u;if(f.requestStatus===1)return i=QM(n,e),u;{if(!navigator.onLine)throw _r.create("app-offline");const h=JM(u);return i=$M(n,h),h}});return i?await i:s.authToken}async function QM(n,e){let i=await b0(n.appConfig);for(;i.authToken.requestStatus===1;)await NS(100),i=await b0(n.appConfig);const s=i.authToken;return s.requestStatus===0?Gp(n,e):s}function b0(n){return ac(n,e=>{if(!kS(e))throw _r.create("not-registered");const i=e.authToken;return ek(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $M(n,e){try{const i=await KM(n,e),s=Object.assign(Object.assign({},e),{authToken:i});return await xu(n.appConfig,s),i}catch(i){if(SS(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await DS(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xu(n.appConfig,s)}throw i}}function kS(n){return n!==void 0&&n.registrationStatus===2}function XM(n){return n.requestStatus===2&&!ZM(n)}function ZM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+CM}function JM(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ek(n){return n.requestStatus===1&&n.requestTime+vS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n){const e=n,{installationEntry:i,registrationPromise:s}=await Fp(e);return s?s.catch(console.error):Gp(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e=!1){const i=n;return await ik(i),(await Gp(i,e)).token}async function ik(n){const{registrationPromise:e}=await Fp(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){if(!n||!n.options)throw $d("App Configuration");if(!n.name)throw $d("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!n.options[i])throw $d(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function $d(n){return _r.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="installations",sk="installations-internal",ak=n=>{const e=n.getProvider("app").getImmediate(),i=rk(e),s=wr(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},lk=n=>{const e=n.getProvider("app").getImmediate(),i=wr(e,LS).getImmediate();return{getId:()=>tk(i),getToken:l=>nk(i,l)}};function ok(){vn(new on(LS,ak,"PUBLIC")),vn(new on(sk,lk,"PRIVATE"))}ok();Xt(yS,qp);Xt(yS,qp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="analytics",uk="firebase_id",ck="origin",fk=60*1e3,dk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Fu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pt=new Tr("analytics","Analytics",hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){if(!n.startsWith(Yp)){const e=Pt.create("invalid-gtag-resource",{gtagURL:n});return Rt.warn(e.message),""}return n}function US(n){return Promise.all(n.map(e=>e.catch(i=>i)))}function mk(n,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,e)),i}function gk(n,e){const i=mk("firebase-js-sdk-policy",{createScriptURL:pk}),s=document.createElement("script"),l=`${Yp}?l=${n}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function _k(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function yk(n,e,i,s,l,u){const f=s[l];try{if(f)await e[f];else{const p=(await US(i)).find(m=>m.measurementId===l);p&&await e[p.appId]}}catch(h){Rt.error(h)}n("config",l,u)}async function vk(n,e,i,s,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const h=await US(i);for(const p of f){const m=h.find(b=>b.measurementId===p),_=m&&e[m.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",s,l||{})}catch(u){Rt.error(u)}}function bk(n,e,i,s){async function l(u,...f){try{if(u==="event"){const[h,p]=f;await vk(n,e,i,h,p)}else if(u==="config"){const[h,p]=f;await yk(n,e,i,s,h,p)}else if(u==="consent"){const[h,p]=f;n("consent",h,p)}else if(u==="get"){const[h,p,m]=f;n("get",h,p,m)}else if(u==="set"){const[h]=f;n("set",h)}else n(u,...f)}catch(h){Rt.error(h)}}return l}function Ek(n,e,i,s,l){let u=function(...f){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=bk(u,n,e,i),{gtagCore:u,wrappedGtag:window[l]}}function Sk(n){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Yp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=30,wk=1e3;class Ck{constructor(e={},i=wk){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PS=new Ck;function Rk(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Ak(n){var e;const{appId:i,apiKey:s}=n,l={method:"GET",headers:Rk(s)},u=dk.replace("{app-id}",i),f=await fetch(u,l);if(f.status!==200&&f.status!==304){let h="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(h=p.error.message)}catch{}throw Pt.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function Nk(n,e=PS,i){const{appId:s,apiKey:l,measurementId:u}=n.options;if(!s)throw Pt.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw Pt.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new xk;return setTimeout(async()=>{h.abort()},fk),zS({appId:s,apiKey:l,measurementId:u},f,h,e)}async function zS(n,{throttleEndTimeMillis:e,backoffCount:i},s,l=PS){var u;const{appId:f,measurementId:h}=n;try{await Ok(s,e)}catch(p){if(h)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw p}try{const p=await Ak(n);return l.deleteThrottleMetadata(f),p}catch(p){const m=p;if(!Ik(m)){if(l.deleteThrottleMetadata(f),h)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw p}const _=Number((u=m==null?void 0:m.customData)===null||u===void 0?void 0:u.httpStatus)===503?cv(i,l.intervalMillis,Tk):cv(i,l.intervalMillis),b={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return l.setThrottleMetadata(f,b),Rt.debug(`Calling attemptFetch again in ${_} millis`),zS(n,b,s,l)}}function Ok(n,e){return new Promise((i,s)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(i,l);n.addEventListener(()=>{clearTimeout(u),s(Pt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ik(n){if(!(n instanceof En)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class xk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Dk(n,e,i,s,l){if(l&&l.global){n("event",i,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});n("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(){if(gb())try{await _b()}catch(n){return Rt.warn(Pt.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Rt.warn(Pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kk(n,e,i,s,l,u,f){var h;const p=Nk(n);p.then(C=>{i[C.measurementId]=C.appId,n.options.measurementId&&C.measurementId!==n.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>Rt.error(C)),e.push(p);const m=Mk().then(C=>{if(C)return s.getId()}),[_,b]=await Promise.all([p,m]);Sk(u)||gk(u,_.measurementId),l("js",new Date);const v=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return v[ck]="firebase",v.update=!0,b!=null&&(v[uk]=b),l("config",_.measurementId,v),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.app=e}_delete(){return delete nl[this.app.options.appId],Promise.resolve()}}let nl={},E0=[];const S0={};let Xd="dataLayer",Uk="gtag",T0,HS,w0=!1;function Pk(){const n=[];if(pb()&&n.push("This is a browser extension environment."),CR()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,l)=>`(${l+1}) ${s}`).join(" "),i=Pt.create("invalid-analytics-context",{errorInfo:e});Rt.warn(i.message)}}function zk(n,e,i){Pk();const s=n.options.appId;if(!s)throw Pt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pt.create("no-api-key");if(nl[s]!=null)throw Pt.create("already-exists",{id:s});if(!w0){_k(Xd);const{wrappedGtag:u,gtagCore:f}=Ek(nl,E0,S0,Xd,Uk);HS=u,T0=f,w0=!0}return nl[s]=kk(n,E0,S0,e,T0,Xd,i),new Lk(n)}function Hk(n=$h()){n=ct(n);const e=wr(n,Du);return e.isInitialized()?e.getImmediate():Bk(n)}function Bk(n,e={}){const i=wr(n,Du);if(i.isInitialized()){const l=i.getImmediate();if(xi(e,i.getOptions()))return l;throw Pt.create("already-initialized")}return i.initialize({options:e})}function jk(n,e,i,s){n=ct(n),Dk(HS,nl[n.app.options.appId],e,i,s).catch(l=>Rt.error(l))}const C0="@firebase/analytics",R0="0.10.16";function qk(){vn(new on(Du,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return zk(s,l,i)},"PUBLIC")),vn(new on("analytics-internal",n,"PRIVATE")),Xt(C0,R0),Xt(C0,R0,"esm2017");function n(e){try{const i=e.getProvider(Du).getImmediate();return{logEvent:(s,l,u)=>jk(i,s,l,u)}}catch(i){throw Pt.create("interop-component-reg-failed",{reason:i})}}}qk();const Vk={apiKey:"AIzaSyBrSH5n-tEgXItWI0J1BNLTRspabHOMo5Q",authDomain:"barru-959595.firebaseapp.com",databaseURL:"https://barru-959595-default-rtdb.europe-west1.firebasedatabase.app",projectId:"barru-959595",storageBucket:"barru-959595.appspot.com",messagingSenderId:"770466108654",appId:"1:770466108654:web:fcb43e50d28719cfc20fff",measurementId:"G-R8SM0BPSRQ"},Kp=Sb(Vk),Mu=SM(Kp),cr=rx(Kp);Hk(Kp);var Zd={exports:{}},Jd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function Fk(){if(A0)return Jd;A0=1;var n=Hu();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,l=n.useRef,u=n.useEffect,f=n.useMemo,h=n.useDebugValue;return Jd.useSyncExternalStoreWithSelector=function(p,m,_,b,v){var C=l(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=f(function(){function H(V){if(!P){if(P=!0,j=V,V=b(V),v!==void 0&&w.hasValue){var re=w.value;if(v(re,V))return K=re}return K=V}if(re=K,i(j,V))return re;var de=b(V);return v!==void 0&&v(re,de)?(j=V,re):(j=V,K=de)}var P=!1,j,K,Y=_===void 0?null:_;return[function(){return H(m())},Y===null?void 0:function(){return H(Y())}]},[m,_,b,v]);var L=s(p,C[0],C[1]);return u(function(){w.hasValue=!0,w.value=L},[L]),h(L),L},Jd}var N0;function Gk(){return N0||(N0=1,Zd.exports=Fk()),Zd.exports}var Yk=Gk();function Kk(n){n()}function Wk(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Kk(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const l=e={callback:i,next:null,prev:e};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var O0={notify(){},get:()=>[]};function Qk(n,e){let i,s=O0,l=0,u=!1;function f(L){_();const H=s.subscribe(L);let P=!1;return()=>{P||(P=!0,H(),b())}}function h(){s.notify()}function p(){w.onStateChange&&w.onStateChange()}function m(){return u}function _(){l++,i||(i=n.subscribe(p),s=Wk())}function b(){l--,i&&l===0&&(i(),i=void 0,s.clear(),s=O0)}function v(){u||(u=!0,_())}function C(){u&&(u=!1,b())}const w={addNestedSub:f,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:v,tryUnsubscribe:C,getListeners:()=>s};return w}var $k=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xk=$k(),Zk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Jk=Zk(),e2=()=>Xk||Jk?x.useLayoutEffect:x.useEffect,t2=e2(),eh=Symbol.for("react-redux-context"),th=typeof globalThis<"u"?globalThis:{};function n2(){if(!x.createContext)return{};const n=th[eh]??(th[eh]=new Map);let e=n.get(x.createContext);return e||(e=x.createContext(null),n.set(x.createContext,e)),e}var ki=n2();function i2(n){const{children:e,context:i,serverState:s,store:l}=n,u=x.useMemo(()=>{const p=Qk(l);return{store:l,subscription:p,getServerState:s?()=>s:void 0}},[l,s]),f=x.useMemo(()=>l.getState(),[l]);t2(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==l.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const h=i||ki;return x.createElement(h.Provider,{value:u},e)}var r2=i2;function Wp(n=ki){return function(){return x.useContext(n)}}var BS=Wp();function jS(n=ki){const e=n===ki?BS:Wp(n),i=()=>{const{store:s}=e();return s};return Object.assign(i,{withTypes:()=>i}),i}var s2=jS();function a2(n=ki){const e=n===ki?s2:jS(n),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var Qp=a2(),l2=(n,e)=>n===e;function o2(n=ki){const e=n===ki?BS:Wp(n),i=(s,l={})=>{const{equalityFn:u=l2}=typeof l=="function"?{equalityFn:l}:l,f=e(),{store:h,subscription:p,getServerState:m}=f;x.useRef(!0);const _=x.useCallback({[s.name](v){return s(v)}}[s.name],[s]),b=Yk.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,m||h.getState,_,u);return x.useDebugValue(b),b};return Object.assign(i,{withTypes:()=>i}),i}var zs=o2();const u2=(n,e)=>{if(e)return"bg-green-100 border-l-4 border-green-600";switch(n){case"paid":return"bg-green-100 border-l-4 border-green-500";case"no_answer":return"bg-red-100 border-l-4 border-red-500";case"rescheduled":return"bg-yellow-100 border-l-4 border-yellow-500";default:return"bg-orange-100 border-l-4 border-orange-500"}},c2=(n,e)=>{if(e)return k.jsx("span",{className:"text-sm text-green-700 font-bold",children:"Перенос на сегодня"});switch(n){case"paid":return k.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Оплачено"});case"no_answer":return k.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Не отвечает"});case"rescheduled":return k.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"Перенос"});default:return k.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"В ожидании"})}},qS=({client:n,isAdmin:e,onStatusChange:i,onDelete:s})=>{const l=zs(f=>f.user);let u=!1;if(n.status==="rescheduled"&&n.comment)try{const f=n.comment.match(/\b([1-9]|[12][0-9]|3[01])\b/),h=f?parseInt(f[1],10):null,p=new Date().getDate();h===p&&(u=!0)}catch{}return k.jsxs("div",{className:`p-4 rounded-lg shadow mb-4 ${u2(n.status,u)}`,children:[k.jsxs("div",{className:"flex justify-between items-center mb-2",children:[k.jsx("h3",{className:"text-lg font-semibold",children:n.fullName}),c2(n.status,u)]}),k.jsxs("p",{className:"text-sm mb-1 text-gray-600",children:["📞 Телефон:"," ",k.jsx("a",{href:`tel:${n.phone}`,className:"text-blue-600 underline hover:text-blue-800",children:n.phone})]}),k.jsxs("p",{className:"text-sm mb-1 text-gray-600",children:["👤 Поручитель:"," ",k.jsx("a",{href:`tel:${n.guarantorPhone}`,className:"text-blue-600 underline hover:text-blue-800",children:n.guarantorPhone})]}),k.jsxs("p",{className:"text-sm mb-1 text-gray-600",children:["💰 Сумма оплаты: ",k.jsx("span",{className:"text-black",children:n.paymentAmount})]}),k.jsxs("p",{className:"text-sm mb-3 text-gray-600",children:["📝 Комментарий: ",k.jsx("span",{className:"text-black",children:n.comment||k.jsx("em",{children:"Нет"})})]}),k.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.status!=="paid"&&k.jsx("button",{onClick:()=>i(n.id,"paid"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Оплатил"}),n.status!=="no_answer"&&k.jsx("button",{onClick:()=>i(n.id,"no_answer"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Не отвечает"}),n.status!=="rescheduled"&&k.jsx("button",{onClick:()=>{const f=prompt("Введите дату или текст переноса (например: 'на 21')");f&&i(n.id,"rescheduled",f)},className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm hover:bg-yellow-600",children:"Перенос оплаты"}),n.status!=="pending"&&k.jsx("button",{onClick:()=>i(n.id,"pending"),className:"bg-gray-400 text-white px-3 py-1 rounded text-sm hover:bg-gray-500",children:"В ожидании"}),l.role==="admin"&&k.jsx("button",{onClick:()=>s(n.id),className:"border border-red-500 text-red-500 px-3 py-1 rounded text-sm hover:bg-red-50",children:"Удалить"})]})]})},f2=()=>{const n=zs(b=>b.user),[e,i]=x.useState({fullName:"",phone:"",guarantorPhone:"",paymentAmount:"",status:"pending",comment:""}),[s,l]=x.useState("today"),[u,f]=x.useState({}),[h,p]=x.useState(!1);if((n==null?void 0:n.role)!=="admin")return null;const m=()=>{const b={},v=/^\d+$/,C=/^\d+$/;return v.test(e.phone)||(b.phone="Введите только цифры"),v.test(e.guarantorPhone)||(b.guarantorPhone="Введите только цифры"),C.test(e.paymentAmount)||(b.paymentAmount="Введите только цифры"),f(b),Object.keys(b).length===0},_=async()=>{if(!m())return;const b=ur(cr,"clients"),v=new Date;s==="overdue"&&v.setDate(v.getDate()-1);const C={...e,createdAt:v.toISOString()};await QI(b,C),i({fullName:"",phone:"",guarantorPhone:"",paymentAmount:"",status:"pending",comment:""}),l("today"),f({}),p(!1)};return k.jsx("div",{className:"mb-6",children:h?k.jsxs("form",{onSubmit:b=>{b.preventDefault(),_()},className:"space-y-4 border p-4 rounded-lg shadow bg-white max-w-2xl mx-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-1",children:[k.jsx("h3",{className:"text-lg font-semibold",children:"Новый клиент"}),k.jsx("button",{type:"button",onClick:()=>p(!1),className:"text-gray-500 hover:text-red-500 text-sm",children:"✕ Закрыть"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Клиент для:"}),k.jsxs("select",{value:s,onChange:b=>l(b.target.value),className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500",children:[k.jsx("option",{value:"today",children:"Сегодня"}),k.jsx("option",{value:"overdue",children:"Просрочено"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"ФИО"}),k.jsx("input",{type:"text",placeholder:"ФИО",value:e.fullName,onChange:b=>i({...e,fullName:b.target.value}),className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),k.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Телефон клиента"}),k.jsx("input",{type:"tel",inputMode:"numeric",pattern:"\\d*",placeholder:"10–15 цифр",value:e.phone,onChange:b=>i({...e,phone:b.target.value.replace(/\D/g,"")}),className:`w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500 ${u.phone?"border-red-500":""}`}),u.phone&&k.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.phone})]}),k.jsxs("div",{className:"flex-1",children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Телефон поручителя"}),k.jsx("input",{type:"tel",inputMode:"numeric",pattern:"\\d*",placeholder:"10–15 цифр",value:e.guarantorPhone,onChange:b=>i({...e,guarantorPhone:b.target.value.replace(/\D/g,"")}),className:`w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500 ${u.guarantorPhone?"border-red-500":""}`}),u.guarantorPhone&&k.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.guarantorPhone})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Сумма оплаты"}),k.jsx("input",{type:"number",min:"0",inputMode:"numeric",placeholder:"₸",value:e.paymentAmount,onChange:b=>i({...e,paymentAmount:b.target.value}),className:`w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500 ${u.paymentAmount?"border-red-500":""}`,required:!0}),u.paymentAmount&&k.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.paymentAmount})]}),k.jsx("div",{children:k.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition w-full sm:w-auto",children:"Добавить клиента"})})]}):k.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"+ Добавить клиента"})})},VS=6e4,FS=36e5,I0=Symbol.for("constructDateFrom");function Ol(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&I0 in n?n[I0](e):n instanceof Date?new n.constructor(e):new Date(e)}function Mh(n,e){return Ol(n,n)}function d2(n,...e){const i=Ol.bind(null,e.find(s=>typeof s=="object"));return e.map(i)}function x0(n,e){const i=Mh(n);return i.setHours(0,0,0,0),i}function h2(n){return Ol(n,Date.now())}function p2(n,e,i){const[s,l]=d2(i==null?void 0:i.in,n,e);return+x0(s)==+x0(l)}function GS(n,e){return p2(Ol(n,n),h2(n))}function YS(n,e){const i=()=>Ol(e==null?void 0:e.in,NaN),l=y2(n);let u;if(l.date){const m=v2(l.date,2);u=b2(m.restDateString,m.year)}if(!u||isNaN(+u))return i();const f=+u;let h=0,p;if(l.time&&(h=E2(l.time),isNaN(h)))return i();if(l.timezone){if(p=S2(l.timezone),isNaN(p))return i()}else{const m=new Date(f+h),_=Mh(0);return _.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),_.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),_}return Mh(f+h+p)}const $o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y2(n){const e={},i=n.split($o.dateTimeDelimiter);let s;if(i.length>2)return e;if(/:/.test(i[0])?s=i[0]:(e.date=i[0],s=i[1],$o.timeZoneDelimiter.test(e.date)&&(e.date=n.split($o.timeZoneDelimiter)[0],s=n.substr(e.date.length,n.length))),s){const l=$o.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function v2(n,e){const i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=n.match(i);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?l:u*100,restDateString:n.slice((s[1]||s[2]).length)}}function b2(n,e){if(e===null)return new Date(NaN);const i=n.match(m2);if(!i)return new Date(NaN);const s=!!i[4],l=Fa(i[1]),u=Fa(i[2])-1,f=Fa(i[3]),h=Fa(i[4]),p=Fa(i[5])-1;if(s)return A2(e,h,p)?T2(e,h,p):new Date(NaN);{const m=new Date(0);return!C2(e,u,f)||!R2(e,l)?new Date(NaN):(m.setUTCFullYear(e,u,Math.max(l,f)),m)}}function Fa(n){return n?parseInt(n):1}function E2(n){const e=n.match(g2);if(!e)return NaN;const i=nh(e[1]),s=nh(e[2]),l=nh(e[3]);return N2(i,s,l)?i*FS+s*VS+l*1e3:NaN}function nh(n){return n&&parseFloat(n.replace(",","."))||0}function S2(n){if(n==="Z")return 0;const e=n.match(_2);if(!e)return 0;const i=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return O2(s,l)?i*(s*FS+l*VS):NaN}function T2(n,e,i){const s=new Date(0);s.setUTCFullYear(n,0,4);const l=s.getUTCDay()||7,u=(e-1)*7+i+1-l;return s.setUTCDate(s.getUTCDate()+u),s}const w2=[31,null,31,30,31,30,31,31,30,31,30,31];function KS(n){return n%400===0||n%4===0&&n%100!==0}function C2(n,e,i){return e>=0&&e<=11&&i>=1&&i<=(w2[e]||(KS(n)?29:28))}function R2(n,e){return e>=1&&e<=(KS(n)?366:365)}function A2(n,e,i){return e>=1&&e<=53&&i>=0&&i<=6}function N2(n,e,i){return n===24?e===0&&i===0:i>=0&&i<60&&e>=0&&e<60&&n>=0&&n<25}function O2(n,e){return e>=0&&e<=59}const D0=()=>{const[n,e]=x.useState([]),[i,s]=x.useState("all"),l=zs(m=>m.user);x.useEffect(()=>{const m=ur(cr,"clients"),_=PE(m,b=>{const v=b.val();if(v){const C=Object.entries(v).map(([w,L])=>({id:w,...L}));e(C)}else e([])});return()=>_()},[]);const u=(m,_,b="")=>UE(ur(cr,`clients/${m}`),{status:_,comment:b}),f=m=>kE(ur(cr,`clients/${m}`)),h=n.filter(m=>m.createdAt&&GS(YS(m.createdAt))&&(i==="all"||m.status===i)),p=h.filter(m=>m.status!=="paid").reduce((m,_)=>m+Number(_.paymentAmount||0),0);return k.jsxs(k.Fragment,{children:[k.jsx(f2,{}),l.role==="admin"&&k.jsxs("div",{className:"mb-2 text-sm text-gray-700",children:["💰 ",k.jsx("strong",{children:"Сегодняшний долг:"})," ",p.toLocaleString(),"₽"]}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[["all","Все"],["paid","Оплачено"],["rescheduled","Перенос"],["no_answer","Не отвечает"],["pending","Ожидание"]].map(([m,_])=>k.jsx("button",{onClick:()=>s(m),className:`px-3 py-1 rounded text-sm border ${i===m?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:_},m))}),h.length===0?k.jsx("p",{className:"text-gray-500",children:"Клиентов нет."}):h.map(m=>k.jsx(qS,{client:m,isAdmin:!0,onStatusChange:u,onDelete:f},m.id))]})},I2=()=>{const n=zs(m=>m.user),[e,i]=x.useState([]),[s,l]=x.useState("all");x.useEffect(()=>{const m=ur(cr,"clients"),_=PE(m,b=>{const v=b.val();if(v){const C=Object.entries(v).map(([w,L])=>({id:w,...L}));i(C)}else i([])});return()=>_()},[]);const u=(m,_,b="")=>UE(ur(cr,`clients/${m}`),{status:_,comment:b}),f=m=>kE(ur(cr,`clients/${m}`)),h=e.filter(m=>{const _=m.createdAt?YS(m.createdAt):null;return _&&!GS(_)&&m.status!=="paid"&&(s==="all"||m.status===s)}),p=h.reduce((m,_)=>m+Number(_.paymentAmount||0),0);return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"mb-2 text-sm text-gray-700",children:n.role==="admin"&&k.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 rounded",children:["💸 ",k.jsx("strong",{children:"Просроченный долг:"})," ",p.toLocaleString(),"₽"]})}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[["all","Все"],["paid","Оплачено"],["rescheduled","Перенос"],["no_answer","Не отвечает"],["pending","Ожидание"]].map(([m,_])=>k.jsx("button",{onClick:()=>l(m),className:`px-3 py-1 rounded text-sm border ${s===m?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:_},m))}),h.length===0?k.jsx("p",{className:"text-gray-500",children:"Клиентов нет."}):h.map(m=>k.jsx(qS,{client:m,isAdmin:!0,onStatusChange:u,onDelete:f},m.id))]})};function lt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var x2=typeof Symbol=="function"&&Symbol.observable||"@@observable",M0=x2,ih=()=>Math.random().toString(36).substring(7).split("").join("."),D2={INIT:`@@redux/INIT${ih()}`,REPLACE:`@@redux/REPLACE${ih()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ih()}`},ku=D2;function $p(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function WS(n,e,i){if(typeof n!="function")throw new Error(lt(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(lt(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(lt(1));return i(WS)(n,e)}let s=n,l=e,u=new Map,f=u,h=0,p=!1;function m(){f===u&&(f=new Map,u.forEach((H,P)=>{f.set(P,H)}))}function _(){if(p)throw new Error(lt(3));return l}function b(H){if(typeof H!="function")throw new Error(lt(4));if(p)throw new Error(lt(5));let P=!0;m();const j=h++;return f.set(j,H),function(){if(P){if(p)throw new Error(lt(6));P=!1,m(),f.delete(j),u=null}}}function v(H){if(!$p(H))throw new Error(lt(7));if(typeof H.type>"u")throw new Error(lt(8));if(typeof H.type!="string")throw new Error(lt(17));if(p)throw new Error(lt(9));try{p=!0,l=s(l,H)}finally{p=!1}return(u=f).forEach(j=>{j()}),H}function C(H){if(typeof H!="function")throw new Error(lt(10));s=H,v({type:ku.REPLACE})}function w(){const H=b;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(lt(11));function j(){const Y=P;Y.next&&Y.next(_())}return j(),{unsubscribe:H(j)}},[M0](){return this}}}return v({type:ku.INIT}),{dispatch:v,subscribe:b,getState:_,replaceReducer:C,[M0]:w}}function M2(n){Object.keys(n).forEach(e=>{const i=n[e];if(typeof i(void 0,{type:ku.INIT})>"u")throw new Error(lt(12));if(typeof i(void 0,{type:ku.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lt(13))})}function k2(n){const e=Object.keys(n),i={};for(let u=0;u<e.length;u++){const f=e[u];typeof n[f]=="function"&&(i[f]=n[f])}const s=Object.keys(i);let l;try{M2(i)}catch(u){l=u}return function(f={},h){if(l)throw l;let p=!1;const m={};for(let _=0;_<s.length;_++){const b=s[_],v=i[b],C=f[b],w=v(C,h);if(typeof w>"u")throw h&&h.type,new Error(lt(14));m[b]=w,p=p||w!==C}return p=p||s.length!==Object.keys(f).length,p?m:f}}function Lu(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function L2(...n){return e=>(i,s)=>{const l=e(i,s);let u=()=>{throw new Error(lt(15))};const f={getState:l.getState,dispatch:(p,...m)=>u(p,...m)},h=n.map(p=>p(f));return u=Lu(...h)(l.dispatch),{...l,dispatch:u}}}function U2(n){return $p(n)&&"type"in n&&typeof n.type=="string"}var QS=Symbol.for("immer-nothing"),k0=Symbol.for("immer-draftable"),zt=Symbol.for("immer-state");function nn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ns=Object.getPrototypeOf;function vr(n){return!!n&&!!n[zt]}function Qn(n){var e;return n?$S(n)||Array.isArray(n)||!!n[k0]||!!((e=n.constructor)!=null&&e[k0])||oc(n)||uc(n):!1}var P2=Object.prototype.constructor.toString();function $S(n){if(!n||typeof n!="object")return!1;const e=Ns(n);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===P2}function Uu(n,e){lc(n)===0?Reflect.ownKeys(n).forEach(i=>{e(i,n[i],n)}):n.forEach((i,s)=>e(s,i,n))}function lc(n){const e=n[zt];return e?e.type_:Array.isArray(n)?1:oc(n)?2:uc(n)?3:0}function kh(n,e){return lc(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function XS(n,e,i){const s=lc(n);s===2?n.set(e,i):s===3?n.add(i):n[e]=i}function z2(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function oc(n){return n instanceof Map}function uc(n){return n instanceof Set}function ar(n){return n.copy_||n.base_}function Lh(n,e){if(oc(n))return new Map(n);if(uc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const i=$S(n);if(e===!0||e==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(n);delete s[zt];let l=Reflect.ownKeys(s);for(let u=0;u<l.length;u++){const f=l[u],h=s[f];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[f]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[f]})}return Object.create(Ns(n),s)}else{const s=Ns(n);if(s!==null&&i)return{...n};const l=Object.create(s);return Object.assign(l,n)}}function Xp(n,e=!1){return cc(n)||vr(n)||!Qn(n)||(lc(n)>1&&(n.set=n.add=n.clear=n.delete=H2),Object.freeze(n),e&&Object.entries(n).forEach(([i,s])=>Xp(s,!0))),n}function H2(){nn(2)}function cc(n){return Object.isFrozen(n)}var B2={};function br(n){const e=B2[n];return e||nn(0,n),e}var ml;function ZS(){return ml}function j2(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function L0(n,e){e&&(br("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Uh(n){Ph(n),n.drafts_.forEach(q2),n.drafts_=null}function Ph(n){n===ml&&(ml=n.parent_)}function U0(n){return ml=j2(ml,n)}function q2(n){const e=n[zt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function P0(n,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return n!==void 0&&n!==i?(i[zt].modified_&&(Uh(e),nn(4)),Qn(n)&&(n=Pu(e,n),e.parent_||zu(e,n)),e.patches_&&br("Patches").generateReplacementPatches_(i[zt].base_,n,e.patches_,e.inversePatches_)):n=Pu(e,i,[]),Uh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==QS?n:void 0}function Pu(n,e,i){if(cc(e))return e;const s=e[zt];if(!s)return Uu(e,(l,u)=>z0(n,s,e,l,u,i)),e;if(s.scope_!==n)return e;if(!s.modified_)return zu(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let u=l,f=!1;s.type_===3&&(u=new Set(l),l.clear(),f=!0),Uu(u,(h,p)=>z0(n,s,l,h,p,i,f)),zu(n,l,!1),i&&n.patches_&&br("Patches").generatePatches_(s,i,n.patches_,n.inversePatches_)}return s.copy_}function z0(n,e,i,s,l,u,f){if(vr(l)){const h=u&&e&&e.type_!==3&&!kh(e.assigned_,s)?u.concat(s):void 0,p=Pu(n,l,h);if(XS(i,s,p),vr(p))n.canAutoFreeze_=!1;else return}else f&&i.add(l);if(Qn(l)&&!cc(l)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Pu(n,l),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&zu(n,l)}}function zu(n,e,i=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Xp(e,i)}function V2(n,e){const i=Array.isArray(n),s={type_:i?1:0,scope_:e?e.scope_:ZS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,u=Zp;i&&(l=[s],u=gl);const{revoke:f,proxy:h}=Proxy.revocable(l,u);return s.draft_=h,s.revoke_=f,h}var Zp={get(n,e){if(e===zt)return n;const i=ar(n);if(!kh(i,e))return F2(n,i,e);const s=i[e];return n.finalized_||!Qn(s)?s:s===rh(n.base_,e)?(sh(n),n.copy_[e]=Hh(s,n)):s},has(n,e){return e in ar(n)},ownKeys(n){return Reflect.ownKeys(ar(n))},set(n,e,i){const s=JS(ar(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,i),!0;if(!n.modified_){const l=rh(ar(n),e),u=l==null?void 0:l[zt];if(u&&u.base_===i)return n.copy_[e]=i,n.assigned_[e]=!1,!0;if(z2(i,l)&&(i!==void 0||kh(n.base_,e)))return!0;sh(n),zh(n)}return n.copy_[e]===i&&(i!==void 0||e in n.copy_)||Number.isNaN(i)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=i,n.assigned_[e]=!0),!0},deleteProperty(n,e){return rh(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,sh(n),zh(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const i=ar(n),s=Reflect.getOwnPropertyDescriptor(i,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:i[e]}},defineProperty(){nn(11)},getPrototypeOf(n){return Ns(n.base_)},setPrototypeOf(){nn(12)}},gl={};Uu(Zp,(n,e)=>{gl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gl.deleteProperty=function(n,e){return gl.set.call(this,n,e,void 0)};gl.set=function(n,e,i){return Zp.set.call(this,n[0],e,i,n[0])};function rh(n,e){const i=n[zt];return(i?ar(i):n)[e]}function F2(n,e,i){var l;const s=JS(e,i);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(n.draft_):void 0}function JS(n,e){if(!(e in n))return;let i=Ns(n);for(;i;){const s=Object.getOwnPropertyDescriptor(i,e);if(s)return s;i=Ns(i)}}function zh(n){n.modified_||(n.modified_=!0,n.parent_&&zh(n.parent_))}function sh(n){n.copy_||(n.copy_=Lh(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var G2=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,s)=>{if(typeof e=="function"&&typeof i!="function"){const u=i;i=e;const f=this;return function(p=u,...m){return f.produce(p,_=>i.call(this,_,...m))}}typeof i!="function"&&nn(6),s!==void 0&&typeof s!="function"&&nn(7);let l;if(Qn(e)){const u=U0(this),f=Hh(e,void 0);let h=!0;try{l=i(f),h=!1}finally{h?Uh(u):Ph(u)}return L0(u,s),P0(l,u)}else if(!e||typeof e!="object"){if(l=i(e),l===void 0&&(l=e),l===QS&&(l=void 0),this.autoFreeze_&&Xp(l,!0),s){const u=[],f=[];br("Patches").generateReplacementPatches_(e,l,u,f),s(u,f)}return l}else nn(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(f,...h)=>this.produceWithPatches(f,p=>e(p,...h));let s,l;return[this.produce(e,i,(f,h)=>{s=f,l=h}),s,l]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Qn(n)||nn(8),vr(n)&&(n=Y2(n));const e=U0(this),i=Hh(n,void 0);return i[zt].isManual_=!0,Ph(e),i}finishDraft(n,e){const i=n&&n[zt];(!i||!i.isManual_)&&nn(9);const{scope_:s}=i;return L0(s,e),P0(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let i;for(i=e.length-1;i>=0;i--){const l=e[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}i>-1&&(e=e.slice(i+1));const s=br("Patches").applyPatches_;return vr(n)?s(n,e):this.produce(n,l=>s(l,e))}};function Hh(n,e){const i=oc(n)?br("MapSet").proxyMap_(n,e):uc(n)?br("MapSet").proxySet_(n,e):V2(n,e);return(e?e.scope_:ZS()).drafts_.push(i),i}function Y2(n){return vr(n)||nn(10,n),eT(n)}function eT(n){if(!Qn(n)||cc(n))return n;const e=n[zt];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=Lh(n,e.scope_.immer_.useStrictShallowCopy_)}else i=Lh(n,!0);return Uu(i,(s,l)=>{XS(i,s,eT(l))}),e&&(e.finalized_=!1),i}var Ht=new G2,tT=Ht.produce;Ht.produceWithPatches.bind(Ht);Ht.setAutoFreeze.bind(Ht);Ht.setUseStrictShallowCopy.bind(Ht);Ht.applyPatches.bind(Ht);Ht.createDraft.bind(Ht);Ht.finishDraft.bind(Ht);function nT(n){return({dispatch:i,getState:s})=>l=>u=>typeof u=="function"?u(i,s,n):l(u)}var K2=nT(),W2=nT,Q2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lu:Lu.apply(null,arguments)};function H0(n,e){function i(...s){if(e){let l=e(...s);if(!l)throw new Error(Fn(0));return{type:n,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:n,payload:s[0]}}return i.toString=()=>`${n}`,i.type=n,i.match=s=>U2(s)&&s.type===n,i}var iT=class Wa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wa.prototype)}static get[Symbol.species](){return Wa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wa(...e[0].concat(this)):new Wa(...e.concat(this))}};function B0(n){return Qn(n)?tT(n,()=>{}):n}function Xo(n,e,i){return n.has(e)?n.get(e):n.set(e,i(e)).get(e)}function $2(n){return typeof n=="boolean"}var X2=()=>function(e){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=e??{};let f=new iT;return i&&($2(i)?f.push(K2):f.push(W2(i.extraArgument))),f},Z2="RTK_autoBatch",j0=n=>e=>{setTimeout(e,n)},J2=(n={type:"raf"})=>e=>(...i)=>{const s=e(...i);let l=!0,u=!1,f=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:j0(10):n.type==="callback"?n.queueNotification:j0(n.timeout),m=()=>{f=!1,u&&(u=!1,h.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const b=()=>l&&_(),v=s.subscribe(b);return h.add(_),()=>{v(),h.delete(_)}},dispatch(_){var b;try{return l=!((b=_==null?void 0:_.meta)!=null&&b[Z2]),u=!l,u&&(f||(f=!0,p(m))),s.dispatch(_)}finally{l=!0}}})},e3=n=>function(i){const{autoBatch:s=!0}=i??{};let l=new iT(n);return s&&l.push(J2(typeof s=="object"?s:void 0)),l};function t3(n){const e=X2(),{reducer:i=void 0,middleware:s,devTools:l=!0,preloadedState:u=void 0,enhancers:f=void 0}=n||{};let h;if(typeof i=="function")h=i;else if($p(i))h=k2(i);else throw new Error(Fn(1));let p;typeof s=="function"?p=s(e):p=e();let m=Lu;l&&(m=Q2({trace:!1,...typeof l=="object"&&l}));const _=L2(...p),b=e3(_);let v=typeof f=="function"?f(b):b();const C=m(...v);return WS(h,u,C)}function rT(n){const e={},i=[];let s;const l={addCase(u,f){const h=typeof u=="string"?u:u.type;if(!h)throw new Error(Fn(28));if(h in e)throw new Error(Fn(29));return e[h]=f,l},addMatcher(u,f){return i.push({matcher:u,reducer:f}),l},addDefaultCase(u){return s=u,l}};return n(l),[e,i,s]}function n3(n){return typeof n=="function"}function i3(n,e){let[i,s,l]=rT(e),u;if(n3(n))u=()=>B0(n());else{const h=B0(n);u=()=>h}function f(h=u(),p){let m=[i[p.type],...s.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[l]),m.reduce((_,b)=>{if(b)if(vr(_)){const C=b(_,p);return C===void 0?_:C}else{if(Qn(_))return tT(_,v=>b(v,p));{const v=b(_,p);if(v===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return _},h)}return f.getInitialState=u,f}var r3=Symbol.for("rtk-slice-createasyncthunk");function s3(n,e){return`${n}/${e}`}function a3({creators:n}={}){var i;const e=(i=n==null?void 0:n.asyncThunk)==null?void 0:i[r3];return function(l){const{name:u,reducerPath:f=u}=l;if(!u)throw new Error(Fn(11));const h=(typeof l.reducers=="function"?l.reducers(u3()):l.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(Y,V){const re=typeof Y=="string"?Y:Y.type;if(!re)throw new Error(Fn(12));if(re in m.sliceCaseReducersByType)throw new Error(Fn(13));return m.sliceCaseReducersByType[re]=V,_},addMatcher(Y,V){return m.sliceMatchers.push({matcher:Y,reducer:V}),_},exposeAction(Y,V){return m.actionCreators[Y]=V,_},exposeCaseReducer(Y,V){return m.sliceCaseReducersByName[Y]=V,_}};p.forEach(Y=>{const V=h[Y],re={reducerName:Y,type:s3(u,Y),createNotation:typeof l.reducers=="function"};f3(V)?h3(re,V,_,e):c3(re,V,_)});function b(){const[Y={},V=[],re=void 0]=typeof l.extraReducers=="function"?rT(l.extraReducers):[l.extraReducers],de={...Y,...m.sliceCaseReducersByType};return i3(l.initialState,ge=>{for(let ae in de)ge.addCase(ae,de[ae]);for(let ae of m.sliceMatchers)ge.addMatcher(ae.matcher,ae.reducer);for(let ae of V)ge.addMatcher(ae.matcher,ae.reducer);re&&ge.addDefaultCase(re)})}const v=Y=>Y,C=new Map,w=new WeakMap;let L;function H(Y,V){return L||(L=b()),L(Y,V)}function P(){return L||(L=b()),L.getInitialState()}function j(Y,V=!1){function re(ge){let ae=ge[Y];return typeof ae>"u"&&V&&(ae=Xo(w,re,P)),ae}function de(ge=v){const ae=Xo(C,V,()=>new WeakMap);return Xo(ae,ge,()=>{const Fe={};for(const[yt,Qe]of Object.entries(l.selectors??{}))Fe[yt]=l3(Qe,ge,()=>Xo(w,ge,P),V);return Fe})}return{reducerPath:Y,getSelectors:de,get selectors(){return de(re)},selectSlice:re}}const K={name:u,reducer:H,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:P,...j(f),injectInto(Y,{reducerPath:V,...re}={}){const de=V??f;return Y.inject({reducerPath:de,reducer:H},re),{...K,...j(de,!0)}}};return K}}function l3(n,e,i,s){function l(u,...f){let h=e(u);return typeof h>"u"&&s&&(h=i()),n(h,...f)}return l.unwrapped=n,l}var o3=a3();function u3(){function n(e,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...i}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...i){return e(...i)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:i}},asyncThunk:n}}function c3({type:n,reducerName:e,createNotation:i},s,l){let u,f;if("reducer"in s){if(i&&!d3(s))throw new Error(Fn(17));u=s.reducer,f=s.prepare}else u=s;l.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,f?H0(n,f):H0(n))}function f3(n){return n._reducerDefinitionType==="asyncThunk"}function d3(n){return n._reducerDefinitionType==="reducerWithPrepare"}function h3({type:n,reducerName:e},i,s,l){if(!l)throw new Error(Fn(18));const{payloadCreator:u,fulfilled:f,pending:h,rejected:p,settled:m,options:_}=i,b=l(n,u,_);s.exposeAction(e,b),f&&s.addCase(b.fulfilled,f),h&&s.addCase(b.pending,h),p&&s.addCase(b.rejected,p),m&&s.addMatcher(b.settled,m),s.exposeCaseReducer(e,{fulfilled:f||Zo,pending:h||Zo,rejected:p||Zo,settled:m||Zo})}function Zo(){}function Fn(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const sT=o3({name:"user",initialState:{uid:null,email:null,role:null},reducers:{setUser:(n,e)=>{n.uid=e.payload.uid,n.email=e.payload.email,n.role=e.payload.role},logout:n=>{n.uid=null,n.email=null,n.role=null}}}),{setUser:Bh,logout:aT}=sT.actions,p3=sT.reducer,m3=()=>{const n=zs(s=>s.user),e=Qp(),i=()=>{fD(Mu),e(aT())};return k.jsxs("div",{className:"p-4 border rounded shadow bg-white max-w-lg mx-auto",children:[k.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Личный кабинет"}),k.jsxs("div",{className:"mb-4",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Email:"})," ",k.jsx("span",{className:"text-gray-800",children:n.email})]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Роль:"})," ",k.jsx("span",{className:"text-blue-600 font-semibold",children:n.role})]})]}),n.role==="admin"&&k.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded",children:k.jsx("p",{className:"text-sm text-blue-700",children:"Вы администратор. У вас есть расширенные права."})}),n.role!=="admin"&&k.jsx("div",{className:"mb-4 p-3 bg-yellow-50 rounded",children:k.jsx("p",{className:"text-sm text-yellow-800",children:"Вы обычный пользователь."})}),k.jsx("button",{onClick:i,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Выйти"})]})},g3=()=>{const[n,e]=x.useState(""),[i,s]=x.useState(""),[l,u]=x.useState("user"),[f,h]=x.useState("login"),p=Qp(),m=()=>{e(""),s(""),u("user")},_=async()=>{const v=await aD(Mu,n,i);localStorage.setItem("role",l),p(Bh({uid:v.user.uid,email:n,role:l})),m()},b=async()=>{const v=await lD(Mu,n,i),C=localStorage.getItem("role")||"user";p(Bh({uid:v.user.uid,email:n,role:C})),m()};return k.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white shadow rounded-lg mt-10",children:[k.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:f==="login"?"Вход":"Регистрация"}),k.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:v=>e(v.target.value),className:"w-full px-4 py-2 border rounded mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.jsx("input",{type:"password",placeholder:"Пароль",value:i,onChange:v=>s(v.target.value),className:"w-full px-4 py-2 border rounded mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),f==="register"&&k.jsxs("select",{value:l,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 border rounded mb-4 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[k.jsx("option",{value:"admin",children:"Admin"}),k.jsx("option",{value:"user",children:"User"}),k.jsx("option",{value:"teacher",children:"Teacher"})]}),k.jsx("div",{className:"flex gap-2 mb-4",children:f==="register"?k.jsx("button",{onClick:_,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Зарегистрироваться"}):k.jsx("button",{onClick:b,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Войти"})}),k.jsx("div",{className:"text-center",children:k.jsxs("p",{className:"text-sm text-gray-600",children:[f==="login"?"Нет аккаунта?":"Уже есть аккаунт?"," ",k.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>h(f==="login"?"register":"login"),children:f==="login"?"Зарегистрироваться":"Войти"})]})})]})},_3=t3({reducer:{user:p3}}),y3=()=>k.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[k.jsxs("nav",{className:"flex gap-4 mb-6 flex-wrap",children:[k.jsx(tu,{to:"/today",className:({isActive:n})=>n?"font-semibold text-blue-600":"text-gray-600 hover:text-blue-600",children:"Сегодня"}),k.jsx(tu,{to:"/overdue",className:({isActive:n})=>n?"font-semibold text-blue-600":"text-gray-600 hover:text-blue-600",children:"Просроченные"}),k.jsx(tu,{to:"/profile",className:({isActive:n})=>n?"font-semibold text-blue-600":"text-gray-600 hover:text-blue-600",children:"Профиль"})]}),k.jsxs(I1,{children:[k.jsx(Ga,{path:"/today",element:k.jsx(D0,{})}),k.jsx(Ga,{path:"/overdue",element:k.jsx(I2,{})}),k.jsx(Ga,{path:"/profile",element:k.jsx(m3,{})}),k.jsx(Ga,{path:"*",element:k.jsx(D0,{})})]})]}),v3=()=>{const n=zs(l=>l.user),e=Qp(),[i,s]=x.useState(!0);return x.useEffect(()=>{const l=cD(Mu,u=>{if(u){const f=localStorage.getItem("role")||"user";e(Bh({uid:u.uid,email:u.email,role:f}))}else e(aT());s(!1)});return()=>l()},[e]),i?k.jsx("div",{className:"flex items-center justify-center h-screen",children:k.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):n!=null&&n.email?k.jsx(y3,{}):k.jsx(g3,{})},b3=()=>k.jsx(r2,{store:_3,children:k.jsx(eR,{children:k.jsx(v3,{})})});zC.createRoot(document.getElementById("root")).render(k.jsx(b3,{}));
